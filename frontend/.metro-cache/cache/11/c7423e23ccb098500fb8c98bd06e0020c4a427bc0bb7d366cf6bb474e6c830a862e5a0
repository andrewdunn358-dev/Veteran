{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://veterans-support-api.onrender.com';\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('auth_user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await fetch(`${API_URL}/api/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password\n          })\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          return {\n            success: false,\n            error: error.detail || 'Login failed'\n          };\n        }\n        const data = await response.json();\n        setToken(data.access_token);\n        setUser(data.user);\n        await AsyncStorage.default.setItem('auth_token', data.access_token);\n        await AsyncStorage.default.setItem('auth_user', JSON.stringify(data.user));\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Login error:', error);\n        return {\n          success: false,\n          error: 'Network error. Please try again.'\n        };\n      }\n    };\n    const logout = async () => {\n      setToken(null);\n      setUser(null);\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('auth_user');\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":117,"map":[[15,2,23,0,"exports"],[15,9,23,0],[15,10,23,0,"AuthProvider"],[15,22,23,0],[15,25,23,0,"AuthProvider"],[15,37,23,0],[16,2,86,0,"exports"],[16,9,86,0],[16,10,86,0,"useAuth"],[16,17,86,0],[16,20,86,0,"useAuth"],[16,27,86,0],[17,2,92,1],[17,6,92,1,"_expoVirtualEnv"],[17,21,92,1],[17,24,92,1,"require"],[17,31,92,1],[17,32,92,1,"_dependencyMap"],[17,46,92,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,2,69],[21,6,2,69,"_reactJsxDevRuntime"],[21,25,2,69],[21,28,2,69,"require"],[21,35,2,69],[21,36,2,69,"_dependencyMap"],[21,50,2,69],[22,2,19,0],[22,8,19,6,"AuthContext"],[22,19,19,17],[22,35,19,20],[22,39,19,20,"createContext"],[22,45,19,33],[22,46,19,33,"createContext"],[22,59,19,33],[22,61,19,63,"undefined"],[22,70,19,72],[22,71,19,73],[23,2,21,0],[23,8,21,6,"API_URL"],[23,15,21,13],[23,18,21,16,"_expoVirtualEnv"],[23,33,21,16],[23,34,21,16,"env"],[23,37,21,16],[23,38,21,16,"EXPO_PUBLIC_BACKEND_URL"],[23,61,21,16],[23,65,21,55],[23,108,21,98],[24,2,23,7],[24,11,23,16,"AuthProvider"],[24,23,23,28,"AuthProvider"],[24,24,23,29],[25,4,23,31,"children"],[26,2,23,65],[26,3,23,66],[26,5,23,68],[27,4,23,68,"_s"],[27,6,23,68],[28,4,24,2],[28,10,24,8],[28,11,24,9,"user"],[28,15,24,13],[28,17,24,15,"setUser"],[28,24,24,22],[28,25,24,23],[28,28,24,26],[28,32,24,26,"useState"],[28,38,24,34],[28,39,24,34,"useState"],[28,47,24,34],[28,49,24,48],[28,53,24,52],[28,54,24,53],[29,4,25,2],[29,10,25,8],[29,11,25,9,"token"],[29,16,25,14],[29,18,25,16,"setToken"],[29,26,25,24],[29,27,25,25],[29,30,25,28],[29,34,25,28,"useState"],[29,40,25,36],[29,41,25,36,"useState"],[29,49,25,36],[29,51,25,52],[29,55,25,56],[29,56,25,57],[30,4,26,2],[30,10,26,8],[30,11,26,9,"isLoading"],[30,20,26,18],[30,22,26,20,"setIsLoading"],[30,34,26,32],[30,35,26,33],[30,38,26,36],[30,42,26,36,"useState"],[30,48,26,44],[30,49,26,44,"useState"],[30,57,26,44],[30,59,26,45],[30,63,26,49],[30,64,26,50],[31,4,28,2],[31,8,28,2,"useEffect"],[31,14,28,11],[31,15,28,11,"useEffect"],[31,24,28,11],[31,26,28,12],[31,32,28,18],[32,6,29,4,"loadStoredAuth"],[32,20,29,18],[32,21,29,19],[32,22,29,20],[33,4,30,2],[33,5,30,3],[33,7,30,5],[33,9,30,7],[33,10,30,8],[34,4,32,2],[34,10,32,8,"loadStoredAuth"],[34,24,32,22],[34,27,32,25],[34,33,32,25,"loadStoredAuth"],[34,34,32,25],[34,39,32,37],[35,6,33,4],[35,10,33,8],[36,8,34,6],[36,14,34,12,"storedToken"],[36,25,34,23],[36,28,34,26],[36,34,34,32,"AsyncStorage"],[36,46,34,44],[36,47,34,44,"default"],[36,54,34,44],[36,55,34,45,"getItem"],[36,62,34,52],[36,63,34,53],[36,75,34,65],[36,76,34,66],[37,8,35,6],[37,14,35,12,"storedUser"],[37,24,35,22],[37,27,35,25],[37,33,35,31,"AsyncStorage"],[37,45,35,43],[37,46,35,43,"default"],[37,53,35,43],[37,54,35,44,"getItem"],[37,61,35,51],[37,62,35,52],[37,73,35,63],[37,74,35,64],[38,8,36,6],[38,12,36,10,"storedToken"],[38,23,36,21],[38,27,36,25,"storedUser"],[38,37,36,35],[38,39,36,37],[39,10,37,8,"setToken"],[39,18,37,16],[39,19,37,17,"storedToken"],[39,30,37,28],[39,31,37,29],[40,10,38,8,"setUser"],[40,17,38,15],[40,18,38,16,"JSON"],[40,22,38,20],[40,23,38,21,"parse"],[40,28,38,26],[40,29,38,27,"storedUser"],[40,39,38,37],[40,40,38,38],[40,41,38,39],[41,8,39,6],[42,6,40,4],[42,7,40,5],[42,8,40,6],[42,15,40,13,"error"],[42,20,40,18],[42,22,40,20],[43,8,41,6,"console"],[43,15,41,13],[43,16,41,14,"error"],[43,21,41,19],[43,22,41,20],[43,43,41,41],[43,45,41,43,"error"],[43,50,41,48],[43,51,41,49],[44,6,42,4],[44,7,42,5],[44,16,42,14],[45,8,43,6,"setIsLoading"],[45,20,43,18],[45,21,43,19],[45,26,43,24],[45,27,43,25],[46,6,44,4],[47,4,45,2],[47,5,45,3],[48,4,47,2],[48,10,47,8,"login"],[48,15,47,13],[48,18,47,16],[48,24,47,16,"login"],[48,25,47,23,"email"],[48,30,47,36],[48,32,47,38,"password"],[48,40,47,54],[48,45,47,59],[49,6,48,4],[49,10,48,8],[50,8,49,6],[50,14,49,12,"response"],[50,22,49,20],[50,25,49,23],[50,31,49,29,"fetch"],[50,36,49,34],[50,37,49,35],[50,40,49,38,"API_URL"],[50,47,49,45],[50,64,49,62],[50,66,49,64],[51,10,50,8,"method"],[51,16,50,14],[51,18,50,16],[51,24,50,22],[52,10,51,8,"headers"],[52,17,51,15],[52,19,51,17],[53,12,51,19],[53,26,51,33],[53,28,51,35],[54,10,51,54],[54,11,51,55],[55,10,52,8,"body"],[55,14,52,12],[55,16,52,14,"JSON"],[55,20,52,18],[55,21,52,19,"stringify"],[55,30,52,28],[55,31,52,29],[56,12,52,31,"email"],[56,17,52,36],[57,12,52,38,"password"],[58,10,52,47],[58,11,52,48],[59,8,53,6],[59,9,53,7],[59,10,53,8],[60,8,55,6],[60,12,55,10],[60,13,55,11,"response"],[60,21,55,19],[60,22,55,20,"ok"],[60,24,55,22],[60,26,55,24],[61,10,56,8],[61,16,56,14,"error"],[61,21,56,19],[61,24,56,22],[61,30,56,28,"response"],[61,38,56,36],[61,39,56,37,"json"],[61,43,56,41],[61,44,56,42],[61,45,56,43],[62,10,57,8],[62,17,57,15],[63,12,57,17,"success"],[63,19,57,24],[63,21,57,26],[63,26,57,31],[64,12,57,33,"error"],[64,17,57,38],[64,19,57,40,"error"],[64,24,57,45],[64,25,57,46,"detail"],[64,31,57,52],[64,35,57,56],[65,10,57,71],[65,11,57,72],[66,8,58,6],[67,8,60,6],[67,14,60,12,"data"],[67,18,60,16],[67,21,60,19],[67,27,60,25,"response"],[67,35,60,33],[67,36,60,34,"json"],[67,40,60,38],[67,41,60,39],[67,42,60,40],[68,8,61,6,"setToken"],[68,16,61,14],[68,17,61,15,"data"],[68,21,61,19],[68,22,61,20,"access_token"],[68,34,61,32],[68,35,61,33],[69,8,62,6,"setUser"],[69,15,62,13],[69,16,62,14,"data"],[69,20,62,18],[69,21,62,19,"user"],[69,25,62,23],[69,26,62,24],[70,8,63,6],[70,14,63,12,"AsyncStorage"],[70,26,63,24],[70,27,63,24,"default"],[70,34,63,24],[70,35,63,25,"setItem"],[70,42,63,32],[70,43,63,33],[70,55,63,45],[70,57,63,47,"data"],[70,61,63,51],[70,62,63,52,"access_token"],[70,74,63,64],[70,75,63,65],[71,8,64,6],[71,14,64,12,"AsyncStorage"],[71,26,64,24],[71,27,64,24,"default"],[71,34,64,24],[71,35,64,25,"setItem"],[71,42,64,32],[71,43,64,33],[71,54,64,44],[71,56,64,46,"JSON"],[71,60,64,50],[71,61,64,51,"stringify"],[71,70,64,60],[71,71,64,61,"data"],[71,75,64,65],[71,76,64,66,"user"],[71,80,64,70],[71,81,64,71],[71,82,64,72],[72,8,65,6],[72,15,65,13],[73,10,65,15,"success"],[73,17,65,22],[73,19,65,24],[74,8,65,29],[74,9,65,30],[75,6,66,4],[75,7,66,5],[75,8,66,6],[75,15,66,13,"error"],[75,20,66,18],[75,22,66,20],[76,8,67,6,"console"],[76,15,67,13],[76,16,67,14,"error"],[76,21,67,19],[76,22,67,20],[76,36,67,34],[76,38,67,36,"error"],[76,43,67,41],[76,44,67,42],[77,8,68,6],[77,15,68,13],[78,10,68,15,"success"],[78,17,68,22],[78,19,68,24],[78,24,68,29],[79,10,68,31,"error"],[79,15,68,36],[79,17,68,38],[80,8,68,73],[80,9,68,74],[81,6,69,4],[82,4,70,2],[82,5,70,3],[83,4,72,2],[83,10,72,8,"logout"],[83,16,72,14],[83,19,72,17],[83,25,72,17,"logout"],[83,26,72,17],[83,31,72,29],[84,6,73,4,"setToken"],[84,14,73,12],[84,15,73,13],[84,19,73,17],[84,20,73,18],[85,6,74,4,"setUser"],[85,13,74,11],[85,14,74,12],[85,18,74,16],[85,19,74,17],[86,6,75,4],[86,12,75,10,"AsyncStorage"],[86,24,75,22],[86,25,75,22,"default"],[86,32,75,22],[86,33,75,23,"removeItem"],[86,43,75,33],[86,44,75,34],[86,56,75,46],[86,57,75,47],[87,6,76,4],[87,12,76,10,"AsyncStorage"],[87,24,76,22],[87,25,76,22,"default"],[87,32,76,22],[87,33,76,23,"removeItem"],[87,43,76,33],[87,44,76,34],[87,55,76,45],[87,56,76,46],[88,4,77,2],[88,5,77,3],[89,4,79,2],[89,24,80,4],[89,28,80,4,"_reactJsxDevRuntime"],[89,47,80,4],[89,48,80,4,"jsxDEV"],[89,54,80,4],[89,56,80,5,"AuthContext"],[89,67,80,16],[89,68,80,17,"Provider"],[89,76,80,25],[90,6,80,26,"value"],[90,11,80,31],[90,13,80,33],[91,8,80,35,"user"],[91,12,80,39],[92,8,80,41,"token"],[92,13,80,46],[93,8,80,48,"isLoading"],[93,17,80,57],[94,8,80,59,"login"],[94,13,80,64],[95,8,80,66,"logout"],[96,6,80,73],[96,7,80,75],[97,6,80,75,"children"],[97,14,80,75],[97,16,81,7,"children"],[98,4,81,15],[99,6,81,15,"fileName"],[99,14,81,15],[99,16,81,15,"_jsxFileName"],[99,28,81,15],[100,6,81,15,"lineNumber"],[100,16,81,15],[101,6,81,15,"columnNumber"],[101,18,81,15],[102,4,81,15],[102,11,82,26],[102,12,82,27],[103,2,84,0],[104,2,84,1,"_s"],[104,4,84,1],[104,5,23,16,"AuthProvider"],[104,17,23,28],[105,2,23,28,"_c"],[105,4,23,28],[105,7,23,16,"AuthProvider"],[105,19,23,28],[106,2,86,7],[106,11,86,16,"useAuth"],[106,18,86,23,"useAuth"],[106,19,86,23],[106,21,86,26],[107,4,86,26,"_s2"],[107,7,86,26],[108,4,87,2],[108,10,87,8,"context"],[108,17,87,15],[108,20,87,18],[108,24,87,18,"useContext"],[108,30,87,28],[108,31,87,28,"useContext"],[108,41,87,28],[108,43,87,29,"AuthContext"],[108,54,87,40],[108,55,87,41],[109,4,88,2],[109,8,88,6,"context"],[109,15,88,13],[109,20,88,18,"undefined"],[109,29,88,27],[109,31,88,29],[110,6,89,4],[110,12,89,10],[110,16,89,14,"Error"],[110,21,89,19],[110,22,89,20],[110,67,89,65],[110,68,89,66],[111,4,90,2],[112,4,91,2],[112,11,91,9,"context"],[112,18,91,16],[113,2,92,0],[114,2,92,1,"_s2"],[114,5,92,1],[114,6,86,16,"useAuth"],[114,13,86,23],[115,2,86,23],[115,6,86,23,"_c"],[115,8,86,23],[116,2,86,23,"$RefreshReg$"],[116,14,86,23],[116,15,86,23,"_c"],[116,17,86,23],[117,0,86,23],[117,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCsB;YCK;GDE;yBEE;GFa;gBGE;GHuB;iBIE;GJK;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}