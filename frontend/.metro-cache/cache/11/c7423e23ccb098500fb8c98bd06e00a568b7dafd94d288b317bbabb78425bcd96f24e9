{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // PRODUCTION URL - hardcoded to ensure correct backend\n  const API_URL = 'https://veterans-support-api.onrender.com';\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('auth_user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await fetch(`${API_URL}/api/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password\n          })\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          return {\n            success: false,\n            error: error.detail || 'Login failed'\n          };\n        }\n        const data = await response.json();\n        setToken(data.access_token);\n        setUser(data.user);\n        await AsyncStorage.default.setItem('auth_token', data.access_token);\n        await AsyncStorage.default.setItem('auth_user', JSON.stringify(data.user));\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Login error:', error);\n        return {\n          success: false,\n          error: 'Network error. Please try again.'\n        };\n      }\n    };\n    const logout = async () => {\n      setToken(null);\n      setUser(null);\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('auth_user');\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":118,"map":[[15,2,24,0,"exports"],[15,9,24,0],[15,10,24,0,"AuthProvider"],[15,22,24,0],[15,25,24,0,"AuthProvider"],[15,37,24,0],[16,2,87,0,"exports"],[16,9,87,0],[16,10,87,0,"useAuth"],[16,17,87,0],[16,20,87,0,"useAuth"],[16,27,87,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,2,69],[20,6,2,69,"_reactJsxDevRuntime"],[20,25,2,69],[20,28,2,69,"require"],[20,35,2,69],[20,36,2,69,"_dependencyMap"],[20,50,2,69],[21,2,19,0],[21,8,19,6,"AuthContext"],[21,19,19,17],[21,35,19,20],[21,39,19,20,"createContext"],[21,45,19,33],[21,46,19,33,"createContext"],[21,59,19,33],[21,61,19,63,"undefined"],[21,70,19,72],[21,71,19,73],[23,2,21,0],[24,2,22,0],[24,8,22,6,"API_URL"],[24,15,22,13],[24,18,22,16],[24,61,22,59],[25,2,24,7],[25,11,24,16,"AuthProvider"],[25,23,24,28,"AuthProvider"],[25,24,24,29],[26,4,24,31,"children"],[27,2,24,65],[27,3,24,66],[27,5,24,68],[28,4,24,68,"_s"],[28,6,24,68],[29,4,25,2],[29,10,25,8],[29,11,25,9,"user"],[29,15,25,13],[29,17,25,15,"setUser"],[29,24,25,22],[29,25,25,23],[29,28,25,26],[29,32,25,26,"useState"],[29,38,25,34],[29,39,25,34,"useState"],[29,47,25,34],[29,49,25,48],[29,53,25,52],[29,54,25,53],[30,4,26,2],[30,10,26,8],[30,11,26,9,"token"],[30,16,26,14],[30,18,26,16,"setToken"],[30,26,26,24],[30,27,26,25],[30,30,26,28],[30,34,26,28,"useState"],[30,40,26,36],[30,41,26,36,"useState"],[30,49,26,36],[30,51,26,52],[30,55,26,56],[30,56,26,57],[31,4,27,2],[31,10,27,8],[31,11,27,9,"isLoading"],[31,20,27,18],[31,22,27,20,"setIsLoading"],[31,34,27,32],[31,35,27,33],[31,38,27,36],[31,42,27,36,"useState"],[31,48,27,44],[31,49,27,44,"useState"],[31,57,27,44],[31,59,27,45],[31,63,27,49],[31,64,27,50],[32,4,29,2],[32,8,29,2,"useEffect"],[32,14,29,11],[32,15,29,11,"useEffect"],[32,24,29,11],[32,26,29,12],[32,32,29,18],[33,6,30,4,"loadStoredAuth"],[33,20,30,18],[33,21,30,19],[33,22,30,20],[34,4,31,2],[34,5,31,3],[34,7,31,5],[34,9,31,7],[34,10,31,8],[35,4,33,2],[35,10,33,8,"loadStoredAuth"],[35,24,33,22],[35,27,33,25],[35,33,33,25,"loadStoredAuth"],[35,34,33,25],[35,39,33,37],[36,6,34,4],[36,10,34,8],[37,8,35,6],[37,14,35,12,"storedToken"],[37,25,35,23],[37,28,35,26],[37,34,35,32,"AsyncStorage"],[37,46,35,44],[37,47,35,44,"default"],[37,54,35,44],[37,55,35,45,"getItem"],[37,62,35,52],[37,63,35,53],[37,75,35,65],[37,76,35,66],[38,8,36,6],[38,14,36,12,"storedUser"],[38,24,36,22],[38,27,36,25],[38,33,36,31,"AsyncStorage"],[38,45,36,43],[38,46,36,43,"default"],[38,53,36,43],[38,54,36,44,"getItem"],[38,61,36,51],[38,62,36,52],[38,73,36,63],[38,74,36,64],[39,8,37,6],[39,12,37,10,"storedToken"],[39,23,37,21],[39,27,37,25,"storedUser"],[39,37,37,35],[39,39,37,37],[40,10,38,8,"setToken"],[40,18,38,16],[40,19,38,17,"storedToken"],[40,30,38,28],[40,31,38,29],[41,10,39,8,"setUser"],[41,17,39,15],[41,18,39,16,"JSON"],[41,22,39,20],[41,23,39,21,"parse"],[41,28,39,26],[41,29,39,27,"storedUser"],[41,39,39,37],[41,40,39,38],[41,41,39,39],[42,8,40,6],[43,6,41,4],[43,7,41,5],[43,8,41,6],[43,15,41,13,"error"],[43,20,41,18],[43,22,41,20],[44,8,42,6,"console"],[44,15,42,13],[44,16,42,14,"error"],[44,21,42,19],[44,22,42,20],[44,43,42,41],[44,45,42,43,"error"],[44,50,42,48],[44,51,42,49],[45,6,43,4],[45,7,43,5],[45,16,43,14],[46,8,44,6,"setIsLoading"],[46,20,44,18],[46,21,44,19],[46,26,44,24],[46,27,44,25],[47,6,45,4],[48,4,46,2],[48,5,46,3],[49,4,48,2],[49,10,48,8,"login"],[49,15,48,13],[49,18,48,16],[49,24,48,16,"login"],[49,25,48,23,"email"],[49,30,48,36],[49,32,48,38,"password"],[49,40,48,54],[49,45,48,59],[50,6,49,4],[50,10,49,8],[51,8,50,6],[51,14,50,12,"response"],[51,22,50,20],[51,25,50,23],[51,31,50,29,"fetch"],[51,36,50,34],[51,37,50,35],[51,40,50,38,"API_URL"],[51,47,50,45],[51,64,50,62],[51,66,50,64],[52,10,51,8,"method"],[52,16,51,14],[52,18,51,16],[52,24,51,22],[53,10,52,8,"headers"],[53,17,52,15],[53,19,52,17],[54,12,52,19],[54,26,52,33],[54,28,52,35],[55,10,52,54],[55,11,52,55],[56,10,53,8,"body"],[56,14,53,12],[56,16,53,14,"JSON"],[56,20,53,18],[56,21,53,19,"stringify"],[56,30,53,28],[56,31,53,29],[57,12,53,31,"email"],[57,17,53,36],[58,12,53,38,"password"],[59,10,53,47],[59,11,53,48],[60,8,54,6],[60,9,54,7],[60,10,54,8],[61,8,56,6],[61,12,56,10],[61,13,56,11,"response"],[61,21,56,19],[61,22,56,20,"ok"],[61,24,56,22],[61,26,56,24],[62,10,57,8],[62,16,57,14,"error"],[62,21,57,19],[62,24,57,22],[62,30,57,28,"response"],[62,38,57,36],[62,39,57,37,"json"],[62,43,57,41],[62,44,57,42],[62,45,57,43],[63,10,58,8],[63,17,58,15],[64,12,58,17,"success"],[64,19,58,24],[64,21,58,26],[64,26,58,31],[65,12,58,33,"error"],[65,17,58,38],[65,19,58,40,"error"],[65,24,58,45],[65,25,58,46,"detail"],[65,31,58,52],[65,35,58,56],[66,10,58,71],[66,11,58,72],[67,8,59,6],[68,8,61,6],[68,14,61,12,"data"],[68,18,61,16],[68,21,61,19],[68,27,61,25,"response"],[68,35,61,33],[68,36,61,34,"json"],[68,40,61,38],[68,41,61,39],[68,42,61,40],[69,8,62,6,"setToken"],[69,16,62,14],[69,17,62,15,"data"],[69,21,62,19],[69,22,62,20,"access_token"],[69,34,62,32],[69,35,62,33],[70,8,63,6,"setUser"],[70,15,63,13],[70,16,63,14,"data"],[70,20,63,18],[70,21,63,19,"user"],[70,25,63,23],[70,26,63,24],[71,8,64,6],[71,14,64,12,"AsyncStorage"],[71,26,64,24],[71,27,64,24,"default"],[71,34,64,24],[71,35,64,25,"setItem"],[71,42,64,32],[71,43,64,33],[71,55,64,45],[71,57,64,47,"data"],[71,61,64,51],[71,62,64,52,"access_token"],[71,74,64,64],[71,75,64,65],[72,8,65,6],[72,14,65,12,"AsyncStorage"],[72,26,65,24],[72,27,65,24,"default"],[72,34,65,24],[72,35,65,25,"setItem"],[72,42,65,32],[72,43,65,33],[72,54,65,44],[72,56,65,46,"JSON"],[72,60,65,50],[72,61,65,51,"stringify"],[72,70,65,60],[72,71,65,61,"data"],[72,75,65,65],[72,76,65,66,"user"],[72,80,65,70],[72,81,65,71],[72,82,65,72],[73,8,66,6],[73,15,66,13],[74,10,66,15,"success"],[74,17,66,22],[74,19,66,24],[75,8,66,29],[75,9,66,30],[76,6,67,4],[76,7,67,5],[76,8,67,6],[76,15,67,13,"error"],[76,20,67,18],[76,22,67,20],[77,8,68,6,"console"],[77,15,68,13],[77,16,68,14,"error"],[77,21,68,19],[77,22,68,20],[77,36,68,34],[77,38,68,36,"error"],[77,43,68,41],[77,44,68,42],[78,8,69,6],[78,15,69,13],[79,10,69,15,"success"],[79,17,69,22],[79,19,69,24],[79,24,69,29],[80,10,69,31,"error"],[80,15,69,36],[80,17,69,38],[81,8,69,73],[81,9,69,74],[82,6,70,4],[83,4,71,2],[83,5,71,3],[84,4,73,2],[84,10,73,8,"logout"],[84,16,73,14],[84,19,73,17],[84,25,73,17,"logout"],[84,26,73,17],[84,31,73,29],[85,6,74,4,"setToken"],[85,14,74,12],[85,15,74,13],[85,19,74,17],[85,20,74,18],[86,6,75,4,"setUser"],[86,13,75,11],[86,14,75,12],[86,18,75,16],[86,19,75,17],[87,6,76,4],[87,12,76,10,"AsyncStorage"],[87,24,76,22],[87,25,76,22,"default"],[87,32,76,22],[87,33,76,23,"removeItem"],[87,43,76,33],[87,44,76,34],[87,56,76,46],[87,57,76,47],[88,6,77,4],[88,12,77,10,"AsyncStorage"],[88,24,77,22],[88,25,77,22,"default"],[88,32,77,22],[88,33,77,23,"removeItem"],[88,43,77,33],[88,44,77,34],[88,55,77,45],[88,56,77,46],[89,4,78,2],[89,5,78,3],[90,4,80,2],[90,24,81,4],[90,28,81,4,"_reactJsxDevRuntime"],[90,47,81,4],[90,48,81,4,"jsxDEV"],[90,54,81,4],[90,56,81,5,"AuthContext"],[90,67,81,16],[90,68,81,17,"Provider"],[90,76,81,25],[91,6,81,26,"value"],[91,11,81,31],[91,13,81,33],[92,8,81,35,"user"],[92,12,81,39],[93,8,81,41,"token"],[93,13,81,46],[94,8,81,48,"isLoading"],[94,17,81,57],[95,8,81,59,"login"],[95,13,81,64],[96,8,81,66,"logout"],[97,6,81,73],[97,7,81,75],[98,6,81,75,"children"],[98,14,81,75],[98,16,82,7,"children"],[99,4,82,15],[100,6,82,15,"fileName"],[100,14,82,15],[100,16,82,15,"_jsxFileName"],[100,28,82,15],[101,6,82,15,"lineNumber"],[101,16,82,15],[102,6,82,15,"columnNumber"],[102,18,82,15],[103,4,82,15],[103,11,83,26],[103,12,83,27],[104,2,85,0],[105,2,85,1,"_s"],[105,4,85,1],[105,5,24,16,"AuthProvider"],[105,17,24,28],[106,2,24,28,"_c"],[106,4,24,28],[106,7,24,16,"AuthProvider"],[106,19,24,28],[107,2,87,7],[107,11,87,16,"useAuth"],[107,18,87,23,"useAuth"],[107,19,87,23],[107,21,87,26],[108,4,87,26,"_s2"],[108,7,87,26],[109,4,88,2],[109,10,88,8,"context"],[109,17,88,15],[109,20,88,18],[109,24,88,18,"useContext"],[109,30,88,28],[109,31,88,28,"useContext"],[109,41,88,28],[109,43,88,29,"AuthContext"],[109,54,88,40],[109,55,88,41],[110,4,89,2],[110,8,89,6,"context"],[110,15,89,13],[110,20,89,18,"undefined"],[110,29,89,27],[110,31,89,29],[111,6,90,4],[111,12,90,10],[111,16,90,14,"Error"],[111,21,90,19],[111,22,90,20],[111,67,90,65],[111,68,90,66],[112,4,91,2],[113,4,92,2],[113,11,92,9,"context"],[113,18,92,16],[114,2,93,0],[115,2,93,1,"_s2"],[115,5,93,1],[115,6,87,16,"useAuth"],[115,13,87,23],[116,2,87,23],[116,6,87,23,"_c"],[116,8,87,23],[117,2,87,23,"$RefreshReg$"],[117,14,87,23],[117,15,87,23,"_c"],[117,17,87,23],[118,0,87,23],[118,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCuB;YCK;GDE;yBEE;GFa;gBGE;GHuB;iBIE;GJK;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}