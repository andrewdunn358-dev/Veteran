{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function({children:e}){const[o,l]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[_,w]=(0,t.useState)(!0);(0,t.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await s.default.getItem('auth_token'),t=await s.default.getItem('auth_user');e&&t&&(f(e),l(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{w(!1)}};return(0,n.jsx)(u.Provider,{value:{user:o,token:h,isLoading:_,login:async(e,t)=>{try{const o=await fetch(`${c}/api/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,password:t})});if(!o.ok)return{success:!1,error:(await o.json()).detail||'Login failed'};const n=await o.json();return f(n.access_token),l(n.user),await s.default.setItem('auth_token',n.access_token),await s.default.setItem('auth_user',JSON.stringify(n.user)),{success:!0}}catch(e){return console.error('Login error:',e),{success:!1,error:'Network error. Please try again.'}}},logout:async()=>{f(null),l(null),await s.default.removeItem('auth_token'),await s.default.removeItem('auth_user')}},children:e})},_e.useAuth=function(){const e=(0,t.useContext)(u);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var e,t=r(d[0]),o=r(d[1]),s=(e=o)&&e.__esModule?e:{default:e},n=r(d[2]);const u=(0,t.createContext)(void 0),c=process.env.EXPO_PUBLIC_BACKEND_URL||'https://veterans-support-api.onrender.com'});","lineCount":1,"map":[[1,92,23,0,"_e"],[1,95,23,0,"AuthProvider"],[1,108,23,7],[1,118,23,29,"children"],[1,127,23,31,"children"],[1,131,24,2],[1,137,24,9,"user"],[1,139,24,15,"setUser"],[1,143,24,26],[1,145,24,26,"useState"],[1,147,24,34,"useState"],[1,157,24,48],[1,164,25,9,"token"],[1,166,25,16,"setToken"],[1,170,25,28],[1,172,25,28,"useState"],[1,174,25,36,"useState"],[1,184,25,52],[1,191,26,9,"isLoading"],[1,193,26,20,"setIsLoading"],[1,197,26,36],[1,199,26,36,"useState"],[1,201,26,44,"useState"],[1,212,26,45],[1,216,28,2],[1,218,28,2,"useEffect"],[1,220,28,11,"useEffect"],[1,231,28,12],[1,236,29,4,"loadStoredAuth"],[1,241,30,5],[1,245,32,2],[1,251,32,8,"loadStoredAuth"],[1,253,32,25,"async"],[1,263,33,4],[1,267,34,6],[1,273,34,12,"storedToken"],[1,281,34,32,"AsyncStorage"],[1,283,34,44,"default"],[1,291,34,45,"getItem"],[1,299,34,53],[1,313,35,12,"storedUser"],[1,321,35,31,"AsyncStorage"],[1,323,35,43,"default"],[1,331,35,44,"getItem"],[1,339,35,52],[1,352,36,10,"storedToken"],[1,355,36,25,"storedUser"],[1,359,37,8,"setToken"],[1,361,37,17,"storedToken"],[1,364,38,8,"setUser"],[1,366,38,16,"JSON"],[1,371,38,21,"parse"],[1,377,38,27,"storedUser"],[1,381,40,4],[1,382,40,6],[1,388,40,13,"error"],[1,391,41,6,"console"],[1,399,41,14,"error"],[1,405,41,20],[1,427,41,43,"error"],[1,429,42,4],[1,430,42,5],[1,438,43,6,"setIsLoading"],[1,441,43,19],[1,443,44,4],[1,446,79,2],[1,453,80,4],[1,455,80,4,"_reactJsxRuntime"],[1,457,80,4,"jsx"],[1,462,80,5,"AuthContext"],[1,464,80,17,"Provider"],[1,473,80,25],[1,474,80,26,"value"],[1,480,80,33],[1,481,80,35,"user"],[1,488,80,41,"token"],[1,496,80,48,"isLoading"],[1,508,80,59,"login"],[1,514,47,16,"async"],[1,520,47,23,"email"],[1,522,47,38,"password"],[1,527,48,4],[1,531,49,6],[1,537,49,12,"response"],[1,545,49,29,"fetch"],[1,551,49,35],[1,554,49,38,"API_URL"],[1,573,49,64],[1,574,50,8,"method"],[1,581,50,16],[1,588,51,8,"headers"],[1,596,51,17],[1,597,51,19],[1,612,51,35],[1,632,52,8,"body"],[1,637,52,14,"JSON"],[1,642,52,19,"stringify"],[1,652,52,29],[1,653,52,31,"email"],[1,661,52,38,"password"],[1,676,55,6],[1,680,55,11,"response"],[1,682,55,20,"ok"],[1,685,57,8],[1,691,57,15],[1,692,57,17,"success"],[1,701,57,26],[1,703,57,33,"error"],[1,716,56,28,"response"],[1,718,56,37,"json"],[1,726,57,46,"detail"],[1,734,57,56],[1,750,60,6],[1,756,60,12,"data"],[1,764,60,25,"response"],[1,766,60,34,"json"],[1,773,65,6],[1,780,61,6,"setToken"],[1,782,61,15,"data"],[1,784,61,20,"access_token"],[1,798,62,6,"setUser"],[1,800,62,14,"data"],[1,802,62,19,"user"],[1,814,63,12,"AsyncStorage"],[1,816,63,24,"default"],[1,824,63,25,"setItem"],[1,832,63,33],[1,845,63,47,"data"],[1,847,63,52,"access_token"],[1,867,64,12,"AsyncStorage"],[1,869,64,24,"default"],[1,877,64,25,"setItem"],[1,885,64,33],[1,897,64,46,"JSON"],[1,902,64,51,"stringify"],[1,912,64,61,"data"],[1,914,64,66,"user"],[1,921,65,13],[1,922,65,15,"success"],[1,931,65,24],[1,933,66,4],[1,934,66,6],[1,940,66,13,"error"],[1,943,68,6],[1,950,67,6,"console"],[1,958,67,14,"error"],[1,964,67,20],[1,979,67,36,"error"],[1,982,68,13],[1,983,68,15,"success"],[1,992,68,24],[1,994,68,31,"error"],[1,1000,68,38],[1,1035,69,4],[1,1038,80,66,"logout"],[1,1045,72,17,"async"],[1,1055,73,4,"setToken"],[1,1057,73,13],[1,1063,74,4,"setUser"],[1,1065,74,12],[1,1077,75,10,"AsyncStorage"],[1,1079,75,22,"default"],[1,1087,75,23,"removeItem"],[1,1098,75,34],[1,1118,76,10,"AsyncStorage"],[1,1120,76,22,"default"],[1,1128,76,23,"removeItem"],[1,1139,76,34],[1,1154,80,75,"children"],[1,1163,81,7,"children"],[1,1166,84,0],[1,1168,86,0,"_e"],[1,1171,86,0,"useAuth"],[1,1179,86,7],[1,1190,87,2],[1,1196,87,8,"context"],[1,1199,87,18],[1,1201,87,18,"useContext"],[1,1203,87,28,"useContext"],[1,1215,87,29,"AuthContext"],[1,1218,88,2],[1,1226,88,18,"undefined"],[1,1230,88,6,"context"],[1,1232,89,4],[1,1238,89,10],[1,1242,89,14,"Error"],[1,1248,89,20],[1,1295,91,2],[1,1302,91,9,"context"],[1,1303,92,0],[1,1305,1,0],[1,1309],[1,1311,1,0,"_react"],[1,1313,1,0,"r"],[1,1315,1,0,"d"],[1,1317,1,0],[1,1321,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1323,2,0,"r"],[1,1325,2,0,"d"],[1,1327,2,0],[1,1331,2,0,"AsyncStorage"],[1,1334],[1,1336,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1340],[1,1367,2,69,"_reactJsxRuntime"],[1,1369,2,69,"r"],[1,1371,2,69,"d"],[1,1373,2,69],[1,1377,19,0],[1,1383,19,6,"AuthContext"],[1,1386,19,20],[1,1388,19,20,"createContext"],[1,1390,19,33,"createContext"],[1,1410,19,63,"undefined"],[1,1413,21,6,"API_URL"],[1,1415,21,16,"process"],[1,1423,21,24,"env"],[1,1427,21,28,"EXPO_PUBLIC_BACKEND_URL"],[1,1452,21,55],[1,1495,92,1],[1,1498]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCsB;YCK;GDE;yBEE;GFa;gBGE;GHuB;iBIE;GJK;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}