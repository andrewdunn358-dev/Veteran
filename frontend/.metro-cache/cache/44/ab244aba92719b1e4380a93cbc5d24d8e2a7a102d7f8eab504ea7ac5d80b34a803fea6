{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useCMSContent = useCMSContent;\n  exports.getCardsByType = getCardsByType;\n  exports.getSection = getSection;\n  var _react = require(_dependencyMap[0], \"react\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  function useCMSContent(pageSlug) {\n    const [page, setPage] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchContent = (0, _react.useCallback)(async () => {\n      if (!pageSlug) return;\n      setIsLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${API_URL}/api/cms/pages/${pageSlug}`);\n        if (response.status === 404) {\n          // Page not found in CMS - this is not an error, just means no CMS content\n          setPage(null);\n          setIsLoading(false);\n          return;\n        }\n        if (!response.ok) {\n          throw new Error(`Failed to fetch CMS content: ${response.status}`);\n        }\n        const data = await response.json();\n        setPage(data);\n      } catch (err) {\n        console.error('CMS fetch error:', err);\n        setError(err instanceof Error ? err.message : 'Failed to load content');\n        setPage(null);\n      } finally {\n        setIsLoading(false);\n      }\n    }, [pageSlug]);\n    (0, _react.useEffect)(() => {\n      fetchContent();\n    }, [fetchContent]);\n\n    // Extract all sections and cards for convenience\n    const sections = page?.sections || [];\n    const cards = sections.flatMap(s => s.cards || []);\n    return {\n      page,\n      sections,\n      cards,\n      isLoading,\n      error,\n      refetch: fetchContent\n    };\n  }\n\n  // Helper to get cards by section type\n  function getCardsByType(sections, sectionType) {\n    const section = sections.find(s => s.section_type === sectionType);\n    return section?.cards || [];\n  }\n\n  // Helper to get a specific section\n  function getSection(sections, sectionType) {\n    return sections.find(s => s.section_type === sectionType);\n  }\n});","lineCount":68,"map":[[7,2,57,0,"exports"],[7,9,57,0],[7,10,57,0,"useCMSContent"],[7,23,57,0],[7,26,57,0,"useCMSContent"],[7,39,57,0],[8,2,112,0,"exports"],[8,9,112,0],[8,10,112,0,"getCardsByType"],[8,24,112,0],[8,27,112,0,"getCardsByType"],[8,41,112,0],[9,2,118,0,"exports"],[9,9,118,0],[9,10,118,0,"getSection"],[9,20,118,0],[9,23,118,0,"getSection"],[9,33,118,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,3,0],[11,8,3,6,"API_URL"],[11,15,3,13],[11,18,3,16,"process"],[11,25,3,23],[11,26,3,24,"env"],[11,29,3,27],[11,30,3,28,"EXPO_PUBLIC_BACKEND_URL"],[11,53,3,51],[11,57,3,55],[11,59,3,57],[12,2,57,7],[12,11,57,16,"useCMSContent"],[12,24,57,29,"useCMSContent"],[12,25,57,30,"pageSlug"],[12,33,57,46],[12,35,57,69],[13,4,58,2],[13,10,58,8],[13,11,58,9,"page"],[13,15,58,13],[13,17,58,15,"setPage"],[13,24,58,22],[13,25,58,23],[13,28,58,26],[13,32,58,26,"useState"],[13,38,58,34],[13,39,58,34,"useState"],[13,47,58,34],[13,49,58,51],[13,53,58,55],[13,54,58,56],[14,4,59,2],[14,10,59,8],[14,11,59,9,"isLoading"],[14,20,59,18],[14,22,59,20,"setIsLoading"],[14,34,59,32],[14,35,59,33],[14,38,59,36],[14,42,59,36,"useState"],[14,48,59,44],[14,49,59,44,"useState"],[14,57,59,44],[14,59,59,45],[14,63,59,49],[14,64,59,50],[15,4,60,2],[15,10,60,8],[15,11,60,9,"error"],[15,16,60,14],[15,18,60,16,"setError"],[15,26,60,24],[15,27,60,25],[15,30,60,28],[15,34,60,28,"useState"],[15,40,60,36],[15,41,60,36,"useState"],[15,49,60,36],[15,51,60,52],[15,55,60,56],[15,56,60,57],[16,4,62,2],[16,10,62,8,"fetchContent"],[16,22,62,20],[16,25,62,23],[16,29,62,23,"useCallback"],[16,35,62,34],[16,36,62,34,"useCallback"],[16,47,62,34],[16,49,62,35],[16,61,62,47],[17,6,63,4],[17,10,63,8],[17,11,63,9,"pageSlug"],[17,19,63,17],[17,21,63,19],[18,6,65,4,"setIsLoading"],[18,18,65,16],[18,19,65,17],[18,23,65,21],[18,24,65,22],[19,6,66,4,"setError"],[19,14,66,12],[19,15,66,13],[19,19,66,17],[19,20,66,18],[20,6,68,4],[20,10,68,8],[21,8,69,6],[21,14,69,12,"response"],[21,22,69,20],[21,25,69,23],[21,31,69,29,"fetch"],[21,36,69,34],[21,37,69,35],[21,40,69,38,"API_URL"],[21,47,69,45],[21,65,69,63,"pageSlug"],[21,73,69,71],[21,75,69,73],[21,76,69,74],[22,8,71,6],[22,12,71,10,"response"],[22,20,71,18],[22,21,71,19,"status"],[22,27,71,25],[22,32,71,30],[22,35,71,33],[22,37,71,35],[23,10,72,8],[24,10,73,8,"setPage"],[24,17,73,15],[24,18,73,16],[24,22,73,20],[24,23,73,21],[25,10,74,8,"setIsLoading"],[25,22,74,20],[25,23,74,21],[25,28,74,26],[25,29,74,27],[26,10,75,8],[27,8,76,6],[28,8,78,6],[28,12,78,10],[28,13,78,11,"response"],[28,21,78,19],[28,22,78,20,"ok"],[28,24,78,22],[28,26,78,24],[29,10,79,8],[29,16,79,14],[29,20,79,18,"Error"],[29,25,79,23],[29,26,79,24],[29,58,79,56,"response"],[29,66,79,64],[29,67,79,65,"status"],[29,73,79,71],[29,75,79,73],[29,76,79,74],[30,8,80,6],[31,8,82,6],[31,14,82,12,"data"],[31,18,82,16],[31,21,82,19],[31,27,82,25,"response"],[31,35,82,33],[31,36,82,34,"json"],[31,40,82,38],[31,41,82,39],[31,42,82,40],[32,8,83,6,"setPage"],[32,15,83,13],[32,16,83,14,"data"],[32,20,83,18],[32,21,83,19],[33,6,84,4],[33,7,84,5],[33,8,84,6],[33,15,84,13,"err"],[33,18,84,16],[33,20,84,18],[34,8,85,6,"console"],[34,15,85,13],[34,16,85,14,"error"],[34,21,85,19],[34,22,85,20],[34,40,85,38],[34,42,85,40,"err"],[34,45,85,43],[34,46,85,44],[35,8,86,6,"setError"],[35,16,86,14],[35,17,86,15,"err"],[35,20,86,18],[35,32,86,30,"Error"],[35,37,86,35],[35,40,86,38,"err"],[35,43,86,41],[35,44,86,42,"message"],[35,51,86,49],[35,54,86,52],[35,78,86,76],[35,79,86,77],[36,8,87,6,"setPage"],[36,15,87,13],[36,16,87,14],[36,20,87,18],[36,21,87,19],[37,6,88,4],[37,7,88,5],[37,16,88,14],[38,8,89,6,"setIsLoading"],[38,20,89,18],[38,21,89,19],[38,26,89,24],[38,27,89,25],[39,6,90,4],[40,4,91,2],[40,5,91,3],[40,7,91,5],[40,8,91,6,"pageSlug"],[40,16,91,14],[40,17,91,15],[40,18,91,16],[41,4,93,2],[41,8,93,2,"useEffect"],[41,14,93,11],[41,15,93,11,"useEffect"],[41,24,93,11],[41,26,93,12],[41,32,93,18],[42,6,94,4,"fetchContent"],[42,18,94,16],[42,19,94,17],[42,20,94,18],[43,4,95,2],[43,5,95,3],[43,7,95,5],[43,8,95,6,"fetchContent"],[43,20,95,18],[43,21,95,19],[43,22,95,20],[45,4,97,2],[46,4,98,2],[46,10,98,8,"sections"],[46,18,98,16],[46,21,98,19,"page"],[46,25,98,23],[46,27,98,25,"sections"],[46,35,98,33],[46,39,98,37],[46,41,98,39],[47,4,99,2],[47,10,99,8,"cards"],[47,15,99,13],[47,18,99,16,"sections"],[47,26,99,24],[47,27,99,25,"flatMap"],[47,34,99,32],[47,35,99,33,"s"],[47,36,99,34],[47,40,99,38,"s"],[47,41,99,39],[47,42,99,40,"cards"],[47,47,99,45],[47,51,99,49],[47,53,99,51],[47,54,99,52],[48,4,101,2],[48,11,101,9],[49,6,102,4,"page"],[49,10,102,8],[50,6,103,4,"sections"],[50,14,103,12],[51,6,104,4,"cards"],[51,11,104,9],[52,6,105,4,"isLoading"],[52,15,105,13],[53,6,106,4,"error"],[53,11,106,9],[54,6,107,4,"refetch"],[54,13,107,11],[54,15,107,13,"fetchContent"],[55,4,108,2],[55,5,108,3],[56,2,109,0],[58,2,111,0],[59,2,112,7],[59,11,112,16,"getCardsByType"],[59,25,112,30,"getCardsByType"],[59,26,112,31,"sections"],[59,34,112,53],[59,36,112,55,"sectionType"],[59,47,112,74],[59,49,112,87],[60,4,113,2],[60,10,113,8,"section"],[60,17,113,15],[60,20,113,18,"sections"],[60,28,113,26],[60,29,113,27,"find"],[60,33,113,31],[60,34,113,32,"s"],[60,35,113,33],[60,39,113,37,"s"],[60,40,113,38],[60,41,113,39,"section_type"],[60,53,113,51],[60,58,113,56,"sectionType"],[60,69,113,67],[60,70,113,68],[61,4,114,2],[61,11,114,9,"section"],[61,18,114,16],[61,20,114,18,"cards"],[61,25,114,23],[61,29,114,27],[61,31,114,29],[62,2,115,0],[64,2,117,0],[65,2,118,7],[65,11,118,16,"getSection"],[65,21,118,26,"getSection"],[65,22,118,27,"sections"],[65,30,118,49],[65,32,118,51,"sectionType"],[65,43,118,70],[65,45,118,96],[66,4,119,2],[66,11,119,9,"sections"],[66,19,119,17],[66,20,119,18,"find"],[66,24,119,22],[66,25,119,23,"s"],[66,26,119,24],[66,30,119,28,"s"],[66,31,119,29],[66,32,119,30,"section_type"],[66,44,119,42],[66,49,119,47,"sectionType"],[66,60,119,58],[66,61,119,59],[67,2,120,0],[68,0,120,1],[68,3]],"functionMap":{"names":["<global>","useCMSContent","fetchContent","useEffect$argument_0","sections.flatMap$argument_0","getCardsByType","sections.find$argument_0","getSection"],"mappings":"AAA;OCwD;mCCK;GD6B;YEE;GFE;iCGI,kBH;CDU;OKG;gCCC,mCD;CLE;OOG;uBDC,mCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}