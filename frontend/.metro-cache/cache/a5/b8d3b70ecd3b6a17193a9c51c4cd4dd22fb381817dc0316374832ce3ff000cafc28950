{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[3], \"socket.io-client\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    _s();\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? {\n            ...prev,\n            callId: data.call_id\n          } : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  _s(useWebRTCCall, \"WQFWwNpM7OWiC55rpuZeP0WaxAU=\");\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":398,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,1,0],[13,11,1,0,"_interopDefault"],[13,27,1,0,"e"],[13,28,1,0],[14,4,1,0],[14,11,1,0,"e"],[14,12,1,0],[14,16,1,0,"e"],[14,17,1,0],[14,18,1,0,"__esModule"],[14,28,1,0],[14,31,1,0,"e"],[14,32,1,0],[15,6,1,0,"default"],[15,13,1,0],[15,15,1,0,"e"],[16,4,1,0],[17,2,1,0],[18,2,54,0,"exports"],[18,9,54,0],[18,10,54,0,"useWebRTCCall"],[18,23,54,0],[18,26,54,0,"useWebRTCCall"],[18,39,54,0],[19,2,427,0,"exports"],[19,9,427,0],[19,10,427,0,"formatCallDuration"],[19,28,427,0],[19,31,427,0,"formatCallDuration"],[19,49,427,0],[20,2,431,1],[20,6,431,1,"_expoVirtualEnv"],[20,21,431,1],[20,24,431,1,"require"],[20,31,431,1],[20,32,431,1,"_dependencyMap"],[20,46,431,1],[21,2,7,0],[21,6,7,0,"_react"],[21,12,7,0],[21,15,7,0,"require"],[21,22,7,0],[21,23,7,0,"_dependencyMap"],[21,37,7,0],[22,2,7,65],[22,6,7,65,"_reactNativeWebDistExportsPlatform"],[22,40,7,65],[22,43,7,65,"require"],[22,50,7,65],[22,51,7,65,"_dependencyMap"],[22,65,7,65],[23,2,7,65],[23,6,7,65,"Platform"],[23,14,7,65],[23,17,7,65,"_interopDefault"],[23,32,7,65],[23,33,7,65,"_reactNativeWebDistExportsPlatform"],[23,67,7,65],[24,2,9,0],[24,6,9,0,"_socketIoClient"],[24,21,9,0],[24,24,9,0,"require"],[24,31,9,0],[24,32,9,0,"_dependencyMap"],[24,46,9,0],[25,2,11,0],[25,8,11,6,"API_URL"],[25,15,11,13],[25,18,11,16,"_expoVirtualEnv"],[25,33,11,16],[25,34,11,16,"env"],[25,37,11,16],[25,38,11,16,"EXPO_PUBLIC_BACKEND_URL"],[25,61,11,16],[25,65,11,55],[25,67,11,57],[27,2,13,0],[28,2,14,0],[28,8,14,6,"showAlert"],[28,17,14,15],[28,20,14,18,"showAlert"],[28,21,14,19,"title"],[28,26,14,32],[28,28,14,34,"message"],[28,35,14,49],[28,40,14,54],[29,4,15,2],[29,8,15,6,"Platform"],[29,16,15,14],[29,17,15,14,"default"],[29,24,15,14],[29,25,15,15,"OS"],[29,27,15,17],[29,32,15,22],[29,37,15,27],[29,41,15,31],[29,48,15,38,"window"],[29,54,15,44],[29,59,15,49],[29,70,15,60],[29,72,15,62],[30,6,16,4,"window"],[30,12,16,10],[30,13,16,11,"alert"],[30,18,16,16],[30,19,16,17],[30,22,16,20,"title"],[30,27,16,25],[30,34,16,32,"message"],[30,41,16,39],[30,43,16,41],[30,44,16,42],[31,4,17,2],[31,5,17,3],[31,11,17,9],[32,6,18,4],[33,6,19,4,"require"],[33,13,19,4],[33,14,19,4,"_dependencyMap"],[33,28,19,4],[33,71,19,4,"_dependencyMap"],[33,85,19,4],[33,90,19,4,"_dependencyMap"],[33,104,19,4],[33,105,19,4,"paths"],[33,110,19,4],[33,128,19,27,"then"],[33,132,19,31],[33,133,19,32],[33,134,19,33],[34,8,19,35,"Alert"],[35,6,19,41],[35,7,19,42],[35,12,19,47],[36,8,20,6,"Alert"],[36,13,20,11],[36,14,20,12,"alert"],[36,19,20,17],[36,20,20,18,"title"],[36,25,20,23],[36,27,20,25,"message"],[36,34,20,32],[36,35,20,33],[37,6,21,4],[37,7,21,5],[37,8,21,6],[38,4,22,2],[39,2,23,0],[39,3,23,1],[41,2,25,0],[42,2,26,0],[42,8,26,6,"RTC_CONFIG"],[42,18,26,16],[42,21,26,19],[43,4,27,2,"iceServers"],[43,14,27,12],[43,16,27,14],[43,17,28,4],[44,6,28,6,"urls"],[44,10,28,10],[44,12,28,12],[45,4,28,43],[45,5,28,44],[45,7,29,4],[46,6,29,6,"urls"],[46,10,29,10],[46,12,29,12],[47,4,29,44],[47,5,29,45],[48,2,31,0],[48,3,31,1],[49,2,54,7],[49,11,54,16,"useWebRTCCall"],[49,24,54,29,"useWebRTCCall"],[49,25,54,29],[49,27,54,53],[50,4,54,53,"_s"],[50,6,54,53],[51,4,55,2],[51,10,55,8],[51,11,55,9,"callState"],[51,20,55,18],[51,22,55,20,"setCallState"],[51,34,55,32],[51,35,55,33],[51,38,55,36],[51,42,55,36,"useState"],[51,48,55,44],[51,49,55,44,"useState"],[51,57,55,44],[51,59,55,56],[51,65,55,62],[51,66,55,63],[52,4,56,2],[52,10,56,8],[52,11,56,9,"callInfo"],[52,19,56,17],[52,21,56,19,"setCallInfo"],[52,32,56,30],[52,33,56,31],[52,36,56,34],[52,40,56,34,"useState"],[52,46,56,42],[52,47,56,42,"useState"],[52,55,56,42],[52,57,56,60],[52,61,56,64],[52,62,56,65],[53,4,57,2],[53,10,57,8],[53,11,57,9,"isConnected"],[53,22,57,20],[53,24,57,22,"setIsConnected"],[53,38,57,36],[53,39,57,37],[53,42,57,40],[53,46,57,40,"useState"],[53,52,57,48],[53,53,57,48,"useState"],[53,61,57,48],[53,63,57,49],[53,68,57,54],[53,69,57,55],[54,4,58,2],[54,10,58,8],[54,11,58,9,"callDuration"],[54,23,58,21],[54,25,58,23,"setCallDuration"],[54,40,58,38],[54,41,58,39],[54,44,58,42],[54,48,58,42,"useState"],[54,54,58,50],[54,55,58,50,"useState"],[54,63,58,50],[54,65,58,51],[54,66,58,52],[54,67,58,53],[55,4,60,2],[55,10,60,8,"socketRef"],[55,19,60,17],[55,22,60,20],[55,26,60,20,"useRef"],[55,32,60,26],[55,33,60,26,"useRef"],[55,39,60,26],[55,41,60,42],[55,45,60,46],[55,46,60,47],[56,4,61,2],[56,10,61,8,"peerConnectionRef"],[56,27,61,25],[56,30,61,28],[56,34,61,28,"useRef"],[56,40,61,34],[56,41,61,34,"useRef"],[56,47,61,34],[56,49,61,61],[56,53,61,65],[56,54,61,66],[57,4,62,2],[57,10,62,8,"localStreamRef"],[57,24,62,22],[57,27,62,25],[57,31,62,25,"useRef"],[57,37,62,31],[57,38,62,31,"useRef"],[57,44,62,31],[57,46,62,52],[57,50,62,56],[57,51,62,57],[58,4,63,2],[58,10,63,8,"remoteAudioRef"],[58,24,63,22],[58,27,63,25],[58,31,63,25,"useRef"],[58,37,63,31],[58,38,63,31,"useRef"],[58,44,63,31],[58,46,63,57],[58,50,63,61],[58,51,63,62],[59,4,64,2],[59,10,64,8,"callTimerRef"],[59,22,64,20],[59,25,64,23],[59,29,64,23,"useRef"],[59,35,64,29],[59,36,64,29,"useRef"],[59,42,64,29],[59,44,64,69],[59,48,64,73],[59,49,64,74],[60,4,65,2],[60,10,65,8,"currentCallIdRef"],[60,26,65,24],[60,29,65,27],[60,33,65,27,"useRef"],[60,39,65,33],[60,40,65,33,"useRef"],[60,46,65,33],[60,48,65,49],[60,52,65,53],[60,53,65,54],[62,4,67,2],[63,4,68,2],[63,10,68,8,"initializeSocket"],[63,26,68,24],[63,29,68,27],[63,33,68,27,"useCallback"],[63,39,68,38],[63,40,68,38,"useCallback"],[63,51,68,38],[63,53,68,39],[63,59,68,45],[64,6,69,4],[64,10,69,8,"Platform"],[64,18,69,16],[64,19,69,16,"default"],[64,26,69,16],[64,27,69,17,"OS"],[64,29,69,19],[64,34,69,24],[64,39,69,29],[64,41,69,31],[65,6,70,4],[65,10,70,8,"socketRef"],[65,19,70,17],[65,20,70,18,"current"],[65,27,70,25],[65,29,70,27,"connected"],[65,38,70,36],[65,40,70,38],[66,8,71,6,"console"],[66,15,71,13],[66,16,71,14,"log"],[66,19,71,17],[66,20,71,18],[66,54,71,52],[66,55,71,53],[67,8,72,6],[68,6,73,4],[70,6,75,4],[71,6,76,4],[71,10,76,8,"socketRef"],[71,19,76,17],[71,20,76,18,"current"],[71,27,76,25],[71,29,76,27],[72,8,77,6,"console"],[72,15,77,13],[72,16,77,14,"log"],[72,19,77,17],[72,20,77,18],[72,78,77,76],[72,79,77,77],[73,8,78,6,"socketRef"],[73,17,78,15],[73,18,78,16,"current"],[73,25,78,23],[73,26,78,24,"connect"],[73,33,78,31],[73,34,78,32],[73,35,78,33],[74,8,79,6],[75,6,80,4],[77,6,82,4],[78,6,83,4],[78,12,83,10,"backendUrl"],[78,22,83,20],[78,25,83,23,"API_URL"],[78,32,83,30],[79,6,84,4,"console"],[79,13,84,11],[79,14,84,12,"log"],[79,17,84,15],[79,18,84,16],[79,61,84,59],[79,63,84,61,"backendUrl"],[79,73,84,71],[79,74,84,72],[80,6,86,4,"socketRef"],[80,15,86,13],[80,16,86,14,"current"],[80,23,86,21],[80,26,86,24],[80,30,86,24,"io"],[80,45,86,26],[80,46,86,26,"io"],[80,48,86,26],[80,50,86,27,"backendUrl"],[80,60,86,37],[80,62,86,39],[81,8,87,6,"transports"],[81,18,87,16],[81,20,87,18],[81,21,87,19],[81,32,87,30],[81,34,87,32],[81,43,87,41],[81,44,87,42],[82,8,88,6,"reconnection"],[82,20,88,18],[82,22,88,20],[82,26,88,24],[83,8,89,6,"reconnectionAttempts"],[83,28,89,26],[83,30,89,28],[83,32,89,30],[84,8,90,6,"reconnectionDelay"],[84,25,90,23],[84,27,90,25],[84,31,90,29],[85,8,91,6,"timeout"],[85,15,91,13],[85,17,91,15],[85,22,91,20],[86,8,92,6,"path"],[86,12,92,10],[86,14,92,12],[86,30,92,28],[86,31,92,31],[87,6,93,4],[87,7,93,5],[87,8,93,6],[88,6,95,4,"socketRef"],[88,15,95,13],[88,16,95,14,"current"],[88,23,95,21],[88,24,95,22,"on"],[88,26,95,24],[88,27,95,25],[88,36,95,34],[88,38,95,36],[88,44,95,42],[89,8,96,6,"console"],[89,15,96,13],[89,16,96,14,"log"],[89,19,96,17],[89,20,96,18],[89,59,96,57],[89,60,96,58],[90,8,97,6,"setIsConnected"],[90,22,97,20],[90,23,97,21],[90,27,97,25],[90,28,97,26],[91,6,98,4],[91,7,98,5],[91,8,98,6],[92,6,100,4,"socketRef"],[92,15,100,13],[92,16,100,14,"current"],[92,23,100,21],[92,24,100,22,"on"],[92,26,100,24],[92,27,100,25],[92,39,100,37],[92,41,100,39],[92,47,100,45],[93,8,101,6,"console"],[93,15,101,13],[93,16,101,14,"log"],[93,19,101,17],[93,20,101,18],[93,42,101,40],[93,43,101,41],[94,8,102,6,"setIsConnected"],[94,22,102,20],[94,23,102,21],[94,28,102,26],[94,29,102,27],[95,8,103,6,"cleanupCall"],[95,19,103,17],[95,20,103,18],[95,21,103,19],[96,6,104,4],[96,7,104,5],[96,8,104,6],[97,6,106,4,"socketRef"],[97,15,106,13],[97,16,106,14,"current"],[97,23,106,21],[97,24,106,22,"on"],[97,26,106,24],[97,27,106,25],[97,39,106,37],[97,41,106,40,"data"],[97,45,106,49],[97,49,106,54],[98,8,107,6,"console"],[98,15,107,13],[98,16,107,14,"log"],[98,19,107,17],[98,20,107,18],[98,40,107,38],[98,42,107,40,"data"],[98,46,107,44],[98,47,107,45],[99,6,108,4],[99,7,108,5],[99,8,108,6],[101,6,110,4],[102,6,111,4,"socketRef"],[102,15,111,13],[102,16,111,14,"current"],[102,23,111,21],[102,24,111,22,"on"],[102,26,111,24],[102,27,111,25],[102,42,111,40],[102,44,111,43,"data"],[102,48,111,52],[102,52,111,57],[103,8,112,6,"console"],[103,15,112,13],[103,16,112,14,"log"],[103,19,112,17],[103,20,112,18],[103,43,112,41],[103,45,112,43,"data"],[103,49,112,47],[103,50,112,48],[104,8,113,6,"currentCallIdRef"],[104,24,113,22],[104,25,113,23,"current"],[104,32,113,30],[104,35,113,33,"data"],[104,39,113,37],[104,40,113,38,"call_id"],[104,47,113,45],[105,8,114,6,"setCallInfo"],[105,19,114,17],[105,20,114,18],[106,10,115,8,"callId"],[106,16,115,14],[106,18,115,16,"data"],[106,22,115,20],[106,23,115,21,"call_id"],[106,30,115,28],[107,10,116,8,"peerName"],[107,18,116,16],[107,20,116,18,"data"],[107,24,116,22],[107,25,116,23,"caller_name"],[107,36,116,34],[108,10,117,8,"callType"],[108,18,117,16],[108,20,117,18,"data"],[108,24,117,22],[108,25,117,23,"call_type"],[108,34,117,32],[108,38,117,36],[108,45,117,43],[109,10,118,8,"isIncoming"],[109,20,118,18],[109,22,118,20],[110,8,119,6],[110,9,119,7],[110,10,119,8],[111,8,120,6,"setCallState"],[111,20,120,18],[111,21,120,19],[111,30,120,28],[111,31,120,29],[112,6,121,4],[112,7,121,5],[112,8,121,6],[114,6,123,4],[115,6,124,4,"socketRef"],[115,15,124,13],[115,16,124,14,"current"],[115,23,124,21],[115,24,124,22,"on"],[115,26,124,24],[115,27,124,25],[115,42,124,40],[115,44,124,42],[115,50,124,49,"data"],[115,54,124,58],[115,58,124,63],[116,8,125,6,"console"],[116,15,125,13],[116,16,125,14,"log"],[116,19,125,17],[116,20,125,18],[116,43,125,41],[116,45,125,43,"data"],[116,49,125,47],[116,50,125,48],[117,8,126,6],[117,12,126,10,"data"],[117,16,126,14],[117,17,126,15,"call_id"],[117,24,126,22],[117,26,126,24],[118,10,127,8,"currentCallIdRef"],[118,26,127,24],[118,27,127,25,"current"],[118,34,127,32],[118,37,127,35,"data"],[118,41,127,39],[118,42,127,40,"call_id"],[118,49,127,47],[119,8,128,6],[120,8,129,6,"setCallState"],[120,20,129,18],[120,21,129,19],[120,33,129,31],[120,34,129,32],[121,8,130,6],[121,14,130,12,"startWebRTCConnection"],[121,35,130,33],[121,36,130,34],[121,40,130,38],[121,41,130,39],[122,6,131,4],[122,7,131,5],[122,8,131,6],[124,6,133,4],[125,6,134,4,"socketRef"],[125,15,134,13],[125,16,134,14,"current"],[125,23,134,21],[125,24,134,22,"on"],[125,26,134,24],[125,27,134,25],[125,43,134,41],[125,45,134,43],[125,51,134,49],[126,8,135,6,"console"],[126,15,135,13],[126,16,135,14,"log"],[126,19,135,17],[126,20,135,18],[126,44,135,42],[126,45,135,43],[127,8,136,6,"setCallState"],[127,20,136,18],[127,21,136,19],[127,32,136,30],[127,33,136,31],[128,8,137,6,"startCallTimer"],[128,22,137,20],[128,23,137,21],[128,24,137,22],[129,6,138,4],[129,7,138,5],[129,8,138,6],[131,6,140,4],[132,6,141,4,"socketRef"],[132,15,141,13],[132,16,141,14,"current"],[132,23,141,21],[132,24,141,22,"on"],[132,26,141,24],[132,27,141,25],[132,42,141,40],[132,44,141,42],[132,50,141,48],[133,8,142,6,"showAlert"],[133,17,142,15],[133,18,142,16],[133,33,142,31],[133,35,142,33],[133,59,142,57],[133,60,142,58],[134,8,143,6,"cleanupCall"],[134,19,143,17],[134,20,143,18],[134,21,143,19],[135,6,144,4],[135,7,144,5],[135,8,144,6],[136,6,146,4,"socketRef"],[136,15,146,13],[136,16,146,14,"current"],[136,23,146,21],[136,24,146,22,"on"],[136,26,146,24],[136,27,146,25],[136,39,146,37],[136,41,146,39],[136,47,146,45],[137,8,147,6,"console"],[137,15,147,13],[137,16,147,14,"log"],[137,19,147,17],[137,20,147,18],[137,55,147,53],[137,56,147,54],[138,8,148,6,"cleanupCall"],[138,19,148,17],[138,20,148,18],[138,21,148,19],[139,6,149,4],[139,7,149,5],[139,8,149,6],[140,6,151,4,"socketRef"],[140,15,151,13],[140,16,151,14,"current"],[140,23,151,21],[140,24,151,22,"on"],[140,26,151,24],[140,27,151,25],[140,40,151,38],[140,42,151,41,"data"],[140,46,151,50],[140,50,151,55],[141,8,152,6,"console"],[141,15,152,13],[141,16,152,14,"log"],[141,19,152,17],[141,20,152,18],[141,41,152,39],[141,43,152,41,"data"],[141,47,152,45],[141,48,152,46],[142,8,153,6,"showAlert"],[142,17,153,15],[142,18,153,16],[142,31,153,29],[142,33,153,31,"data"],[142,37,153,35],[142,38,153,36,"message"],[142,45,153,43],[142,49,153,47],[142,152,153,150],[142,153,153,151],[143,8,154,6,"cleanupCall"],[143,19,154,17],[143,20,154,18],[143,21,154,19],[144,6,155,4],[144,7,155,5],[144,8,155,6],[146,6,157,4],[147,6,158,4,"socketRef"],[147,15,158,13],[147,16,158,14,"current"],[147,23,158,21],[147,24,158,22,"on"],[147,26,158,24],[147,27,158,25],[147,41,158,39],[147,43,158,42,"data"],[147,47,158,51],[147,51,158,56],[148,8,159,6,"console"],[148,15,159,13],[148,16,159,14,"log"],[148,19,159,17],[148,20,159,18],[148,42,159,40],[148,44,159,42,"data"],[148,48,159,46],[148,49,159,47],[149,8,160,6],[149,12,160,10,"data"],[149,16,160,14],[149,17,160,15,"call_id"],[149,24,160,22],[149,26,160,24],[150,10,161,8,"currentCallIdRef"],[150,26,161,24],[150,27,161,25,"current"],[150,34,161,32],[150,37,161,35,"data"],[150,41,161,39],[150,42,161,40,"call_id"],[150,49,161,47],[151,10,162,8,"setCallInfo"],[151,21,162,19],[151,22,162,20,"prev"],[151,26,162,24],[151,30,162,28,"prev"],[151,34,162,32],[151,37,162,35],[152,12,162,37],[152,15,162,40,"prev"],[152,19,162,44],[153,12,162,46,"callId"],[153,18,162,52],[153,20,162,54,"data"],[153,24,162,58],[153,25,162,59,"call_id"],[154,10,162,67],[154,11,162,68],[154,14,162,71],[154,18,162,75],[154,19,162,76],[155,8,163,6],[156,8,164,6,"setCallState"],[156,20,164,18],[156,21,164,19],[156,30,164,28],[156,31,164,29],[157,6,165,4],[157,7,165,5],[157,8,165,6],[159,6,167,4],[160,6,168,4,"socketRef"],[160,15,168,13],[160,16,168,14,"current"],[160,23,168,21],[160,24,168,22,"on"],[160,26,168,24],[160,27,168,25],[160,41,168,39],[160,43,168,41],[160,49,168,48,"data"],[160,53,168,57],[160,57,168,62],[161,8,169,6],[161,14,169,12,"handleOffer"],[161,25,169,23],[161,26,169,24,"data"],[161,30,169,28],[161,31,169,29,"offer"],[161,36,169,34],[161,37,169,35],[162,6,170,4],[162,7,170,5],[162,8,170,6],[163,6,172,4,"socketRef"],[163,15,172,13],[163,16,172,14,"current"],[163,23,172,21],[163,24,172,22,"on"],[163,26,172,24],[163,27,172,25],[163,42,172,40],[163,44,172,42],[163,50,172,49,"data"],[163,54,172,58],[163,58,172,63],[164,8,173,6],[164,14,173,12,"handleAnswer"],[164,26,173,24],[164,27,173,25,"data"],[164,31,173,29],[164,32,173,30,"answer"],[164,38,173,36],[164,39,173,37],[165,6,174,4],[165,7,174,5],[165,8,174,6],[166,6,176,4,"socketRef"],[166,15,176,13],[166,16,176,14,"current"],[166,23,176,21],[166,24,176,22,"on"],[166,26,176,24],[166,27,176,25],[166,49,176,47],[166,51,176,49],[166,57,176,56,"data"],[166,61,176,65],[166,65,176,70],[167,8,177,6],[167,14,177,12,"handleIceCandidate"],[167,32,177,30],[167,33,177,31,"data"],[167,37,177,35],[167,38,177,36,"candidate"],[167,47,177,45],[167,48,177,46],[168,6,178,4],[168,7,178,5],[168,8,178,6],[169,4,179,2],[169,5,179,3],[169,7,179,5],[169,9,179,7],[169,10,179,8],[171,4,181,2],[172,4,182,2],[172,10,182,8,"register"],[172,18,182,16],[172,21,182,19],[172,25,182,19,"useCallback"],[172,31,182,30],[172,32,182,30,"useCallback"],[172,43,182,30],[172,45,182,31],[172,46,182,32,"userId"],[172,52,182,46],[172,54,182,48,"userType"],[172,62,182,64],[172,64,182,66,"userName"],[172,72,182,82],[172,77,182,87],[173,6,183,4],[173,10,183,8,"Platform"],[173,18,183,16],[173,19,183,16,"default"],[173,26,183,16],[173,27,183,17,"OS"],[173,29,183,19],[173,34,183,24],[173,39,183,29],[173,41,183,31],[174,6,185,4,"initializeSocket"],[174,22,185,20],[174,23,185,21],[174,24,185,22],[175,6,187,4,"setTimeout"],[175,16,187,14],[175,17,187,15],[175,23,187,21],[176,8,188,6,"socketRef"],[176,17,188,15],[176,18,188,16,"current"],[176,25,188,23],[176,27,188,25,"emit"],[176,31,188,29],[176,32,188,30],[176,42,188,40],[176,44,188,42],[177,10,189,8,"user_id"],[177,17,189,15],[177,19,189,17,"userId"],[177,25,189,23],[178,10,190,8,"user_type"],[178,19,190,17],[178,21,190,19,"userType"],[178,29,190,27],[179,10,191,8,"name"],[179,14,191,12],[179,16,191,14,"userName"],[179,24,191,22],[180,10,192,8,"status"],[180,16,192,14],[180,18,192,16],[181,8,193,6],[181,9,193,7],[181,10,193,8],[182,6,194,4],[182,7,194,5],[182,9,194,7],[182,13,194,11],[182,14,194,12],[183,4,195,2],[183,5,195,3],[183,7,195,5],[183,8,195,6,"initializeSocket"],[183,24,195,22],[183,25,195,23],[183,26,195,24],[185,4,197,2],[186,4,198,2],[186,10,198,8,"ensureRemoteAudio"],[186,27,198,25],[186,30,198,28,"ensureRemoteAudio"],[186,31,198,28],[186,36,198,34],[187,6,199,4],[187,10,199,8,"Platform"],[187,18,199,16],[187,19,199,16,"default"],[187,26,199,16],[187,27,199,17,"OS"],[187,29,199,19],[187,34,199,24],[187,39,199,29],[187,41,199,31],[187,48,199,38],[187,52,199,42],[188,6,201,4],[188,10,201,8],[188,11,201,9,"remoteAudioRef"],[188,25,201,23],[188,26,201,24,"current"],[188,33,201,31],[188,35,201,33],[189,8,202,6],[189,14,202,12,"audio"],[189,19,202,17],[189,22,202,20,"document"],[189,30,202,28],[189,31,202,29,"createElement"],[189,44,202,42],[189,45,202,43],[189,52,202,50],[189,53,202,51],[190,8,203,6,"audio"],[190,13,203,11],[190,14,203,12,"autoplay"],[190,22,203,20],[190,25,203,23],[190,29,203,27],[191,8,204,6,"audio"],[191,13,204,11],[191,14,204,12,"id"],[191,16,204,14],[191,19,204,17],[191,40,204,38],[192,8,205,6,"document"],[192,16,205,14],[192,17,205,15,"body"],[192,21,205,19],[192,22,205,20,"appendChild"],[192,33,205,31],[192,34,205,32,"audio"],[192,39,205,37],[192,40,205,38],[193,8,206,6,"remoteAudioRef"],[193,22,206,20],[193,23,206,21,"current"],[193,30,206,28],[193,33,206,31,"audio"],[193,38,206,36],[194,6,207,4],[195,6,208,4],[195,13,208,11,"remoteAudioRef"],[195,27,208,25],[195,28,208,26,"current"],[195,35,208,33],[196,4,209,2],[196,5,209,3],[198,4,211,2],[199,4,212,2],[199,10,212,8,"startWebRTCConnection"],[199,31,212,29],[199,34,212,32],[199,40,212,39,"createOffer"],[199,51,212,59],[199,55,212,64],[200,6,213,4],[200,10,213,8,"Platform"],[200,18,213,16],[200,19,213,16,"default"],[200,26,213,16],[200,27,213,17,"OS"],[200,29,213,19],[200,34,213,24],[200,39,213,29],[200,41,213,31],[201,6,215,4],[201,10,215,8],[202,8,216,6],[202,14,216,12,"stream"],[202,20,216,18],[202,23,216,21],[202,29,216,27,"navigator"],[202,38,216,36],[202,39,216,37,"mediaDevices"],[202,51,216,49],[202,52,216,50,"getUserMedia"],[202,64,216,62],[202,65,216,63],[203,10,216,65,"audio"],[203,15,216,70],[203,17,216,72],[203,21,216,76],[204,10,216,78,"video"],[204,15,216,83],[204,17,216,85],[205,8,216,91],[205,9,216,92],[205,10,216,93],[206,8,217,6,"localStreamRef"],[206,22,217,20],[206,23,217,21,"current"],[206,30,217,28],[206,33,217,31,"stream"],[206,39,217,37],[207,8,219,6],[207,14,219,12,"pc"],[207,16,219,14],[207,19,219,17],[207,23,219,21,"RTCPeerConnection"],[207,40,219,38],[207,41,219,39,"RTC_CONFIG"],[207,51,219,49],[207,52,219,50],[208,8,220,6,"peerConnectionRef"],[208,25,220,23],[208,26,220,24,"current"],[208,33,220,31],[208,36,220,34,"pc"],[208,38,220,36],[209,8,222,6,"stream"],[209,14,222,12],[209,15,222,13,"getTracks"],[209,24,222,22],[209,25,222,23],[209,26,222,24],[209,27,222,25,"forEach"],[209,34,222,32],[209,35,222,34,"track"],[209,40,222,39],[209,44,222,44],[210,10,223,8,"pc"],[210,12,223,10],[210,13,223,11,"addTrack"],[210,21,223,19],[210,22,223,20,"track"],[210,27,223,25],[210,29,223,27,"stream"],[210,35,223,33],[210,36,223,34],[211,8,224,6],[211,9,224,7],[211,10,224,8],[212,8,226,6,"pc"],[212,10,226,8],[212,11,226,9,"onicecandidate"],[212,25,226,23],[212,28,226,27,"event"],[212,33,226,32],[212,37,226,37],[213,10,227,8],[213,14,227,12,"event"],[213,19,227,17],[213,20,227,18,"candidate"],[213,29,227,27],[213,31,227,29],[214,12,228,10,"socketRef"],[214,21,228,19],[214,22,228,20,"current"],[214,29,228,27],[214,31,228,29,"emit"],[214,35,228,33],[214,36,228,34],[214,58,228,56],[214,60,228,58],[215,14,229,12,"call_id"],[215,21,229,19],[215,23,229,21,"currentCallIdRef"],[215,39,229,37],[215,40,229,38,"current"],[215,47,229,45],[216,14,230,12,"candidate"],[216,23,230,21],[216,25,230,23,"event"],[216,30,230,28],[216,31,230,29,"candidate"],[217,12,231,10],[217,13,231,11],[217,14,231,12],[218,10,232,8],[219,8,233,6],[219,9,233,7],[220,8,235,6,"pc"],[220,10,235,8],[220,11,235,9,"ontrack"],[220,18,235,16],[220,21,235,20,"event"],[220,26,235,25],[220,30,235,30],[221,10,236,8],[221,16,236,14,"audio"],[221,21,236,19],[221,24,236,22,"ensureRemoteAudio"],[221,41,236,39],[221,42,236,40],[221,43,236,41],[222,10,237,8],[222,14,237,12,"audio"],[222,19,237,17],[222,21,237,19],[223,12,238,10,"audio"],[223,17,238,15],[223,18,238,16,"srcObject"],[223,27,238,25],[223,30,238,28,"event"],[223,35,238,33],[223,36,238,34,"streams"],[223,43,238,41],[223,44,238,42],[223,45,238,43],[223,46,238,44],[224,12,239,10,"audio"],[224,17,239,15],[224,18,239,16,"play"],[224,22,239,20],[224,23,239,21],[224,24,239,22],[224,25,239,23,"catch"],[224,30,239,28],[224,31,239,29,"console"],[224,38,239,36],[224,39,239,37,"error"],[224,44,239,42],[224,45,239,43],[225,10,240,8],[226,8,241,6],[226,9,241,7],[227,8,243,6,"pc"],[227,10,243,8],[227,11,243,9,"onconnectionstatechange"],[227,34,243,32],[227,37,243,35],[227,43,243,41],[228,10,244,8],[228,14,244,12,"pc"],[228,16,244,14],[228,17,244,15,"connectionState"],[228,32,244,30],[228,37,244,35],[228,48,244,46],[228,50,244,48],[229,12,245,10,"setCallState"],[229,24,245,22],[229,25,245,23],[229,36,245,34],[229,37,245,35],[230,12,246,10,"startCallTimer"],[230,26,246,24],[230,27,246,25],[230,28,246,26],[231,10,247,8],[231,11,247,9],[231,17,247,15],[231,21,247,19,"pc"],[231,23,247,21],[231,24,247,22,"connectionState"],[231,39,247,37],[231,44,247,42],[231,58,247,56],[231,62,247,60,"pc"],[231,64,247,62],[231,65,247,63,"connectionState"],[231,80,247,78],[231,85,247,83],[231,93,247,91],[231,95,247,93],[232,12,248,10,"cleanupCall"],[232,23,248,21],[232,24,248,22],[232,25,248,23],[233,10,249,8],[234,8,250,6],[234,9,250,7],[235,8,252,6],[235,12,252,10,"createOffer"],[235,23,252,21],[235,25,252,23],[236,10,253,8],[236,16,253,14,"offer"],[236,21,253,19],[236,24,253,22],[236,30,253,28,"pc"],[236,32,253,30],[236,33,253,31,"createOffer"],[236,44,253,42],[236,45,253,43],[236,46,253,44],[237,10,254,8],[237,16,254,14,"pc"],[237,18,254,16],[237,19,254,17,"setLocalDescription"],[237,38,254,36],[237,39,254,37,"offer"],[237,44,254,42],[237,45,254,43],[238,10,255,8,"socketRef"],[238,19,255,17],[238,20,255,18,"current"],[238,27,255,25],[238,29,255,27,"emit"],[238,33,255,31],[238,34,255,32],[238,48,255,46],[238,50,255,48],[239,12,256,10,"call_id"],[239,19,256,17],[239,21,256,19,"currentCallIdRef"],[239,37,256,35],[239,38,256,36,"current"],[239,45,256,43],[240,12,257,10,"offer"],[240,17,257,15],[240,19,257,17,"offer"],[241,10,258,8],[241,11,258,9],[241,12,258,10],[242,8,259,6],[243,6,260,4],[243,7,260,5],[243,8,260,6],[243,15,260,13,"error"],[243,20,260,18],[243,22,260,20],[244,8,261,6,"console"],[244,15,261,13],[244,16,261,14,"error"],[244,21,261,19],[244,22,261,20],[244,37,261,35],[244,39,261,37,"error"],[244,44,261,42],[244,45,261,43],[245,8,262,6,"showAlert"],[245,17,262,15],[245,18,262,16],[245,36,262,34],[245,38,262,36],[245,125,262,123],[245,126,262,124],[246,8,263,6,"cleanupCall"],[246,19,263,17],[246,20,263,18],[246,21,263,19],[247,6,264,4],[248,4,265,2],[248,5,265,3],[249,4,267,2],[249,10,267,8,"handleOffer"],[249,21,267,19],[249,24,267,22],[249,30,267,29,"offer"],[249,35,267,61],[249,39,267,66],[250,6,268,4],[250,10,268,8,"Platform"],[250,18,268,16],[250,19,268,16,"default"],[250,26,268,16],[250,27,268,17,"OS"],[250,29,268,19],[250,34,268,24],[250,39,268,29],[250,41,268,31],[251,6,270,4],[251,10,270,8],[251,11,270,9,"peerConnectionRef"],[251,28,270,26],[251,29,270,27,"current"],[251,36,270,34],[251,38,270,36],[252,8,271,6],[252,14,271,12,"startWebRTCConnection"],[252,35,271,33],[252,36,271,34],[252,41,271,39],[252,42,271,40],[253,6,272,4],[254,6,274,4],[254,12,274,10,"peerConnectionRef"],[254,29,274,27],[254,30,274,28,"current"],[254,37,274,35],[254,39,274,37,"setRemoteDescription"],[254,59,274,57],[254,60,274,58],[254,64,274,62,"RTCSessionDescription"],[254,85,274,83],[254,86,274,84,"offer"],[254,91,274,89],[254,92,274,90],[254,93,274,91],[255,6,275,4],[255,12,275,10,"answer"],[255,18,275,16],[255,21,275,19],[255,27,275,25,"peerConnectionRef"],[255,44,275,42],[255,45,275,43,"current"],[255,52,275,50],[255,54,275,52,"createAnswer"],[255,66,275,64],[255,67,275,65],[255,68,275,66],[256,6,276,4],[256,12,276,10,"peerConnectionRef"],[256,29,276,27],[256,30,276,28,"current"],[256,37,276,35],[256,39,276,37,"setLocalDescription"],[256,58,276,56],[256,59,276,57,"answer"],[256,65,276,63],[256,66,276,64],[257,6,278,4,"socketRef"],[257,15,278,13],[257,16,278,14,"current"],[257,23,278,21],[257,25,278,23,"emit"],[257,29,278,27],[257,30,278,28],[257,45,278,43],[257,47,278,45],[258,8,279,6,"call_id"],[258,15,279,13],[258,17,279,15,"currentCallIdRef"],[258,33,279,31],[258,34,279,32,"current"],[258,41,279,39],[259,8,280,6,"answer"],[259,14,280,12],[259,16,280,14,"answer"],[260,6,281,4],[260,7,281,5],[260,8,281,6],[261,6,283,4,"setCallState"],[261,18,283,16],[261,19,283,17],[261,30,283,28],[261,31,283,29],[262,6,284,4,"startCallTimer"],[262,20,284,18],[262,21,284,19],[262,22,284,20],[263,4,285,2],[263,5,285,3],[264,4,287,2],[264,10,287,8,"handleAnswer"],[264,22,287,20],[264,25,287,23],[264,31,287,30,"answer"],[264,37,287,63],[264,41,287,68],[265,6,288,4],[265,10,288,8,"Platform"],[265,18,288,16],[265,19,288,16,"default"],[265,26,288,16],[265,27,288,17,"OS"],[265,29,288,19],[265,34,288,24],[265,39,288,29],[265,41,288,31],[266,6,289,4],[266,12,289,10,"peerConnectionRef"],[266,29,289,27],[266,30,289,28,"current"],[266,37,289,35],[266,39,289,37,"setRemoteDescription"],[266,59,289,57],[266,60,289,58],[266,64,289,62,"RTCSessionDescription"],[266,85,289,83],[266,86,289,84,"answer"],[266,92,289,90],[266,93,289,91],[266,94,289,92],[267,6,290,4,"setCallState"],[267,18,290,16],[267,19,290,17],[267,30,290,28],[267,31,290,29],[268,6,291,4,"startCallTimer"],[268,20,291,18],[268,21,291,19],[268,22,291,20],[269,4,292,2],[269,5,292,3],[270,4,294,2],[270,10,294,8,"handleIceCandidate"],[270,28,294,26],[270,31,294,29],[270,37,294,36,"candidate"],[270,46,294,66],[270,50,294,71],[271,6,295,4],[271,10,295,8,"Platform"],[271,18,295,16],[271,19,295,16,"default"],[271,26,295,16],[271,27,295,17,"OS"],[271,29,295,19],[271,34,295,24],[271,39,295,29],[271,43,295,33],[271,44,295,34,"candidate"],[271,53,295,43],[271,55,295,45],[272,6,296,4],[272,12,296,10,"peerConnectionRef"],[272,29,296,27],[272,30,296,28,"current"],[272,37,296,35],[272,39,296,37,"addIceCandidate"],[272,54,296,52],[272,55,296,53],[272,59,296,57,"RTCIceCandidate"],[272,74,296,72],[272,75,296,73,"candidate"],[272,84,296,82],[272,85,296,83],[272,86,296,84],[273,4,297,2],[273,5,297,3],[274,4,299,2],[274,10,299,8,"initiateCall"],[274,22,299,20],[274,25,299,23],[274,31,299,23,"initiateCall"],[274,32,299,30,"targetUserId"],[274,44,299,50],[274,46,299,52,"targetName"],[274,56,299,70],[274,61,299,75],[275,6,300,4],[275,10,300,8,"Platform"],[275,18,300,16],[275,19,300,16,"default"],[275,26,300,16],[275,27,300,17,"OS"],[275,29,300,19],[275,34,300,24],[275,39,300,29],[275,41,300,31],[276,8,301,6,"showAlert"],[276,17,301,15],[276,18,301,16],[276,33,301,31],[276,35,301,33],[276,77,301,75],[276,78,301,76],[277,8,302,6],[278,6,303,4],[279,6,305,4],[279,10,305,8,"callState"],[279,19,305,17],[279,24,305,22],[279,30,305,28],[279,32,305,30],[280,8,306,6,"showAlert"],[280,17,306,15],[280,18,306,16],[280,24,306,22],[280,26,306,24],[280,53,306,51],[280,54,306,52],[281,8,307,6],[282,6,308,4],[284,6,310,4],[285,6,311,4,"initializeSocket"],[285,22,311,20],[285,23,311,21],[285,24,311,22],[286,6,313,4,"setCallInfo"],[286,17,313,15],[286,18,313,16],[287,8,314,6,"callId"],[287,14,314,12],[287,16,314,14],[287,18,314,16],[288,8,315,6,"peerName"],[288,16,315,14],[288,18,315,16,"targetName"],[288,28,315,26],[289,8,316,6,"callType"],[289,16,316,14],[289,18,316,16],[289,25,316,23],[290,8,317,6,"isIncoming"],[290,18,317,16],[290,20,317,18],[291,6,318,4],[291,7,318,5],[291,8,318,6],[292,6,319,4,"setCallState"],[292,18,319,16],[292,19,319,17],[292,31,319,29],[292,32,319,30],[294,6,321,4],[295,6,322,4],[295,10,322,8,"attempts"],[295,18,322,16],[295,21,322,19],[295,22,322,20],[296,6,323,4],[296,13,323,11],[296,14,323,12,"socketRef"],[296,23,323,21],[296,24,323,22,"current"],[296,31,323,29],[296,33,323,31,"connected"],[296,42,323,40],[296,46,323,44,"attempts"],[296,54,323,52],[296,57,323,55],[296,59,323,57],[296,61,323,59],[297,8,324,6],[297,14,324,12],[297,18,324,16,"Promise"],[297,25,324,23],[297,26,324,25,"resolve"],[297,33,324,32],[297,37,324,37,"setTimeout"],[297,47,324,47],[297,48,324,48,"resolve"],[297,55,324,55],[297,57,324,57],[297,60,324,60],[297,61,324,61],[297,62,324,62],[298,8,325,6,"attempts"],[298,16,325,14],[298,18,325,16],[299,6,326,4],[300,6,328,4],[300,10,328,8],[300,11,328,9,"socketRef"],[300,20,328,18],[300,21,328,19,"current"],[300,28,328,26],[300,30,328,28,"connected"],[300,39,328,37],[300,41,328,39],[301,8,329,6,"showAlert"],[301,17,329,15],[301,18,329,16],[301,36,329,34],[301,38,329,36],[301,91,329,89],[301,92,329,90],[302,8,330,6,"cleanupCall"],[302,19,330,17],[302,20,330,18],[302,21,330,19],[303,8,331,6],[304,6,332,4],[306,6,334,4],[307,6,335,4],[307,12,335,10,"callerId"],[307,20,335,18],[307,23,335,21],[307,35,335,33,"Date"],[307,39,335,37],[307,40,335,38,"now"],[307,43,335,41],[307,44,335,42],[307,45,335,43],[307,47,335,45],[309,6,337,4],[310,6,338,4,"socketRef"],[310,15,338,13],[310,16,338,14,"current"],[310,23,338,21],[310,25,338,23,"emit"],[310,29,338,27],[310,30,338,28],[310,40,338,38],[310,42,338,40],[311,8,339,6,"user_id"],[311,15,339,13],[311,17,339,15,"callerId"],[311,25,339,23],[312,8,340,6,"user_type"],[312,17,340,15],[312,19,340,17],[312,25,340,23],[313,8,341,6,"name"],[313,12,341,10],[313,14,341,12],[313,24,341,22],[314,8,342,6,"status"],[314,14,342,12],[314,16,342,14],[315,6,343,4],[315,7,343,5],[315,8,343,6],[317,6,345,4],[318,6,346,4],[318,12,346,10],[318,16,346,14,"Promise"],[318,23,346,21],[318,24,346,23,"resolve"],[318,31,346,30],[318,35,346,35,"setTimeout"],[318,45,346,45],[318,46,346,46,"resolve"],[318,53,346,53],[318,55,346,55],[318,58,346,58],[318,59,346,59],[318,60,346,60],[320,6,348,4],[321,6,349,4,"socketRef"],[321,15,349,13],[321,16,349,14,"current"],[321,23,349,21],[321,25,349,23,"emit"],[321,29,349,27],[321,30,349,28],[321,45,349,43],[321,47,349,45],[322,8,350,6,"target_user_id"],[322,22,350,20],[322,24,350,22,"targetUserId"],[322,36,350,34],[323,8,351,6,"caller_name"],[323,19,351,17],[323,21,351,19],[323,31,351,29],[324,8,352,6,"call_type"],[324,17,352,15],[324,19,352,17],[325,6,353,4],[325,7,353,5],[325,8,353,6],[326,4,354,2],[326,5,354,3],[327,4,356,2],[327,10,356,8,"acceptCall"],[327,20,356,18],[327,23,356,21],[327,27,356,21,"useCallback"],[327,33,356,32],[327,34,356,32,"useCallback"],[327,45,356,32],[327,47,356,33],[327,53,356,39],[328,6,357,4],[328,10,357,8],[328,11,357,9,"currentCallIdRef"],[328,27,357,25],[328,28,357,26,"current"],[328,35,357,33],[328,37,357,35],[329,6,358,4,"socketRef"],[329,15,358,13],[329,16,358,14,"current"],[329,23,358,21],[329,25,358,23,"emit"],[329,29,358,27],[329,30,358,28],[329,43,358,41],[329,45,358,43],[330,8,358,45,"call_id"],[330,15,358,52],[330,17,358,54,"currentCallIdRef"],[330,33,358,70],[330,34,358,71,"current"],[331,6,358,79],[331,7,358,80],[331,8,358,81],[332,6,359,4,"setCallState"],[332,18,359,16],[332,19,359,17],[332,31,359,29],[332,32,359,30],[333,6,360,4,"startWebRTCConnection"],[333,27,360,25],[333,28,360,26],[333,33,360,31],[333,34,360,32],[334,4,361,2],[334,5,361,3],[334,7,361,5],[334,9,361,7],[334,10,361,8],[335,4,363,2],[335,10,363,8,"rejectCall"],[335,20,363,18],[335,23,363,21],[335,27,363,21,"useCallback"],[335,33,363,32],[335,34,363,32,"useCallback"],[335,45,363,32],[335,47,363,33],[335,53,363,39],[336,6,364,4],[336,10,364,8,"currentCallIdRef"],[336,26,364,24],[336,27,364,25,"current"],[336,34,364,32],[336,36,364,34],[337,8,365,6,"socketRef"],[337,17,365,15],[337,18,365,16,"current"],[337,25,365,23],[337,27,365,25,"emit"],[337,31,365,29],[337,32,365,30],[337,45,365,43],[337,47,365,45],[338,10,366,8,"call_id"],[338,17,366,15],[338,19,366,17,"currentCallIdRef"],[338,35,366,33],[338,36,366,34,"current"],[338,43,366,41],[339,10,367,8,"reason"],[339,16,367,14],[339,18,367,16],[340,8,368,6],[340,9,368,7],[340,10,368,8],[341,6,369,4],[342,6,370,4,"cleanupCall"],[342,17,370,15],[342,18,370,16],[342,19,370,17],[343,4,371,2],[343,5,371,3],[343,7,371,5],[343,8,371,6,"cleanupCall"],[343,19,371,17],[343,20,371,18],[343,21,371,19],[344,4,373,2],[344,10,373,8,"endCall"],[344,17,373,15],[344,20,373,18],[344,24,373,18,"useCallback"],[344,30,373,29],[344,31,373,29,"useCallback"],[344,42,373,29],[344,44,373,30],[344,50,373,36],[345,6,374,4,"console"],[345,13,374,11],[345,14,374,12,"log"],[345,17,374,15],[345,18,374,16],[345,48,374,46],[345,50,374,48,"currentCallIdRef"],[345,66,374,64],[345,67,374,65,"current"],[345,74,374,72],[345,75,374,73],[346,6,375,4],[346,10,375,8,"currentCallIdRef"],[346,26,375,24],[346,27,375,25,"current"],[346,34,375,32],[346,36,375,34],[347,8,376,6,"socketRef"],[347,17,376,15],[347,18,376,16,"current"],[347,25,376,23],[347,27,376,25,"emit"],[347,31,376,29],[347,32,376,30],[347,42,376,40],[347,44,376,42],[348,10,376,44,"call_id"],[348,17,376,51],[348,19,376,53,"currentCallIdRef"],[348,35,376,69],[348,36,376,70,"current"],[349,8,376,78],[349,9,376,79],[349,10,376,80],[350,6,377,4],[351,6,378,4],[352,6,379,4,"cleanupCall"],[352,17,379,15],[352,18,379,16],[352,19,379,17],[353,4,380,2],[353,5,380,3],[353,7,380,5],[353,8,380,6,"cleanupCall"],[353,19,380,17],[353,20,380,18],[353,21,380,19],[354,4,382,2],[354,10,382,8,"startCallTimer"],[354,24,382,22],[354,27,382,25,"startCallTimer"],[354,28,382,25],[354,33,382,31],[355,6,383,4,"setCallDuration"],[355,21,383,19],[355,22,383,20],[355,23,383,21],[355,24,383,22],[356,6,384,4,"callTimerRef"],[356,18,384,16],[356,19,384,17,"current"],[356,26,384,24],[356,29,384,27,"setInterval"],[356,40,384,38],[356,41,384,39],[356,47,384,45],[357,8,385,6,"setCallDuration"],[357,23,385,21],[357,24,385,23,"prev"],[357,28,385,27],[357,32,385,32,"prev"],[357,36,385,36],[357,39,385,39],[357,40,385,40],[357,41,385,41],[358,6,386,4],[358,7,386,5],[358,9,386,7],[358,13,386,11],[358,14,386,12],[359,4,387,2],[359,5,387,3],[360,4,389,2],[360,10,389,8,"cleanupCall"],[360,21,389,19],[360,24,389,22],[360,28,389,22,"useCallback"],[360,34,389,33],[360,35,389,33,"useCallback"],[360,46,389,33],[360,48,389,34],[360,54,389,40],[361,6,390,4,"localStreamRef"],[361,20,390,18],[361,21,390,19,"current"],[361,28,390,26],[361,30,390,28,"getTracks"],[361,39,390,37],[361,40,390,38],[361,41,390,39],[361,42,390,40,"forEach"],[361,49,390,47],[361,50,390,49,"track"],[361,55,390,54],[361,59,390,59,"track"],[361,64,390,64],[361,65,390,65,"stop"],[361,69,390,69],[361,70,390,70],[361,71,390,71],[361,72,390,72],[362,6,391,4,"localStreamRef"],[362,20,391,18],[362,21,391,19,"current"],[362,28,391,26],[362,31,391,29],[362,35,391,33],[363,6,393,4,"peerConnectionRef"],[363,23,393,21],[363,24,393,22,"current"],[363,31,393,29],[363,33,393,31,"close"],[363,38,393,36],[363,39,393,37],[363,40,393,38],[364,6,394,4,"peerConnectionRef"],[364,23,394,21],[364,24,394,22,"current"],[364,31,394,29],[364,34,394,32],[364,38,394,36],[365,6,396,4],[365,10,396,8,"callTimerRef"],[365,22,396,20],[365,23,396,21,"current"],[365,30,396,28],[365,32,396,30],[366,8,397,6,"clearInterval"],[366,21,397,19],[366,22,397,20,"callTimerRef"],[366,34,397,32],[366,35,397,33,"current"],[366,42,397,40],[366,43,397,41],[367,8,398,6,"callTimerRef"],[367,20,398,18],[367,21,398,19,"current"],[367,28,398,26],[367,31,398,29],[367,35,398,33],[368,6,399,4],[369,6,401,4,"currentCallIdRef"],[369,22,401,20],[369,23,401,21,"current"],[369,30,401,28],[369,33,401,31],[369,37,401,35],[370,6,402,4,"setCallState"],[370,18,402,16],[370,19,402,17],[370,25,402,23],[370,26,402,24],[371,6,403,4,"setCallInfo"],[371,17,403,15],[371,18,403,16],[371,22,403,20],[371,23,403,21],[372,6,404,4,"setCallDuration"],[372,21,404,19],[372,22,404,20],[372,23,404,21],[372,24,404,22],[373,4,405,2],[373,5,405,3],[373,7,405,5],[373,9,405,7],[373,10,405,8],[374,4,407,2],[374,8,407,2,"useEffect"],[374,14,407,11],[374,15,407,11,"useEffect"],[374,24,407,11],[374,26,407,12],[374,32,407,18],[375,6,408,4],[375,13,408,11],[375,19,408,17],[376,8,409,6,"cleanupCall"],[376,19,409,17],[376,20,409,18],[376,21,409,19],[377,8,410,6,"socketRef"],[377,17,410,15],[377,18,410,16,"current"],[377,25,410,23],[377,27,410,25,"disconnect"],[377,37,410,35],[377,38,410,36],[377,39,410,37],[378,6,411,4],[378,7,411,5],[379,4,412,2],[379,5,412,3],[379,7,412,5],[379,8,412,6,"cleanupCall"],[379,19,412,17],[379,20,412,18],[379,21,412,19],[380,4,414,2],[380,11,414,9],[381,6,415,4,"callState"],[381,15,415,13],[382,6,416,4,"callInfo"],[382,14,416,12],[383,6,417,4,"isConnected"],[383,17,417,15],[384,6,418,4,"callDuration"],[384,18,418,16],[385,6,419,4,"initiateCall"],[385,18,419,16],[386,6,420,4,"acceptCall"],[386,16,420,14],[387,6,421,4,"rejectCall"],[387,16,421,14],[388,6,422,4,"endCall"],[388,13,422,11],[389,6,423,4,"register"],[390,4,424,2],[390,5,424,3],[391,2,425,0],[392,2,425,1,"_s"],[392,4,425,1],[392,5,54,16,"useWebRTCCall"],[392,18,54,29],[393,2,427,7],[393,11,427,16,"formatCallDuration"],[393,29,427,34,"formatCallDuration"],[393,30,427,35,"seconds"],[393,37,427,50],[393,39,427,60],[394,4,428,2],[394,10,428,8,"mins"],[394,14,428,12],[394,17,428,15,"Math"],[394,21,428,19],[394,22,428,20,"floor"],[394,27,428,25],[394,28,428,26,"seconds"],[394,35,428,33],[394,38,428,36],[394,40,428,38],[394,41,428,39],[395,4,429,2],[395,10,429,8,"secs"],[395,14,429,12],[395,17,429,15,"seconds"],[395,24,429,22],[395,27,429,25],[395,29,429,27],[396,4,430,2],[396,11,430,9],[396,14,430,12,"mins"],[396,18,430,16],[396,19,430,17,"toString"],[396,27,430,25],[396,28,430,26],[396,29,430,27],[396,30,430,28,"padStart"],[396,38,430,36],[396,39,430,37],[396,40,430,38],[396,42,430,40],[396,45,430,43],[396,46,430,44],[396,50,430,48,"secs"],[396,54,430,52],[396,55,430,53,"toString"],[396,63,430,61],[396,64,430,62],[396,65,430,63],[396,66,430,64,"padStart"],[396,74,430,72],[396,75,430,73],[396,76,430,74],[396,78,430,76],[396,81,430,79],[396,82,430,80],[396,84,430,82],[397,2,431,0],[398,0,431,1],[398,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BIG;eCK;KDO;GJC;4BMG;GNW;gCOG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GPe;sBYE;GZkB;uBaE;GbK;6BcE;GdG;uBeE;wBCyB,qCD;sBCsB,qCD;GfQ;iCiBE;GjBK;iCkBE;GlBQ;8BmBE;GnBO;yBoBE;uCCE;sBCC,kBD;KDC;GpBC;kCuBE;gDCC,uBD;GvBe;YyBE;WCC;KDG;GzBC;CHa;O8BE;C9BI"},"hasCjsExports":false},"type":"js/module"}]}