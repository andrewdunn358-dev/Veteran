{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useCMSContent = useCMSContent;\n  exports.getCardsByType = getCardsByType;\n  exports.getSection = getSection;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  function useCMSContent(pageSlug) {\n    _s();\n    const [page, setPage] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchContent = (0, _react.useCallback)(async () => {\n      if (!pageSlug) return;\n      setIsLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${API_URL}/api/cms/pages/${pageSlug}`);\n        if (response.status === 404) {\n          // Page not found in CMS - this is not an error, just means no CMS content\n          setPage(null);\n          setIsLoading(false);\n          return;\n        }\n        if (!response.ok) {\n          throw new Error(`Failed to fetch CMS content: ${response.status}`);\n        }\n        const data = await response.json();\n        setPage(data);\n      } catch (err) {\n        console.error('CMS fetch error:', err);\n        setError(err instanceof Error ? err.message : 'Failed to load content');\n        setPage(null);\n      } finally {\n        setIsLoading(false);\n      }\n    }, [pageSlug]);\n    (0, _react.useEffect)(() => {\n      fetchContent();\n    }, [fetchContent]);\n\n    // Extract all sections and cards for convenience\n    const sections = page?.sections || [];\n    const cards = sections.flatMap(s => s.cards || []);\n    return {\n      page,\n      sections,\n      cards,\n      isLoading,\n      error,\n      refetch: fetchContent\n    };\n  }\n\n  // Helper to get cards by section type\n  _s(useCMSContent, \"Lt2Dcs7olhn5veDomYrQzhJ4wLw=\");\n  function getCardsByType(sections, sectionType) {\n    const section = sections.find(s => s.section_type === sectionType);\n    return section?.cards || [];\n  }\n\n  // Helper to get a specific section\n  function getSection(sections, sectionType) {\n    return sections.find(s => s.section_type === sectionType);\n  }\n});","lineCount":72,"map":[[8,2,57,0,"exports"],[8,9,57,0],[8,10,57,0,"useCMSContent"],[8,23,57,0],[8,26,57,0,"useCMSContent"],[8,39,57,0],[9,2,112,0,"exports"],[9,9,112,0],[9,10,112,0,"getCardsByType"],[9,24,112,0],[9,27,112,0,"getCardsByType"],[9,41,112,0],[10,2,118,0,"exports"],[10,9,118,0],[10,10,118,0,"getSection"],[10,20,118,0],[10,23,118,0,"getSection"],[10,33,118,0],[11,2,120,1],[11,6,120,1,"_expoVirtualEnv"],[11,21,120,1],[11,24,120,1,"require"],[11,31,120,1],[11,32,120,1,"_dependencyMap"],[11,46,120,1],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,3,0],[13,8,3,6,"API_URL"],[13,15,3,13],[13,18,3,16,"_expoVirtualEnv"],[13,33,3,16],[13,34,3,16,"env"],[13,37,3,16],[13,38,3,16,"EXPO_PUBLIC_BACKEND_URL"],[13,61,3,16],[13,65,3,55],[13,67,3,57],[14,2,57,7],[14,11,57,16,"useCMSContent"],[14,24,57,29,"useCMSContent"],[14,25,57,30,"pageSlug"],[14,33,57,46],[14,35,57,69],[15,4,57,69,"_s"],[15,6,57,69],[16,4,58,2],[16,10,58,8],[16,11,58,9,"page"],[16,15,58,13],[16,17,58,15,"setPage"],[16,24,58,22],[16,25,58,23],[16,28,58,26],[16,32,58,26,"useState"],[16,38,58,34],[16,39,58,34,"useState"],[16,47,58,34],[16,49,58,51],[16,53,58,55],[16,54,58,56],[17,4,59,2],[17,10,59,8],[17,11,59,9,"isLoading"],[17,20,59,18],[17,22,59,20,"setIsLoading"],[17,34,59,32],[17,35,59,33],[17,38,59,36],[17,42,59,36,"useState"],[17,48,59,44],[17,49,59,44,"useState"],[17,57,59,44],[17,59,59,45],[17,63,59,49],[17,64,59,50],[18,4,60,2],[18,10,60,8],[18,11,60,9,"error"],[18,16,60,14],[18,18,60,16,"setError"],[18,26,60,24],[18,27,60,25],[18,30,60,28],[18,34,60,28,"useState"],[18,40,60,36],[18,41,60,36,"useState"],[18,49,60,36],[18,51,60,52],[18,55,60,56],[18,56,60,57],[19,4,62,2],[19,10,62,8,"fetchContent"],[19,22,62,20],[19,25,62,23],[19,29,62,23,"useCallback"],[19,35,62,34],[19,36,62,34,"useCallback"],[19,47,62,34],[19,49,62,35],[19,61,62,47],[20,6,63,4],[20,10,63,8],[20,11,63,9,"pageSlug"],[20,19,63,17],[20,21,63,19],[21,6,65,4,"setIsLoading"],[21,18,65,16],[21,19,65,17],[21,23,65,21],[21,24,65,22],[22,6,66,4,"setError"],[22,14,66,12],[22,15,66,13],[22,19,66,17],[22,20,66,18],[23,6,68,4],[23,10,68,8],[24,8,69,6],[24,14,69,12,"response"],[24,22,69,20],[24,25,69,23],[24,31,69,29,"fetch"],[24,36,69,34],[24,37,69,35],[24,40,69,38,"API_URL"],[24,47,69,45],[24,65,69,63,"pageSlug"],[24,73,69,71],[24,75,69,73],[24,76,69,74],[25,8,71,6],[25,12,71,10,"response"],[25,20,71,18],[25,21,71,19,"status"],[25,27,71,25],[25,32,71,30],[25,35,71,33],[25,37,71,35],[26,10,72,8],[27,10,73,8,"setPage"],[27,17,73,15],[27,18,73,16],[27,22,73,20],[27,23,73,21],[28,10,74,8,"setIsLoading"],[28,22,74,20],[28,23,74,21],[28,28,74,26],[28,29,74,27],[29,10,75,8],[30,8,76,6],[31,8,78,6],[31,12,78,10],[31,13,78,11,"response"],[31,21,78,19],[31,22,78,20,"ok"],[31,24,78,22],[31,26,78,24],[32,10,79,8],[32,16,79,14],[32,20,79,18,"Error"],[32,25,79,23],[32,26,79,24],[32,58,79,56,"response"],[32,66,79,64],[32,67,79,65,"status"],[32,73,79,71],[32,75,79,73],[32,76,79,74],[33,8,80,6],[34,8,82,6],[34,14,82,12,"data"],[34,18,82,16],[34,21,82,19],[34,27,82,25,"response"],[34,35,82,33],[34,36,82,34,"json"],[34,40,82,38],[34,41,82,39],[34,42,82,40],[35,8,83,6,"setPage"],[35,15,83,13],[35,16,83,14,"data"],[35,20,83,18],[35,21,83,19],[36,6,84,4],[36,7,84,5],[36,8,84,6],[36,15,84,13,"err"],[36,18,84,16],[36,20,84,18],[37,8,85,6,"console"],[37,15,85,13],[37,16,85,14,"error"],[37,21,85,19],[37,22,85,20],[37,40,85,38],[37,42,85,40,"err"],[37,45,85,43],[37,46,85,44],[38,8,86,6,"setError"],[38,16,86,14],[38,17,86,15,"err"],[38,20,86,18],[38,32,86,30,"Error"],[38,37,86,35],[38,40,86,38,"err"],[38,43,86,41],[38,44,86,42,"message"],[38,51,86,49],[38,54,86,52],[38,78,86,76],[38,79,86,77],[39,8,87,6,"setPage"],[39,15,87,13],[39,16,87,14],[39,20,87,18],[39,21,87,19],[40,6,88,4],[40,7,88,5],[40,16,88,14],[41,8,89,6,"setIsLoading"],[41,20,89,18],[41,21,89,19],[41,26,89,24],[41,27,89,25],[42,6,90,4],[43,4,91,2],[43,5,91,3],[43,7,91,5],[43,8,91,6,"pageSlug"],[43,16,91,14],[43,17,91,15],[43,18,91,16],[44,4,93,2],[44,8,93,2,"useEffect"],[44,14,93,11],[44,15,93,11,"useEffect"],[44,24,93,11],[44,26,93,12],[44,32,93,18],[45,6,94,4,"fetchContent"],[45,18,94,16],[45,19,94,17],[45,20,94,18],[46,4,95,2],[46,5,95,3],[46,7,95,5],[46,8,95,6,"fetchContent"],[46,20,95,18],[46,21,95,19],[46,22,95,20],[48,4,97,2],[49,4,98,2],[49,10,98,8,"sections"],[49,18,98,16],[49,21,98,19,"page"],[49,25,98,23],[49,27,98,25,"sections"],[49,35,98,33],[49,39,98,37],[49,41,98,39],[50,4,99,2],[50,10,99,8,"cards"],[50,15,99,13],[50,18,99,16,"sections"],[50,26,99,24],[50,27,99,25,"flatMap"],[50,34,99,32],[50,35,99,33,"s"],[50,36,99,34],[50,40,99,38,"s"],[50,41,99,39],[50,42,99,40,"cards"],[50,47,99,45],[50,51,99,49],[50,53,99,51],[50,54,99,52],[51,4,101,2],[51,11,101,9],[52,6,102,4,"page"],[52,10,102,8],[53,6,103,4,"sections"],[53,14,103,12],[54,6,104,4,"cards"],[54,11,104,9],[55,6,105,4,"isLoading"],[55,15,105,13],[56,6,106,4,"error"],[56,11,106,9],[57,6,107,4,"refetch"],[57,13,107,11],[57,15,107,13,"fetchContent"],[58,4,108,2],[58,5,108,3],[59,2,109,0],[61,2,111,0],[62,2,111,0,"_s"],[62,4,111,0],[62,5,57,16,"useCMSContent"],[62,18,57,29],[63,2,112,7],[63,11,112,16,"getCardsByType"],[63,25,112,30,"getCardsByType"],[63,26,112,31,"sections"],[63,34,112,53],[63,36,112,55,"sectionType"],[63,47,112,74],[63,49,112,87],[64,4,113,2],[64,10,113,8,"section"],[64,17,113,15],[64,20,113,18,"sections"],[64,28,113,26],[64,29,113,27,"find"],[64,33,113,31],[64,34,113,32,"s"],[64,35,113,33],[64,39,113,37,"s"],[64,40,113,38],[64,41,113,39,"section_type"],[64,53,113,51],[64,58,113,56,"sectionType"],[64,69,113,67],[64,70,113,68],[65,4,114,2],[65,11,114,9,"section"],[65,18,114,16],[65,20,114,18,"cards"],[65,25,114,23],[65,29,114,27],[65,31,114,29],[66,2,115,0],[68,2,117,0],[69,2,118,7],[69,11,118,16,"getSection"],[69,21,118,26,"getSection"],[69,22,118,27,"sections"],[69,30,118,49],[69,32,118,51,"sectionType"],[69,43,118,70],[69,45,118,96],[70,4,119,2],[70,11,119,9,"sections"],[70,19,119,17],[70,20,119,18,"find"],[70,24,119,22],[70,25,119,23,"s"],[70,26,119,24],[70,30,119,28,"s"],[70,31,119,29],[70,32,119,30,"section_type"],[70,44,119,42],[70,49,119,47,"sectionType"],[70,60,119,58],[70,61,119,59],[71,2,120,0],[72,0,120,1],[72,3]],"functionMap":{"names":["<global>","useCMSContent","fetchContent","useEffect$argument_0","sections.flatMap$argument_0","getCardsByType","sections.find$argument_0","getSection"],"mappings":"AAA;OCwD;mCCK;GD6B;YEE;GFE;iCGI,kBH;CDU;OKG;gCCC,mCD;CLE;OOG;uBDC,mCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}