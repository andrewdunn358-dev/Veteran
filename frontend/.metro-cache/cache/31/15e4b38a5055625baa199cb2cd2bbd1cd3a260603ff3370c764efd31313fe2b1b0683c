{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function({children:e}){const[o,l]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[w,_]=(0,t.useState)(!0);(0,t.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await s.default.getItem('auth_token'),t=await s.default.getItem('auth_user');e&&t&&(f(e),l(JSON.parse(t)))}catch(e){console.error('Error loading auth:',e)}finally{_(!1)}};return(0,n.jsx)(u.Provider,{value:{user:o,token:h,isLoading:w,login:async(e,t)=>{try{const o=await fetch(`${c}/api/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,password:t})});if(!o.ok)return{success:!1,error:(await o.json()).detail||'Login failed'};const n=await o.json();return f(n.access_token),l(n.user),await s.default.setItem('auth_token',n.access_token),await s.default.setItem('auth_user',JSON.stringify(n.user)),{success:!0}}catch(e){return console.error('Login error:',e),{success:!1,error:'Network error. Please try again.'}}},logout:async()=>{f(null),l(null),await s.default.removeItem('auth_token'),await s.default.removeItem('auth_user')}},children:e})},_e.useAuth=function(){const e=(0,t.useContext)(u);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var e,t=r(d[0]),o=r(d[1]),s=(e=o)&&e.__esModule?e:{default:e},n=r(d[2]);const u=(0,t.createContext)(void 0),c=\"https://vet-support-app.preview.emergentagent.com\"});","lineCount":1,"map":[[1,92,24,0,"_e"],[1,95,24,0,"AuthProvider"],[1,108,24,7],[1,118,24,29,"children"],[1,127,24,31,"children"],[1,131,25,2],[1,137,25,9,"user"],[1,139,25,15,"setUser"],[1,143,25,26],[1,145,25,26,"useState"],[1,147,25,34,"useState"],[1,157,25,48],[1,164,26,9,"token"],[1,166,26,16,"setToken"],[1,170,26,28],[1,172,26,28,"useState"],[1,174,26,36,"useState"],[1,184,26,52],[1,191,27,9,"isLoading"],[1,193,27,20,"setIsLoading"],[1,197,27,36],[1,199,27,36,"useState"],[1,201,27,44,"useState"],[1,212,27,45],[1,216,29,2],[1,218,29,2,"useEffect"],[1,220,29,11,"useEffect"],[1,231,29,12],[1,236,30,4,"loadStoredAuth"],[1,241,31,5],[1,245,33,2],[1,251,33,8,"loadStoredAuth"],[1,253,33,25,"async"],[1,263,34,4],[1,267,35,6],[1,273,35,12,"storedToken"],[1,281,35,32,"AsyncStorage"],[1,283,35,44,"default"],[1,291,35,45,"getItem"],[1,299,35,53],[1,313,36,12,"storedUser"],[1,321,36,31,"AsyncStorage"],[1,323,36,43,"default"],[1,331,36,44,"getItem"],[1,339,36,52],[1,352,37,10,"storedToken"],[1,355,37,25,"storedUser"],[1,359,38,8,"setToken"],[1,361,38,17,"storedToken"],[1,364,39,8,"setUser"],[1,366,39,16,"JSON"],[1,371,39,21,"parse"],[1,377,39,27,"storedUser"],[1,381,41,4],[1,382,41,6],[1,388,41,13,"error"],[1,391,42,6,"console"],[1,399,42,14,"error"],[1,405,42,20],[1,427,42,43,"error"],[1,429,43,4],[1,430,43,5],[1,438,44,6,"setIsLoading"],[1,441,44,19],[1,443,45,4],[1,446,80,2],[1,453,81,4],[1,455,81,4,"_reactJsxRuntime"],[1,457,81,4,"jsx"],[1,462,81,5,"AuthContext"],[1,464,81,17,"Provider"],[1,473,81,25],[1,474,81,26,"value"],[1,480,81,33],[1,481,81,35,"user"],[1,488,81,41,"token"],[1,496,81,48,"isLoading"],[1,508,81,59,"login"],[1,514,48,16,"async"],[1,520,48,23,"email"],[1,522,48,38,"password"],[1,527,49,4],[1,531,50,6],[1,537,50,12,"response"],[1,545,50,29,"fetch"],[1,551,50,35],[1,554,50,38,"API_URL"],[1,573,50,64],[1,574,51,8,"method"],[1,581,51,16],[1,588,52,8,"headers"],[1,596,52,17],[1,597,52,19],[1,612,52,35],[1,632,53,8,"body"],[1,637,53,14,"JSON"],[1,642,53,19,"stringify"],[1,652,53,29],[1,653,53,31,"email"],[1,661,53,38,"password"],[1,676,56,6],[1,680,56,11,"response"],[1,682,56,20,"ok"],[1,685,58,8],[1,691,58,15],[1,692,58,17,"success"],[1,701,58,26],[1,703,58,33,"error"],[1,716,57,28,"response"],[1,718,57,37,"json"],[1,726,58,46,"detail"],[1,734,58,56],[1,750,61,6],[1,756,61,12,"data"],[1,764,61,25,"response"],[1,766,61,34,"json"],[1,773,66,6],[1,780,62,6,"setToken"],[1,782,62,15,"data"],[1,784,62,20,"access_token"],[1,798,63,6,"setUser"],[1,800,63,14,"data"],[1,802,63,19,"user"],[1,814,64,12,"AsyncStorage"],[1,816,64,24,"default"],[1,824,64,25,"setItem"],[1,832,64,33],[1,845,64,47,"data"],[1,847,64,52,"access_token"],[1,867,65,12,"AsyncStorage"],[1,869,65,24,"default"],[1,877,65,25,"setItem"],[1,885,65,33],[1,897,65,46,"JSON"],[1,902,65,51,"stringify"],[1,912,65,61,"data"],[1,914,65,66,"user"],[1,921,66,13],[1,922,66,15,"success"],[1,931,66,24],[1,933,67,4],[1,934,67,6],[1,940,67,13,"error"],[1,943,69,6],[1,950,68,6,"console"],[1,958,68,14,"error"],[1,964,68,20],[1,979,68,36,"error"],[1,982,69,13],[1,983,69,15,"success"],[1,992,69,24],[1,994,69,31,"error"],[1,1000,69,38],[1,1035,70,4],[1,1038,81,66,"logout"],[1,1045,73,17,"async"],[1,1055,74,4,"setToken"],[1,1057,74,13],[1,1063,75,4,"setUser"],[1,1065,75,12],[1,1077,76,10,"AsyncStorage"],[1,1079,76,22,"default"],[1,1087,76,23,"removeItem"],[1,1098,76,34],[1,1118,77,10,"AsyncStorage"],[1,1120,77,22,"default"],[1,1128,77,23,"removeItem"],[1,1139,77,34],[1,1154,81,75,"children"],[1,1163,82,7,"children"],[1,1166,85,0],[1,1168,87,0,"_e"],[1,1171,87,0,"useAuth"],[1,1179,87,7],[1,1190,88,2],[1,1196,88,8,"context"],[1,1199,88,18],[1,1201,88,18,"useContext"],[1,1203,88,28,"useContext"],[1,1215,88,29,"AuthContext"],[1,1218,89,2],[1,1226,89,18,"undefined"],[1,1230,89,6,"context"],[1,1232,90,4],[1,1238,90,10],[1,1242,90,14,"Error"],[1,1248,90,20],[1,1295,92,2],[1,1302,92,9,"context"],[1,1303,93,0],[1,1305,1,0],[1,1309],[1,1311,1,0,"_react"],[1,1313,1,0,"r"],[1,1315,1,0,"d"],[1,1317,1,0],[1,1321,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1323,2,0,"r"],[1,1325,2,0,"d"],[1,1327,2,0],[1,1331,2,0,"AsyncStorage"],[1,1334],[1,1336,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1340],[1,1367,2,69,"_reactJsxRuntime"],[1,1369,2,69,"r"],[1,1371,2,69,"d"],[1,1373,2,69],[1,1377,19,0],[1,1383,19,6,"AuthContext"],[1,1386,19,20],[1,1388,19,20,"createContext"],[1,1390,19,33,"createContext"],[1,1410,19,63,"undefined"],[1,1413,22,6,"API_URL"],[1,1415,22,13],[1,1466,93,1],[1,1469]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCuB;YCK;GDE;yBEE;GFa;gBGE;GHuB;iBIE;GJK;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}