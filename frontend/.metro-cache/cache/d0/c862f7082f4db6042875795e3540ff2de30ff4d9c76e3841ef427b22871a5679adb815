{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[3], \"socket.io-client\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    _s();\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Define cleanupCall first since it's used by many other functions\n    const cleanupCallFn = () => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    };\n\n    // Use ref for cleanup to avoid closure issues\n    const cleanupCallRef = (0, _react.useRef)(cleanupCallFn);\n    cleanupCallRef.current = cleanupCallFn;\n    const cleanupCall = (0, _react.useCallback)(() => {\n      cleanupCallRef.current();\n    }, []);\n    const startCallTimer = (0, _react.useCallback)(() => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    }, []);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? Object.assign({}, prev, {\n            callId: data.call_id\n          }) : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  _s(useWebRTCCall, \"T9sCv7rQuutLu+8YHnLGqtdR138=\");\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":406,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,1,0],[13,11,1,0,"_interopDefault"],[13,27,1,0,"e"],[13,28,1,0],[14,4,1,0],[14,11,1,0,"e"],[14,12,1,0],[14,16,1,0,"e"],[14,17,1,0],[14,18,1,0,"__esModule"],[14,28,1,0],[14,31,1,0,"e"],[14,32,1,0],[15,6,1,0,"default"],[15,13,1,0],[15,15,1,0,"e"],[16,4,1,0],[17,2,1,0],[18,2,54,0,"exports"],[18,9,54,0],[18,10,54,0,"useWebRTCCall"],[18,23,54,0],[18,26,54,0,"useWebRTCCall"],[18,39,54,0],[19,2,436,0,"exports"],[19,9,436,0],[19,10,436,0,"formatCallDuration"],[19,28,436,0],[19,31,436,0,"formatCallDuration"],[19,49,436,0],[20,2,440,1],[20,6,440,1,"_expoVirtualEnv"],[20,21,440,1],[20,24,440,1,"require"],[20,31,440,1],[20,32,440,1,"_dependencyMap"],[20,46,440,1],[21,2,7,0],[21,6,7,0,"_react"],[21,12,7,0],[21,15,7,0,"require"],[21,22,7,0],[21,23,7,0,"_dependencyMap"],[21,37,7,0],[22,2,7,65],[22,6,7,65,"_reactNativeWebDistExportsPlatform"],[22,40,7,65],[22,43,7,65,"require"],[22,50,7,65],[22,51,7,65,"_dependencyMap"],[22,65,7,65],[23,2,7,65],[23,6,7,65,"Platform"],[23,14,7,65],[23,17,7,65,"_interopDefault"],[23,32,7,65],[23,33,7,65,"_reactNativeWebDistExportsPlatform"],[23,67,7,65],[24,2,9,0],[24,6,9,0,"_socketIoClient"],[24,21,9,0],[24,24,9,0,"require"],[24,31,9,0],[24,32,9,0,"_dependencyMap"],[24,46,9,0],[25,2,11,0],[25,8,11,6,"API_URL"],[25,15,11,13],[25,18,11,16,"_expoVirtualEnv"],[25,33,11,16],[25,34,11,16,"env"],[25,37,11,16],[25,38,11,16,"EXPO_PUBLIC_BACKEND_URL"],[25,61,11,16],[25,65,11,55],[25,67,11,57],[27,2,13,0],[28,2,14,0],[28,8,14,6,"showAlert"],[28,17,14,15],[28,20,14,18,"showAlert"],[28,21,14,19,"title"],[28,26,14,32],[28,28,14,34,"message"],[28,35,14,49],[28,40,14,54],[29,4,15,2],[29,8,15,6,"Platform"],[29,16,15,14],[29,17,15,14,"default"],[29,24,15,14],[29,25,15,15,"OS"],[29,27,15,17],[29,32,15,22],[29,37,15,27],[29,41,15,31],[29,48,15,38,"window"],[29,54,15,44],[29,59,15,49],[29,70,15,60],[29,72,15,62],[30,6,16,4,"window"],[30,12,16,10],[30,13,16,11,"alert"],[30,18,16,16],[30,19,16,17],[30,22,16,20,"title"],[30,27,16,25],[30,34,16,32,"message"],[30,41,16,39],[30,43,16,41],[30,44,16,42],[31,4,17,2],[31,5,17,3],[31,11,17,9],[32,6,18,4],[33,6,19,4,"require"],[33,13,19,4],[33,14,19,4,"_dependencyMap"],[33,28,19,4],[33,71,19,4,"_dependencyMap"],[33,85,19,4],[33,90,19,4,"_dependencyMap"],[33,104,19,4],[33,105,19,4,"paths"],[33,110,19,4],[33,128,19,27,"then"],[33,132,19,31],[33,133,19,32],[33,134,19,33],[34,8,19,35,"Alert"],[35,6,19,41],[35,7,19,42],[35,12,19,47],[36,8,20,6,"Alert"],[36,13,20,11],[36,14,20,12,"alert"],[36,19,20,17],[36,20,20,18,"title"],[36,25,20,23],[36,27,20,25,"message"],[36,34,20,32],[36,35,20,33],[37,6,21,4],[37,7,21,5],[37,8,21,6],[38,4,22,2],[39,2,23,0],[39,3,23,1],[41,2,25,0],[42,2,26,0],[42,8,26,6,"RTC_CONFIG"],[42,18,26,16],[42,21,26,19],[43,4,27,2,"iceServers"],[43,14,27,12],[43,16,27,14],[43,17,28,4],[44,6,28,6,"urls"],[44,10,28,10],[44,12,28,12],[45,4,28,43],[45,5,28,44],[45,7,29,4],[46,6,29,6,"urls"],[46,10,29,10],[46,12,29,12],[47,4,29,44],[47,5,29,45],[48,2,31,0],[48,3,31,1],[49,2,54,7],[49,11,54,16,"useWebRTCCall"],[49,24,54,29,"useWebRTCCall"],[49,25,54,29],[49,27,54,53],[50,4,54,53,"_s"],[50,6,54,53],[51,4,55,2],[51,10,55,8],[51,11,55,9,"callState"],[51,20,55,18],[51,22,55,20,"setCallState"],[51,34,55,32],[51,35,55,33],[51,38,55,36],[51,42,55,36,"useState"],[51,48,55,44],[51,49,55,44,"useState"],[51,57,55,44],[51,59,55,56],[51,65,55,62],[51,66,55,63],[52,4,56,2],[52,10,56,8],[52,11,56,9,"callInfo"],[52,19,56,17],[52,21,56,19,"setCallInfo"],[52,32,56,30],[52,33,56,31],[52,36,56,34],[52,40,56,34,"useState"],[52,46,56,42],[52,47,56,42,"useState"],[52,55,56,42],[52,57,56,60],[52,61,56,64],[52,62,56,65],[53,4,57,2],[53,10,57,8],[53,11,57,9,"isConnected"],[53,22,57,20],[53,24,57,22,"setIsConnected"],[53,38,57,36],[53,39,57,37],[53,42,57,40],[53,46,57,40,"useState"],[53,52,57,48],[53,53,57,48,"useState"],[53,61,57,48],[53,63,57,49],[53,68,57,54],[53,69,57,55],[54,4,58,2],[54,10,58,8],[54,11,58,9,"callDuration"],[54,23,58,21],[54,25,58,23,"setCallDuration"],[54,40,58,38],[54,41,58,39],[54,44,58,42],[54,48,58,42,"useState"],[54,54,58,50],[54,55,58,50,"useState"],[54,63,58,50],[54,65,58,51],[54,66,58,52],[54,67,58,53],[55,4,60,2],[55,10,60,8,"socketRef"],[55,19,60,17],[55,22,60,20],[55,26,60,20,"useRef"],[55,32,60,26],[55,33,60,26,"useRef"],[55,39,60,26],[55,41,60,42],[55,45,60,46],[55,46,60,47],[56,4,61,2],[56,10,61,8,"peerConnectionRef"],[56,27,61,25],[56,30,61,28],[56,34,61,28,"useRef"],[56,40,61,34],[56,41,61,34,"useRef"],[56,47,61,34],[56,49,61,61],[56,53,61,65],[56,54,61,66],[57,4,62,2],[57,10,62,8,"localStreamRef"],[57,24,62,22],[57,27,62,25],[57,31,62,25,"useRef"],[57,37,62,31],[57,38,62,31,"useRef"],[57,44,62,31],[57,46,62,52],[57,50,62,56],[57,51,62,57],[58,4,63,2],[58,10,63,8,"remoteAudioRef"],[58,24,63,22],[58,27,63,25],[58,31,63,25,"useRef"],[58,37,63,31],[58,38,63,31,"useRef"],[58,44,63,31],[58,46,63,57],[58,50,63,61],[58,51,63,62],[59,4,64,2],[59,10,64,8,"callTimerRef"],[59,22,64,20],[59,25,64,23],[59,29,64,23,"useRef"],[59,35,64,29],[59,36,64,29,"useRef"],[59,42,64,29],[59,44,64,69],[59,48,64,73],[59,49,64,74],[60,4,65,2],[60,10,65,8,"currentCallIdRef"],[60,26,65,24],[60,29,65,27],[60,33,65,27,"useRef"],[60,39,65,33],[60,40,65,33,"useRef"],[60,46,65,33],[60,48,65,49],[60,52,65,53],[60,53,65,54],[62,4,67,2],[63,4,68,2],[63,10,68,8,"cleanupCallFn"],[63,23,68,21],[63,26,68,24,"cleanupCallFn"],[63,27,68,24],[63,32,68,30],[64,6,69,4,"localStreamRef"],[64,20,69,18],[64,21,69,19,"current"],[64,28,69,26],[64,30,69,28,"getTracks"],[64,39,69,37],[64,40,69,38],[64,41,69,39],[64,42,69,40,"forEach"],[64,49,69,47],[64,50,69,49,"track"],[64,55,69,54],[64,59,69,59,"track"],[64,64,69,64],[64,65,69,65,"stop"],[64,69,69,69],[64,70,69,70],[64,71,69,71],[64,72,69,72],[65,6,70,4,"localStreamRef"],[65,20,70,18],[65,21,70,19,"current"],[65,28,70,26],[65,31,70,29],[65,35,70,33],[66,6,72,4,"peerConnectionRef"],[66,23,72,21],[66,24,72,22,"current"],[66,31,72,29],[66,33,72,31,"close"],[66,38,72,36],[66,39,72,37],[66,40,72,38],[67,6,73,4,"peerConnectionRef"],[67,23,73,21],[67,24,73,22,"current"],[67,31,73,29],[67,34,73,32],[67,38,73,36],[68,6,75,4],[68,10,75,8,"callTimerRef"],[68,22,75,20],[68,23,75,21,"current"],[68,30,75,28],[68,32,75,30],[69,8,76,6,"clearInterval"],[69,21,76,19],[69,22,76,20,"callTimerRef"],[69,34,76,32],[69,35,76,33,"current"],[69,42,76,40],[69,43,76,41],[70,8,77,6,"callTimerRef"],[70,20,77,18],[70,21,77,19,"current"],[70,28,77,26],[70,31,77,29],[70,35,77,33],[71,6,78,4],[72,6,80,4,"currentCallIdRef"],[72,22,80,20],[72,23,80,21,"current"],[72,30,80,28],[72,33,80,31],[72,37,80,35],[73,6,81,4,"setCallState"],[73,18,81,16],[73,19,81,17],[73,25,81,23],[73,26,81,24],[74,6,82,4,"setCallInfo"],[74,17,82,15],[74,18,82,16],[74,22,82,20],[74,23,82,21],[75,6,83,4,"setCallDuration"],[75,21,83,19],[75,22,83,20],[75,23,83,21],[75,24,83,22],[76,4,84,2],[76,5,84,3],[78,4,86,2],[79,4,87,2],[79,10,87,8,"cleanupCallRef"],[79,24,87,22],[79,27,87,25],[79,31,87,25,"useRef"],[79,37,87,31],[79,38,87,31,"useRef"],[79,44,87,31],[79,46,87,32,"cleanupCallFn"],[79,59,87,45],[79,60,87,46],[80,4,88,2,"cleanupCallRef"],[80,18,88,16],[80,19,88,17,"current"],[80,26,88,24],[80,29,88,27,"cleanupCallFn"],[80,42,88,40],[81,4,90,2],[81,10,90,8,"cleanupCall"],[81,21,90,19],[81,24,90,22],[81,28,90,22,"useCallback"],[81,34,90,33],[81,35,90,33,"useCallback"],[81,46,90,33],[81,48,90,34],[81,54,90,40],[82,6,91,4,"cleanupCallRef"],[82,20,91,18],[82,21,91,19,"current"],[82,28,91,26],[82,29,91,27],[82,30,91,28],[83,4,92,2],[83,5,92,3],[83,7,92,5],[83,9,92,7],[83,10,92,8],[84,4,94,2],[84,10,94,8,"startCallTimer"],[84,24,94,22],[84,27,94,25],[84,31,94,25,"useCallback"],[84,37,94,36],[84,38,94,36,"useCallback"],[84,49,94,36],[84,51,94,37],[84,57,94,43],[85,6,95,4,"setCallDuration"],[85,21,95,19],[85,22,95,20],[85,23,95,21],[85,24,95,22],[86,6,96,4,"callTimerRef"],[86,18,96,16],[86,19,96,17,"current"],[86,26,96,24],[86,29,96,27,"setInterval"],[86,40,96,38],[86,41,96,39],[86,47,96,45],[87,8,97,6,"setCallDuration"],[87,23,97,21],[87,24,97,23,"prev"],[87,28,97,27],[87,32,97,32,"prev"],[87,36,97,36],[87,39,97,39],[87,40,97,40],[87,41,97,41],[88,6,98,4],[88,7,98,5],[88,9,98,7],[88,13,98,11],[88,14,98,12],[89,4,99,2],[89,5,99,3],[89,7,99,5],[89,9,99,7],[89,10,99,8],[91,4,101,2],[92,4,102,2],[92,10,102,8,"initializeSocket"],[92,26,102,24],[92,29,102,27],[92,33,102,27,"useCallback"],[92,39,102,38],[92,40,102,38,"useCallback"],[92,51,102,38],[92,53,102,39],[92,59,102,45],[93,6,103,4],[93,10,103,8,"Platform"],[93,18,103,16],[93,19,103,16,"default"],[93,26,103,16],[93,27,103,17,"OS"],[93,29,103,19],[93,34,103,24],[93,39,103,29],[93,41,103,31],[94,6,104,4],[94,10,104,8,"socketRef"],[94,19,104,17],[94,20,104,18,"current"],[94,27,104,25],[94,29,104,27,"connected"],[94,38,104,36],[94,40,104,38],[95,8,105,6,"console"],[95,15,105,13],[95,16,105,14,"log"],[95,19,105,17],[95,20,105,18],[95,54,105,52],[95,55,105,53],[96,8,106,6],[97,6,107,4],[99,6,109,4],[100,6,110,4],[100,10,110,8,"socketRef"],[100,19,110,17],[100,20,110,18,"current"],[100,27,110,25],[100,29,110,27],[101,8,111,6,"console"],[101,15,111,13],[101,16,111,14,"log"],[101,19,111,17],[101,20,111,18],[101,78,111,76],[101,79,111,77],[102,8,112,6,"socketRef"],[102,17,112,15],[102,18,112,16,"current"],[102,25,112,23],[102,26,112,24,"connect"],[102,33,112,31],[102,34,112,32],[102,35,112,33],[103,8,113,6],[104,6,114,4],[106,6,116,4],[107,6,117,4],[107,12,117,10,"backendUrl"],[107,22,117,20],[107,25,117,23,"API_URL"],[107,32,117,30],[108,6,118,4,"console"],[108,13,118,11],[108,14,118,12,"log"],[108,17,118,15],[108,18,118,16],[108,61,118,59],[108,63,118,61,"backendUrl"],[108,73,118,71],[108,74,118,72],[109,6,120,4,"socketRef"],[109,15,120,13],[109,16,120,14,"current"],[109,23,120,21],[109,26,120,24],[109,30,120,24,"io"],[109,45,120,26],[109,46,120,26,"io"],[109,48,120,26],[109,50,120,27,"backendUrl"],[109,60,120,37],[109,62,120,39],[110,8,121,6,"transports"],[110,18,121,16],[110,20,121,18],[110,21,121,19],[110,32,121,30],[110,34,121,32],[110,43,121,41],[110,44,121,42],[111,8,122,6,"reconnection"],[111,20,122,18],[111,22,122,20],[111,26,122,24],[112,8,123,6,"reconnectionAttempts"],[112,28,123,26],[112,30,123,28],[112,32,123,30],[113,8,124,6,"reconnectionDelay"],[113,25,124,23],[113,27,124,25],[113,31,124,29],[114,8,125,6,"timeout"],[114,15,125,13],[114,17,125,15],[114,22,125,20],[115,8,126,6,"path"],[115,12,126,10],[115,14,126,12],[115,30,126,28],[115,31,126,31],[116,6,127,4],[116,7,127,5],[116,8,127,6],[117,6,129,4,"socketRef"],[117,15,129,13],[117,16,129,14,"current"],[117,23,129,21],[117,24,129,22,"on"],[117,26,129,24],[117,27,129,25],[117,36,129,34],[117,38,129,36],[117,44,129,42],[118,8,130,6,"console"],[118,15,130,13],[118,16,130,14,"log"],[118,19,130,17],[118,20,130,18],[118,59,130,57],[118,60,130,58],[119,8,131,6,"setIsConnected"],[119,22,131,20],[119,23,131,21],[119,27,131,25],[119,28,131,26],[120,6,132,4],[120,7,132,5],[120,8,132,6],[121,6,134,4,"socketRef"],[121,15,134,13],[121,16,134,14,"current"],[121,23,134,21],[121,24,134,22,"on"],[121,26,134,24],[121,27,134,25],[121,39,134,37],[121,41,134,39],[121,47,134,45],[122,8,135,6,"console"],[122,15,135,13],[122,16,135,14,"log"],[122,19,135,17],[122,20,135,18],[122,42,135,40],[122,43,135,41],[123,8,136,6,"setIsConnected"],[123,22,136,20],[123,23,136,21],[123,28,136,26],[123,29,136,27],[124,8,137,6,"cleanupCall"],[124,19,137,17],[124,20,137,18],[124,21,137,19],[125,6,138,4],[125,7,138,5],[125,8,138,6],[126,6,140,4,"socketRef"],[126,15,140,13],[126,16,140,14,"current"],[126,23,140,21],[126,24,140,22,"on"],[126,26,140,24],[126,27,140,25],[126,39,140,37],[126,41,140,40,"data"],[126,45,140,49],[126,49,140,54],[127,8,141,6,"console"],[127,15,141,13],[127,16,141,14,"log"],[127,19,141,17],[127,20,141,18],[127,40,141,38],[127,42,141,40,"data"],[127,46,141,44],[127,47,141,45],[128,6,142,4],[128,7,142,5],[128,8,142,6],[130,6,144,4],[131,6,145,4,"socketRef"],[131,15,145,13],[131,16,145,14,"current"],[131,23,145,21],[131,24,145,22,"on"],[131,26,145,24],[131,27,145,25],[131,42,145,40],[131,44,145,43,"data"],[131,48,145,52],[131,52,145,57],[132,8,146,6,"console"],[132,15,146,13],[132,16,146,14,"log"],[132,19,146,17],[132,20,146,18],[132,43,146,41],[132,45,146,43,"data"],[132,49,146,47],[132,50,146,48],[133,8,147,6,"currentCallIdRef"],[133,24,147,22],[133,25,147,23,"current"],[133,32,147,30],[133,35,147,33,"data"],[133,39,147,37],[133,40,147,38,"call_id"],[133,47,147,45],[134,8,148,6,"setCallInfo"],[134,19,148,17],[134,20,148,18],[135,10,149,8,"callId"],[135,16,149,14],[135,18,149,16,"data"],[135,22,149,20],[135,23,149,21,"call_id"],[135,30,149,28],[136,10,150,8,"peerName"],[136,18,150,16],[136,20,150,18,"data"],[136,24,150,22],[136,25,150,23,"caller_name"],[136,36,150,34],[137,10,151,8,"callType"],[137,18,151,16],[137,20,151,18,"data"],[137,24,151,22],[137,25,151,23,"call_type"],[137,34,151,32],[137,38,151,36],[137,45,151,43],[138,10,152,8,"isIncoming"],[138,20,152,18],[138,22,152,20],[139,8,153,6],[139,9,153,7],[139,10,153,8],[140,8,154,6,"setCallState"],[140,20,154,18],[140,21,154,19],[140,30,154,28],[140,31,154,29],[141,6,155,4],[141,7,155,5],[141,8,155,6],[143,6,157,4],[144,6,158,4,"socketRef"],[144,15,158,13],[144,16,158,14,"current"],[144,23,158,21],[144,24,158,22,"on"],[144,26,158,24],[144,27,158,25],[144,42,158,40],[144,44,158,42],[144,50,158,49,"data"],[144,54,158,58],[144,58,158,63],[145,8,159,6,"console"],[145,15,159,13],[145,16,159,14,"log"],[145,19,159,17],[145,20,159,18],[145,43,159,41],[145,45,159,43,"data"],[145,49,159,47],[145,50,159,48],[146,8,160,6],[146,12,160,10,"data"],[146,16,160,14],[146,17,160,15,"call_id"],[146,24,160,22],[146,26,160,24],[147,10,161,8,"currentCallIdRef"],[147,26,161,24],[147,27,161,25,"current"],[147,34,161,32],[147,37,161,35,"data"],[147,41,161,39],[147,42,161,40,"call_id"],[147,49,161,47],[148,8,162,6],[149,8,163,6,"setCallState"],[149,20,163,18],[149,21,163,19],[149,33,163,31],[149,34,163,32],[150,8,164,6],[150,14,164,12,"startWebRTCConnection"],[150,35,164,33],[150,36,164,34],[150,40,164,38],[150,41,164,39],[151,6,165,4],[151,7,165,5],[151,8,165,6],[153,6,167,4],[154,6,168,4,"socketRef"],[154,15,168,13],[154,16,168,14,"current"],[154,23,168,21],[154,24,168,22,"on"],[154,26,168,24],[154,27,168,25],[154,43,168,41],[154,45,168,43],[154,51,168,49],[155,8,169,6,"console"],[155,15,169,13],[155,16,169,14,"log"],[155,19,169,17],[155,20,169,18],[155,44,169,42],[155,45,169,43],[156,8,170,6,"setCallState"],[156,20,170,18],[156,21,170,19],[156,32,170,30],[156,33,170,31],[157,8,171,6,"startCallTimer"],[157,22,171,20],[157,23,171,21],[157,24,171,22],[158,6,172,4],[158,7,172,5],[158,8,172,6],[160,6,174,4],[161,6,175,4,"socketRef"],[161,15,175,13],[161,16,175,14,"current"],[161,23,175,21],[161,24,175,22,"on"],[161,26,175,24],[161,27,175,25],[161,42,175,40],[161,44,175,42],[161,50,175,48],[162,8,176,6,"showAlert"],[162,17,176,15],[162,18,176,16],[162,33,176,31],[162,35,176,33],[162,59,176,57],[162,60,176,58],[163,8,177,6,"cleanupCall"],[163,19,177,17],[163,20,177,18],[163,21,177,19],[164,6,178,4],[164,7,178,5],[164,8,178,6],[165,6,180,4,"socketRef"],[165,15,180,13],[165,16,180,14,"current"],[165,23,180,21],[165,24,180,22,"on"],[165,26,180,24],[165,27,180,25],[165,39,180,37],[165,41,180,39],[165,47,180,45],[166,8,181,6,"console"],[166,15,181,13],[166,16,181,14,"log"],[166,19,181,17],[166,20,181,18],[166,55,181,53],[166,56,181,54],[167,8,182,6,"cleanupCall"],[167,19,182,17],[167,20,182,18],[167,21,182,19],[168,6,183,4],[168,7,183,5],[168,8,183,6],[169,6,185,4,"socketRef"],[169,15,185,13],[169,16,185,14,"current"],[169,23,185,21],[169,24,185,22,"on"],[169,26,185,24],[169,27,185,25],[169,40,185,38],[169,42,185,41,"data"],[169,46,185,50],[169,50,185,55],[170,8,186,6,"console"],[170,15,186,13],[170,16,186,14,"log"],[170,19,186,17],[170,20,186,18],[170,41,186,39],[170,43,186,41,"data"],[170,47,186,45],[170,48,186,46],[171,8,187,6,"showAlert"],[171,17,187,15],[171,18,187,16],[171,31,187,29],[171,33,187,31,"data"],[171,37,187,35],[171,38,187,36,"message"],[171,45,187,43],[171,49,187,47],[171,152,187,150],[171,153,187,151],[172,8,188,6,"cleanupCall"],[172,19,188,17],[172,20,188,18],[172,21,188,19],[173,6,189,4],[173,7,189,5],[173,8,189,6],[175,6,191,4],[176,6,192,4,"socketRef"],[176,15,192,13],[176,16,192,14,"current"],[176,23,192,21],[176,24,192,22,"on"],[176,26,192,24],[176,27,192,25],[176,41,192,39],[176,43,192,42,"data"],[176,47,192,51],[176,51,192,56],[177,8,193,6,"console"],[177,15,193,13],[177,16,193,14,"log"],[177,19,193,17],[177,20,193,18],[177,42,193,40],[177,44,193,42,"data"],[177,48,193,46],[177,49,193,47],[178,8,194,6],[178,12,194,10,"data"],[178,16,194,14],[178,17,194,15,"call_id"],[178,24,194,22],[178,26,194,24],[179,10,195,8,"currentCallIdRef"],[179,26,195,24],[179,27,195,25,"current"],[179,34,195,32],[179,37,195,35,"data"],[179,41,195,39],[179,42,195,40,"call_id"],[179,49,195,47],[180,10,196,8,"setCallInfo"],[180,21,196,19],[180,22,196,20,"prev"],[180,26,196,24],[180,30,196,28,"prev"],[180,34,196,32],[180,37,196,32,"Object"],[180,43,196,32],[180,44,196,32,"assign"],[180,50,196,32],[180,55,196,40,"prev"],[180,59,196,44],[181,12,196,46,"callId"],[181,18,196,52],[181,20,196,54,"data"],[181,24,196,58],[181,25,196,59,"call_id"],[182,10,196,66],[182,15,196,71],[182,19,196,75],[182,20,196,76],[183,8,197,6],[184,8,198,6,"setCallState"],[184,20,198,18],[184,21,198,19],[184,30,198,28],[184,31,198,29],[185,6,199,4],[185,7,199,5],[185,8,199,6],[187,6,201,4],[188,6,202,4,"socketRef"],[188,15,202,13],[188,16,202,14,"current"],[188,23,202,21],[188,24,202,22,"on"],[188,26,202,24],[188,27,202,25],[188,41,202,39],[188,43,202,41],[188,49,202,48,"data"],[188,53,202,57],[188,57,202,62],[189,8,203,6],[189,14,203,12,"handleOffer"],[189,25,203,23],[189,26,203,24,"data"],[189,30,203,28],[189,31,203,29,"offer"],[189,36,203,34],[189,37,203,35],[190,6,204,4],[190,7,204,5],[190,8,204,6],[191,6,206,4,"socketRef"],[191,15,206,13],[191,16,206,14,"current"],[191,23,206,21],[191,24,206,22,"on"],[191,26,206,24],[191,27,206,25],[191,42,206,40],[191,44,206,42],[191,50,206,49,"data"],[191,54,206,58],[191,58,206,63],[192,8,207,6],[192,14,207,12,"handleAnswer"],[192,26,207,24],[192,27,207,25,"data"],[192,31,207,29],[192,32,207,30,"answer"],[192,38,207,36],[192,39,207,37],[193,6,208,4],[193,7,208,5],[193,8,208,6],[194,6,210,4,"socketRef"],[194,15,210,13],[194,16,210,14,"current"],[194,23,210,21],[194,24,210,22,"on"],[194,26,210,24],[194,27,210,25],[194,49,210,47],[194,51,210,49],[194,57,210,56,"data"],[194,61,210,65],[194,65,210,70],[195,8,211,6],[195,14,211,12,"handleIceCandidate"],[195,32,211,30],[195,33,211,31,"data"],[195,37,211,35],[195,38,211,36,"candidate"],[195,47,211,45],[195,48,211,46],[196,6,212,4],[196,7,212,5],[196,8,212,6],[197,4,213,2],[197,5,213,3],[197,7,213,5],[197,9,213,7],[197,10,213,8],[199,4,215,2],[200,4,216,2],[200,10,216,8,"register"],[200,18,216,16],[200,21,216,19],[200,25,216,19,"useCallback"],[200,31,216,30],[200,32,216,30,"useCallback"],[200,43,216,30],[200,45,216,31],[200,46,216,32,"userId"],[200,52,216,46],[200,54,216,48,"userType"],[200,62,216,64],[200,64,216,66,"userName"],[200,72,216,82],[200,77,216,87],[201,6,217,4],[201,10,217,8,"Platform"],[201,18,217,16],[201,19,217,16,"default"],[201,26,217,16],[201,27,217,17,"OS"],[201,29,217,19],[201,34,217,24],[201,39,217,29],[201,41,217,31],[202,6,219,4,"initializeSocket"],[202,22,219,20],[202,23,219,21],[202,24,219,22],[203,6,221,4,"setTimeout"],[203,16,221,14],[203,17,221,15],[203,23,221,21],[204,8,222,6,"socketRef"],[204,17,222,15],[204,18,222,16,"current"],[204,25,222,23],[204,27,222,25,"emit"],[204,31,222,29],[204,32,222,30],[204,42,222,40],[204,44,222,42],[205,10,223,8,"user_id"],[205,17,223,15],[205,19,223,17,"userId"],[205,25,223,23],[206,10,224,8,"user_type"],[206,19,224,17],[206,21,224,19,"userType"],[206,29,224,27],[207,10,225,8,"name"],[207,14,225,12],[207,16,225,14,"userName"],[207,24,225,22],[208,10,226,8,"status"],[208,16,226,14],[208,18,226,16],[209,8,227,6],[209,9,227,7],[209,10,227,8],[210,6,228,4],[210,7,228,5],[210,9,228,7],[210,13,228,11],[210,14,228,12],[211,4,229,2],[211,5,229,3],[211,7,229,5],[211,8,229,6,"initializeSocket"],[211,24,229,22],[211,25,229,23],[211,26,229,24],[213,4,231,2],[214,4,232,2],[214,10,232,8,"ensureRemoteAudio"],[214,27,232,25],[214,30,232,28,"ensureRemoteAudio"],[214,31,232,28],[214,36,232,34],[215,6,233,4],[215,10,233,8,"Platform"],[215,18,233,16],[215,19,233,16,"default"],[215,26,233,16],[215,27,233,17,"OS"],[215,29,233,19],[215,34,233,24],[215,39,233,29],[215,41,233,31],[215,48,233,38],[215,52,233,42],[216,6,235,4],[216,10,235,8],[216,11,235,9,"remoteAudioRef"],[216,25,235,23],[216,26,235,24,"current"],[216,33,235,31],[216,35,235,33],[217,8,236,6],[217,14,236,12,"audio"],[217,19,236,17],[217,22,236,20,"document"],[217,30,236,28],[217,31,236,29,"createElement"],[217,44,236,42],[217,45,236,43],[217,52,236,50],[217,53,236,51],[218,8,237,6,"audio"],[218,13,237,11],[218,14,237,12,"autoplay"],[218,22,237,20],[218,25,237,23],[218,29,237,27],[219,8,238,6,"audio"],[219,13,238,11],[219,14,238,12,"id"],[219,16,238,14],[219,19,238,17],[219,40,238,38],[220,8,239,6,"document"],[220,16,239,14],[220,17,239,15,"body"],[220,21,239,19],[220,22,239,20,"appendChild"],[220,33,239,31],[220,34,239,32,"audio"],[220,39,239,37],[220,40,239,38],[221,8,240,6,"remoteAudioRef"],[221,22,240,20],[221,23,240,21,"current"],[221,30,240,28],[221,33,240,31,"audio"],[221,38,240,36],[222,6,241,4],[223,6,242,4],[223,13,242,11,"remoteAudioRef"],[223,27,242,25],[223,28,242,26,"current"],[223,35,242,33],[224,4,243,2],[224,5,243,3],[226,4,245,2],[227,4,246,2],[227,10,246,8,"startWebRTCConnection"],[227,31,246,29],[227,34,246,32],[227,40,246,39,"createOffer"],[227,51,246,59],[227,55,246,64],[228,6,247,4],[228,10,247,8,"Platform"],[228,18,247,16],[228,19,247,16,"default"],[228,26,247,16],[228,27,247,17,"OS"],[228,29,247,19],[228,34,247,24],[228,39,247,29],[228,41,247,31],[229,6,249,4],[229,10,249,8],[230,8,250,6],[230,14,250,12,"stream"],[230,20,250,18],[230,23,250,21],[230,29,250,27,"navigator"],[230,38,250,36],[230,39,250,37,"mediaDevices"],[230,51,250,49],[230,52,250,50,"getUserMedia"],[230,64,250,62],[230,65,250,63],[231,10,250,65,"audio"],[231,15,250,70],[231,17,250,72],[231,21,250,76],[232,10,250,78,"video"],[232,15,250,83],[232,17,250,85],[233,8,250,91],[233,9,250,92],[233,10,250,93],[234,8,251,6,"localStreamRef"],[234,22,251,20],[234,23,251,21,"current"],[234,30,251,28],[234,33,251,31,"stream"],[234,39,251,37],[235,8,253,6],[235,14,253,12,"pc"],[235,16,253,14],[235,19,253,17],[235,23,253,21,"RTCPeerConnection"],[235,40,253,38],[235,41,253,39,"RTC_CONFIG"],[235,51,253,49],[235,52,253,50],[236,8,254,6,"peerConnectionRef"],[236,25,254,23],[236,26,254,24,"current"],[236,33,254,31],[236,36,254,34,"pc"],[236,38,254,36],[237,8,256,6,"stream"],[237,14,256,12],[237,15,256,13,"getTracks"],[237,24,256,22],[237,25,256,23],[237,26,256,24],[237,27,256,25,"forEach"],[237,34,256,32],[237,35,256,34,"track"],[237,40,256,39],[237,44,256,44],[238,10,257,8,"pc"],[238,12,257,10],[238,13,257,11,"addTrack"],[238,21,257,19],[238,22,257,20,"track"],[238,27,257,25],[238,29,257,27,"stream"],[238,35,257,33],[238,36,257,34],[239,8,258,6],[239,9,258,7],[239,10,258,8],[240,8,260,6,"pc"],[240,10,260,8],[240,11,260,9,"onicecandidate"],[240,25,260,23],[240,28,260,27,"event"],[240,33,260,32],[240,37,260,37],[241,10,261,8],[241,14,261,12,"event"],[241,19,261,17],[241,20,261,18,"candidate"],[241,29,261,27],[241,31,261,29],[242,12,262,10,"socketRef"],[242,21,262,19],[242,22,262,20,"current"],[242,29,262,27],[242,31,262,29,"emit"],[242,35,262,33],[242,36,262,34],[242,58,262,56],[242,60,262,58],[243,14,263,12,"call_id"],[243,21,263,19],[243,23,263,21,"currentCallIdRef"],[243,39,263,37],[243,40,263,38,"current"],[243,47,263,45],[244,14,264,12,"candidate"],[244,23,264,21],[244,25,264,23,"event"],[244,30,264,28],[244,31,264,29,"candidate"],[245,12,265,10],[245,13,265,11],[245,14,265,12],[246,10,266,8],[247,8,267,6],[247,9,267,7],[248,8,269,6,"pc"],[248,10,269,8],[248,11,269,9,"ontrack"],[248,18,269,16],[248,21,269,20,"event"],[248,26,269,25],[248,30,269,30],[249,10,270,8],[249,16,270,14,"audio"],[249,21,270,19],[249,24,270,22,"ensureRemoteAudio"],[249,41,270,39],[249,42,270,40],[249,43,270,41],[250,10,271,8],[250,14,271,12,"audio"],[250,19,271,17],[250,21,271,19],[251,12,272,10,"audio"],[251,17,272,15],[251,18,272,16,"srcObject"],[251,27,272,25],[251,30,272,28,"event"],[251,35,272,33],[251,36,272,34,"streams"],[251,43,272,41],[251,44,272,42],[251,45,272,43],[251,46,272,44],[252,12,273,10,"audio"],[252,17,273,15],[252,18,273,16,"play"],[252,22,273,20],[252,23,273,21],[252,24,273,22],[252,25,273,23,"catch"],[252,30,273,28],[252,31,273,29,"console"],[252,38,273,36],[252,39,273,37,"error"],[252,44,273,42],[252,45,273,43],[253,10,274,8],[254,8,275,6],[254,9,275,7],[255,8,277,6,"pc"],[255,10,277,8],[255,11,277,9,"onconnectionstatechange"],[255,34,277,32],[255,37,277,35],[255,43,277,41],[256,10,278,8],[256,14,278,12,"pc"],[256,16,278,14],[256,17,278,15,"connectionState"],[256,32,278,30],[256,37,278,35],[256,48,278,46],[256,50,278,48],[257,12,279,10,"setCallState"],[257,24,279,22],[257,25,279,23],[257,36,279,34],[257,37,279,35],[258,12,280,10,"startCallTimer"],[258,26,280,24],[258,27,280,25],[258,28,280,26],[259,10,281,8],[259,11,281,9],[259,17,281,15],[259,21,281,19,"pc"],[259,23,281,21],[259,24,281,22,"connectionState"],[259,39,281,37],[259,44,281,42],[259,58,281,56],[259,62,281,60,"pc"],[259,64,281,62],[259,65,281,63,"connectionState"],[259,80,281,78],[259,85,281,83],[259,93,281,91],[259,95,281,93],[260,12,282,10,"cleanupCall"],[260,23,282,21],[260,24,282,22],[260,25,282,23],[261,10,283,8],[262,8,284,6],[262,9,284,7],[263,8,286,6],[263,12,286,10,"createOffer"],[263,23,286,21],[263,25,286,23],[264,10,287,8],[264,16,287,14,"offer"],[264,21,287,19],[264,24,287,22],[264,30,287,28,"pc"],[264,32,287,30],[264,33,287,31,"createOffer"],[264,44,287,42],[264,45,287,43],[264,46,287,44],[265,10,288,8],[265,16,288,14,"pc"],[265,18,288,16],[265,19,288,17,"setLocalDescription"],[265,38,288,36],[265,39,288,37,"offer"],[265,44,288,42],[265,45,288,43],[266,10,289,8,"socketRef"],[266,19,289,17],[266,20,289,18,"current"],[266,27,289,25],[266,29,289,27,"emit"],[266,33,289,31],[266,34,289,32],[266,48,289,46],[266,50,289,48],[267,12,290,10,"call_id"],[267,19,290,17],[267,21,290,19,"currentCallIdRef"],[267,37,290,35],[267,38,290,36,"current"],[267,45,290,43],[268,12,291,10,"offer"],[268,17,291,15],[268,19,291,17,"offer"],[269,10,292,8],[269,11,292,9],[269,12,292,10],[270,8,293,6],[271,6,294,4],[271,7,294,5],[271,8,294,6],[271,15,294,13,"error"],[271,20,294,18],[271,22,294,20],[272,8,295,6,"console"],[272,15,295,13],[272,16,295,14,"error"],[272,21,295,19],[272,22,295,20],[272,37,295,35],[272,39,295,37,"error"],[272,44,295,42],[272,45,295,43],[273,8,296,6,"showAlert"],[273,17,296,15],[273,18,296,16],[273,36,296,34],[273,38,296,36],[273,125,296,123],[273,126,296,124],[274,8,297,6,"cleanupCall"],[274,19,297,17],[274,20,297,18],[274,21,297,19],[275,6,298,4],[276,4,299,2],[276,5,299,3],[277,4,301,2],[277,10,301,8,"handleOffer"],[277,21,301,19],[277,24,301,22],[277,30,301,29,"offer"],[277,35,301,61],[277,39,301,66],[278,6,302,4],[278,10,302,8,"Platform"],[278,18,302,16],[278,19,302,16,"default"],[278,26,302,16],[278,27,302,17,"OS"],[278,29,302,19],[278,34,302,24],[278,39,302,29],[278,41,302,31],[279,6,304,4],[279,10,304,8],[279,11,304,9,"peerConnectionRef"],[279,28,304,26],[279,29,304,27,"current"],[279,36,304,34],[279,38,304,36],[280,8,305,6],[280,14,305,12,"startWebRTCConnection"],[280,35,305,33],[280,36,305,34],[280,41,305,39],[280,42,305,40],[281,6,306,4],[282,6,308,4],[282,12,308,10,"peerConnectionRef"],[282,29,308,27],[282,30,308,28,"current"],[282,37,308,35],[282,39,308,37,"setRemoteDescription"],[282,59,308,57],[282,60,308,58],[282,64,308,62,"RTCSessionDescription"],[282,85,308,83],[282,86,308,84,"offer"],[282,91,308,89],[282,92,308,90],[282,93,308,91],[283,6,309,4],[283,12,309,10,"answer"],[283,18,309,16],[283,21,309,19],[283,27,309,25,"peerConnectionRef"],[283,44,309,42],[283,45,309,43,"current"],[283,52,309,50],[283,54,309,52,"createAnswer"],[283,66,309,64],[283,67,309,65],[283,68,309,66],[284,6,310,4],[284,12,310,10,"peerConnectionRef"],[284,29,310,27],[284,30,310,28,"current"],[284,37,310,35],[284,39,310,37,"setLocalDescription"],[284,58,310,56],[284,59,310,57,"answer"],[284,65,310,63],[284,66,310,64],[285,6,312,4,"socketRef"],[285,15,312,13],[285,16,312,14,"current"],[285,23,312,21],[285,25,312,23,"emit"],[285,29,312,27],[285,30,312,28],[285,45,312,43],[285,47,312,45],[286,8,313,6,"call_id"],[286,15,313,13],[286,17,313,15,"currentCallIdRef"],[286,33,313,31],[286,34,313,32,"current"],[286,41,313,39],[287,8,314,6,"answer"],[287,14,314,12],[287,16,314,14,"answer"],[288,6,315,4],[288,7,315,5],[288,8,315,6],[289,6,317,4,"setCallState"],[289,18,317,16],[289,19,317,17],[289,30,317,28],[289,31,317,29],[290,6,318,4,"startCallTimer"],[290,20,318,18],[290,21,318,19],[290,22,318,20],[291,4,319,2],[291,5,319,3],[292,4,321,2],[292,10,321,8,"handleAnswer"],[292,22,321,20],[292,25,321,23],[292,31,321,30,"answer"],[292,37,321,63],[292,41,321,68],[293,6,322,4],[293,10,322,8,"Platform"],[293,18,322,16],[293,19,322,16,"default"],[293,26,322,16],[293,27,322,17,"OS"],[293,29,322,19],[293,34,322,24],[293,39,322,29],[293,41,322,31],[294,6,323,4],[294,12,323,10,"peerConnectionRef"],[294,29,323,27],[294,30,323,28,"current"],[294,37,323,35],[294,39,323,37,"setRemoteDescription"],[294,59,323,57],[294,60,323,58],[294,64,323,62,"RTCSessionDescription"],[294,85,323,83],[294,86,323,84,"answer"],[294,92,323,90],[294,93,323,91],[294,94,323,92],[295,6,324,4,"setCallState"],[295,18,324,16],[295,19,324,17],[295,30,324,28],[295,31,324,29],[296,6,325,4,"startCallTimer"],[296,20,325,18],[296,21,325,19],[296,22,325,20],[297,4,326,2],[297,5,326,3],[298,4,328,2],[298,10,328,8,"handleIceCandidate"],[298,28,328,26],[298,31,328,29],[298,37,328,36,"candidate"],[298,46,328,66],[298,50,328,71],[299,6,329,4],[299,10,329,8,"Platform"],[299,18,329,16],[299,19,329,16,"default"],[299,26,329,16],[299,27,329,17,"OS"],[299,29,329,19],[299,34,329,24],[299,39,329,29],[299,43,329,33],[299,44,329,34,"candidate"],[299,53,329,43],[299,55,329,45],[300,6,330,4],[300,12,330,10,"peerConnectionRef"],[300,29,330,27],[300,30,330,28,"current"],[300,37,330,35],[300,39,330,37,"addIceCandidate"],[300,54,330,52],[300,55,330,53],[300,59,330,57,"RTCIceCandidate"],[300,74,330,72],[300,75,330,73,"candidate"],[300,84,330,82],[300,85,330,83],[300,86,330,84],[301,4,331,2],[301,5,331,3],[302,4,333,2],[302,10,333,8,"initiateCall"],[302,22,333,20],[302,25,333,23],[302,31,333,23,"initiateCall"],[302,32,333,30,"targetUserId"],[302,44,333,50],[302,46,333,52,"targetName"],[302,56,333,70],[302,61,333,75],[303,6,334,4],[303,10,334,8,"Platform"],[303,18,334,16],[303,19,334,16,"default"],[303,26,334,16],[303,27,334,17,"OS"],[303,29,334,19],[303,34,334,24],[303,39,334,29],[303,41,334,31],[304,8,335,6,"showAlert"],[304,17,335,15],[304,18,335,16],[304,33,335,31],[304,35,335,33],[304,77,335,75],[304,78,335,76],[305,8,336,6],[306,6,337,4],[307,6,339,4],[307,10,339,8,"callState"],[307,19,339,17],[307,24,339,22],[307,30,339,28],[307,32,339,30],[308,8,340,6,"showAlert"],[308,17,340,15],[308,18,340,16],[308,24,340,22],[308,26,340,24],[308,53,340,51],[308,54,340,52],[309,8,341,6],[310,6,342,4],[312,6,344,4],[313,6,345,4,"initializeSocket"],[313,22,345,20],[313,23,345,21],[313,24,345,22],[314,6,347,4,"setCallInfo"],[314,17,347,15],[314,18,347,16],[315,8,348,6,"callId"],[315,14,348,12],[315,16,348,14],[315,18,348,16],[316,8,349,6,"peerName"],[316,16,349,14],[316,18,349,16,"targetName"],[316,28,349,26],[317,8,350,6,"callType"],[317,16,350,14],[317,18,350,16],[317,25,350,23],[318,8,351,6,"isIncoming"],[318,18,351,16],[318,20,351,18],[319,6,352,4],[319,7,352,5],[319,8,352,6],[320,6,353,4,"setCallState"],[320,18,353,16],[320,19,353,17],[320,31,353,29],[320,32,353,30],[322,6,355,4],[323,6,356,4],[323,10,356,8,"attempts"],[323,18,356,16],[323,21,356,19],[323,22,356,20],[324,6,357,4],[324,13,357,11],[324,14,357,12,"socketRef"],[324,23,357,21],[324,24,357,22,"current"],[324,31,357,29],[324,33,357,31,"connected"],[324,42,357,40],[324,46,357,44,"attempts"],[324,54,357,52],[324,57,357,55],[324,59,357,57],[324,61,357,59],[325,8,358,6],[325,14,358,12],[325,18,358,16,"Promise"],[325,25,358,23],[325,26,358,25,"resolve"],[325,33,358,32],[325,37,358,37,"setTimeout"],[325,47,358,47],[325,48,358,48,"resolve"],[325,55,358,55],[325,57,358,57],[325,60,358,60],[325,61,358,61],[325,62,358,62],[326,8,359,6,"attempts"],[326,16,359,14],[326,18,359,16],[327,6,360,4],[328,6,362,4],[328,10,362,8],[328,11,362,9,"socketRef"],[328,20,362,18],[328,21,362,19,"current"],[328,28,362,26],[328,30,362,28,"connected"],[328,39,362,37],[328,41,362,39],[329,8,363,6,"showAlert"],[329,17,363,15],[329,18,363,16],[329,36,363,34],[329,38,363,36],[329,91,363,89],[329,92,363,90],[330,8,364,6,"cleanupCall"],[330,19,364,17],[330,20,364,18],[330,21,364,19],[331,8,365,6],[332,6,366,4],[334,6,368,4],[335,6,369,4],[335,12,369,10,"callerId"],[335,20,369,18],[335,23,369,21],[335,35,369,33,"Date"],[335,39,369,37],[335,40,369,38,"now"],[335,43,369,41],[335,44,369,42],[335,45,369,43],[335,47,369,45],[337,6,371,4],[338,6,372,4,"socketRef"],[338,15,372,13],[338,16,372,14,"current"],[338,23,372,21],[338,25,372,23,"emit"],[338,29,372,27],[338,30,372,28],[338,40,372,38],[338,42,372,40],[339,8,373,6,"user_id"],[339,15,373,13],[339,17,373,15,"callerId"],[339,25,373,23],[340,8,374,6,"user_type"],[340,17,374,15],[340,19,374,17],[340,25,374,23],[341,8,375,6,"name"],[341,12,375,10],[341,14,375,12],[341,24,375,22],[342,8,376,6,"status"],[342,14,376,12],[342,16,376,14],[343,6,377,4],[343,7,377,5],[343,8,377,6],[345,6,379,4],[346,6,380,4],[346,12,380,10],[346,16,380,14,"Promise"],[346,23,380,21],[346,24,380,23,"resolve"],[346,31,380,30],[346,35,380,35,"setTimeout"],[346,45,380,45],[346,46,380,46,"resolve"],[346,53,380,53],[346,55,380,55],[346,58,380,58],[346,59,380,59],[346,60,380,60],[348,6,382,4],[349,6,383,4,"socketRef"],[349,15,383,13],[349,16,383,14,"current"],[349,23,383,21],[349,25,383,23,"emit"],[349,29,383,27],[349,30,383,28],[349,45,383,43],[349,47,383,45],[350,8,384,6,"target_user_id"],[350,22,384,20],[350,24,384,22,"targetUserId"],[350,36,384,34],[351,8,385,6,"caller_name"],[351,19,385,17],[351,21,385,19],[351,31,385,29],[352,8,386,6,"call_type"],[352,17,386,15],[352,19,386,17],[353,6,387,4],[353,7,387,5],[353,8,387,6],[354,4,388,2],[354,5,388,3],[355,4,390,2],[355,10,390,8,"acceptCall"],[355,20,390,18],[355,23,390,21],[355,27,390,21,"useCallback"],[355,33,390,32],[355,34,390,32,"useCallback"],[355,45,390,32],[355,47,390,33],[355,53,390,39],[356,6,391,4],[356,10,391,8],[356,11,391,9,"currentCallIdRef"],[356,27,391,25],[356,28,391,26,"current"],[356,35,391,33],[356,37,391,35],[357,6,392,4,"socketRef"],[357,15,392,13],[357,16,392,14,"current"],[357,23,392,21],[357,25,392,23,"emit"],[357,29,392,27],[357,30,392,28],[357,43,392,41],[357,45,392,43],[358,8,392,45,"call_id"],[358,15,392,52],[358,17,392,54,"currentCallIdRef"],[358,33,392,70],[358,34,392,71,"current"],[359,6,392,79],[359,7,392,80],[359,8,392,81],[360,6,393,4,"setCallState"],[360,18,393,16],[360,19,393,17],[360,31,393,29],[360,32,393,30],[361,6,394,4,"startWebRTCConnection"],[361,27,394,25],[361,28,394,26],[361,33,394,31],[361,34,394,32],[362,4,395,2],[362,5,395,3],[362,7,395,5],[362,9,395,7],[362,10,395,8],[363,4,397,2],[363,10,397,8,"rejectCall"],[363,20,397,18],[363,23,397,21],[363,27,397,21,"useCallback"],[363,33,397,32],[363,34,397,32,"useCallback"],[363,45,397,32],[363,47,397,33],[363,53,397,39],[364,6,398,4],[364,10,398,8,"currentCallIdRef"],[364,26,398,24],[364,27,398,25,"current"],[364,34,398,32],[364,36,398,34],[365,8,399,6,"socketRef"],[365,17,399,15],[365,18,399,16,"current"],[365,25,399,23],[365,27,399,25,"emit"],[365,31,399,29],[365,32,399,30],[365,45,399,43],[365,47,399,45],[366,10,400,8,"call_id"],[366,17,400,15],[366,19,400,17,"currentCallIdRef"],[366,35,400,33],[366,36,400,34,"current"],[366,43,400,41],[367,10,401,8,"reason"],[367,16,401,14],[367,18,401,16],[368,8,402,6],[368,9,402,7],[368,10,402,8],[369,6,403,4],[370,6,404,4,"cleanupCall"],[370,17,404,15],[370,18,404,16],[370,19,404,17],[371,4,405,2],[371,5,405,3],[371,7,405,5],[371,8,405,6,"cleanupCall"],[371,19,405,17],[371,20,405,18],[371,21,405,19],[372,4,407,2],[372,10,407,8,"endCall"],[372,17,407,15],[372,20,407,18],[372,24,407,18,"useCallback"],[372,30,407,29],[372,31,407,29,"useCallback"],[372,42,407,29],[372,44,407,30],[372,50,407,36],[373,6,408,4,"console"],[373,13,408,11],[373,14,408,12,"log"],[373,17,408,15],[373,18,408,16],[373,48,408,46],[373,50,408,48,"currentCallIdRef"],[373,66,408,64],[373,67,408,65,"current"],[373,74,408,72],[373,75,408,73],[374,6,409,4],[374,10,409,8,"currentCallIdRef"],[374,26,409,24],[374,27,409,25,"current"],[374,34,409,32],[374,36,409,34],[375,8,410,6,"socketRef"],[375,17,410,15],[375,18,410,16,"current"],[375,25,410,23],[375,27,410,25,"emit"],[375,31,410,29],[375,32,410,30],[375,42,410,40],[375,44,410,42],[376,10,410,44,"call_id"],[376,17,410,51],[376,19,410,53,"currentCallIdRef"],[376,35,410,69],[376,36,410,70,"current"],[377,8,410,78],[377,9,410,79],[377,10,410,80],[378,6,411,4],[379,6,412,4],[380,6,413,4,"cleanupCall"],[380,17,413,15],[380,18,413,16],[380,19,413,17],[381,4,414,2],[381,5,414,3],[381,7,414,5],[381,8,414,6,"cleanupCall"],[381,19,414,17],[381,20,414,18],[381,21,414,19],[382,4,416,2],[382,8,416,2,"useEffect"],[382,14,416,11],[382,15,416,11,"useEffect"],[382,24,416,11],[382,26,416,12],[382,32,416,18],[383,6,417,4],[383,13,417,11],[383,19,417,17],[384,8,418,6,"cleanupCall"],[384,19,418,17],[384,20,418,18],[384,21,418,19],[385,8,419,6,"socketRef"],[385,17,419,15],[385,18,419,16,"current"],[385,25,419,23],[385,27,419,25,"disconnect"],[385,37,419,35],[385,38,419,36],[385,39,419,37],[386,6,420,4],[386,7,420,5],[387,4,421,2],[387,5,421,3],[387,7,421,5],[387,8,421,6,"cleanupCall"],[387,19,421,17],[387,20,421,18],[387,21,421,19],[388,4,423,2],[388,11,423,9],[389,6,424,4,"callState"],[389,15,424,13],[390,6,425,4,"callInfo"],[390,14,425,12],[391,6,426,4,"isConnected"],[391,17,426,15],[392,6,427,4,"callDuration"],[392,18,427,16],[393,6,428,4,"initiateCall"],[393,18,428,16],[394,6,429,4,"acceptCall"],[394,16,429,14],[395,6,430,4,"rejectCall"],[395,16,430,14],[396,6,431,4,"endCall"],[396,13,431,11],[397,6,432,4,"register"],[398,4,433,2],[398,5,433,3],[399,2,434,0],[400,2,434,1,"_s"],[400,4,434,1],[400,5,54,16,"useWebRTCCall"],[400,18,54,29],[401,2,436,7],[401,11,436,16,"formatCallDuration"],[401,29,436,34,"formatCallDuration"],[401,30,436,35,"seconds"],[401,37,436,50],[401,39,436,60],[402,4,437,2],[402,10,437,8,"mins"],[402,14,437,12],[402,17,437,15,"Math"],[402,21,437,19],[402,22,437,20,"floor"],[402,27,437,25],[402,28,437,26,"seconds"],[402,35,437,33],[402,38,437,36],[402,40,437,38],[402,41,437,39],[403,4,438,2],[403,10,438,8,"secs"],[403,14,438,12],[403,17,438,15,"seconds"],[403,24,438,22],[403,27,438,25],[403,29,438,27],[404,4,439,2],[404,11,439,9],[404,14,439,12,"mins"],[404,18,439,16],[404,19,439,17,"toString"],[404,27,439,25],[404,28,439,26],[404,29,439,27],[404,30,439,28,"padStart"],[404,38,439,36],[404,39,439,37],[404,40,439,38],[404,42,439,40],[404,45,439,43],[404,46,439,44],[404,50,439,48,"secs"],[404,54,439,52],[404,55,439,53,"toString"],[404,63,439,61],[404,64,439,62],[404,65,439,63],[404,66,439,64,"padStart"],[404,74,439,72],[404,75,439,73],[404,76,439,74],[404,78,439,76],[404,81,439,79],[404,82,439,80],[404,84,439,82],[405,2,440,0],[406,0,440,1],[406,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","cleanupCallFn","localStreamRef.current.getTracks.forEach$argument_0","cleanupCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;wBCc;gDCC,uBD;GDe;kCGM;GHE;qCIE;uCCE;sBCC,kBD;KDC;GJC;uCOG;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GPC;+BUG;eCK;KDO;GVC;4BYG;GZW;gCaG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;Gbe;sBkBE;GlBkB;uBmBE;GnBK;6BoBE;GpBG;uBqBE;wBCyB,qCD;sBCsB,qCD;GrBQ;iCuBE;GvBK;iCwBE;GxBQ;8ByBE;GzBO;Y0BE;WCC;KDG;G1BC;CHa;O+BE;C/BI"},"hasCjsExports":false},"type":"js/module"}]}