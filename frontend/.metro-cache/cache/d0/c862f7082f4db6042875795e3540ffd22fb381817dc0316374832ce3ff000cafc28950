{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[3], \"socket.io-client\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    _s();\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? Object.assign({}, prev, {\n            callId: data.call_id\n          }) : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  _s(useWebRTCCall, \"WQFWwNpM7OWiC55rpuZeP0WaxAU=\");\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":397,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,1,0],[13,11,1,0,"_interopDefault"],[13,27,1,0,"e"],[13,28,1,0],[14,4,1,0],[14,11,1,0,"e"],[14,12,1,0],[14,16,1,0,"e"],[14,17,1,0],[14,18,1,0,"__esModule"],[14,28,1,0],[14,31,1,0,"e"],[14,32,1,0],[15,6,1,0,"default"],[15,13,1,0],[15,15,1,0,"e"],[16,4,1,0],[17,2,1,0],[18,2,54,0,"exports"],[18,9,54,0],[18,10,54,0,"useWebRTCCall"],[18,23,54,0],[18,26,54,0,"useWebRTCCall"],[18,39,54,0],[19,2,427,0,"exports"],[19,9,427,0],[19,10,427,0,"formatCallDuration"],[19,28,427,0],[19,31,427,0,"formatCallDuration"],[19,49,427,0],[20,2,431,1],[20,6,431,1,"_expoVirtualEnv"],[20,21,431,1],[20,24,431,1,"require"],[20,31,431,1],[20,32,431,1,"_dependencyMap"],[20,46,431,1],[21,2,7,0],[21,6,7,0,"_react"],[21,12,7,0],[21,15,7,0,"require"],[21,22,7,0],[21,23,7,0,"_dependencyMap"],[21,37,7,0],[22,2,7,65],[22,6,7,65,"_reactNativeWebDistExportsPlatform"],[22,40,7,65],[22,43,7,65,"require"],[22,50,7,65],[22,51,7,65,"_dependencyMap"],[22,65,7,65],[23,2,7,65],[23,6,7,65,"Platform"],[23,14,7,65],[23,17,7,65,"_interopDefault"],[23,32,7,65],[23,33,7,65,"_reactNativeWebDistExportsPlatform"],[23,67,7,65],[24,2,9,0],[24,6,9,0,"_socketIoClient"],[24,21,9,0],[24,24,9,0,"require"],[24,31,9,0],[24,32,9,0,"_dependencyMap"],[24,46,9,0],[25,2,11,0],[25,8,11,6,"API_URL"],[25,15,11,13],[25,18,11,16,"_expoVirtualEnv"],[25,33,11,16],[25,34,11,16,"env"],[25,37,11,16],[25,38,11,16,"EXPO_PUBLIC_BACKEND_URL"],[25,61,11,16],[25,65,11,55],[25,67,11,57],[27,2,13,0],[28,2,14,0],[28,8,14,6,"showAlert"],[28,17,14,15],[28,20,14,18,"showAlert"],[28,21,14,19,"title"],[28,26,14,32],[28,28,14,34,"message"],[28,35,14,49],[28,40,14,54],[29,4,15,2],[29,8,15,6,"Platform"],[29,16,15,14],[29,17,15,14,"default"],[29,24,15,14],[29,25,15,15,"OS"],[29,27,15,17],[29,32,15,22],[29,37,15,27],[29,41,15,31],[29,48,15,38,"window"],[29,54,15,44],[29,59,15,49],[29,70,15,60],[29,72,15,62],[30,6,16,4,"window"],[30,12,16,10],[30,13,16,11,"alert"],[30,18,16,16],[30,19,16,17],[30,22,16,20,"title"],[30,27,16,25],[30,34,16,32,"message"],[30,41,16,39],[30,43,16,41],[30,44,16,42],[31,4,17,2],[31,5,17,3],[31,11,17,9],[32,6,18,4],[33,6,19,4,"require"],[33,13,19,4],[33,14,19,4,"_dependencyMap"],[33,28,19,4],[33,71,19,4,"_dependencyMap"],[33,85,19,4],[33,90,19,4,"_dependencyMap"],[33,104,19,4],[33,105,19,4,"paths"],[33,110,19,4],[33,128,19,27,"then"],[33,132,19,31],[33,133,19,32],[33,134,19,33],[34,8,19,35,"Alert"],[35,6,19,41],[35,7,19,42],[35,12,19,47],[36,8,20,6,"Alert"],[36,13,20,11],[36,14,20,12,"alert"],[36,19,20,17],[36,20,20,18,"title"],[36,25,20,23],[36,27,20,25,"message"],[36,34,20,32],[36,35,20,33],[37,6,21,4],[37,7,21,5],[37,8,21,6],[38,4,22,2],[39,2,23,0],[39,3,23,1],[41,2,25,0],[42,2,26,0],[42,8,26,6,"RTC_CONFIG"],[42,18,26,16],[42,21,26,19],[43,4,27,2,"iceServers"],[43,14,27,12],[43,16,27,14],[43,17,28,4],[44,6,28,6,"urls"],[44,10,28,10],[44,12,28,12],[45,4,28,43],[45,5,28,44],[45,7,29,4],[46,6,29,6,"urls"],[46,10,29,10],[46,12,29,12],[47,4,29,44],[47,5,29,45],[48,2,31,0],[48,3,31,1],[49,2,54,7],[49,11,54,16,"useWebRTCCall"],[49,24,54,29,"useWebRTCCall"],[49,25,54,29],[49,27,54,53],[50,4,54,53,"_s"],[50,6,54,53],[51,4,55,2],[51,10,55,8],[51,11,55,9,"callState"],[51,20,55,18],[51,22,55,20,"setCallState"],[51,34,55,32],[51,35,55,33],[51,38,55,36],[51,42,55,36,"useState"],[51,48,55,44],[51,49,55,44,"useState"],[51,57,55,44],[51,59,55,56],[51,65,55,62],[51,66,55,63],[52,4,56,2],[52,10,56,8],[52,11,56,9,"callInfo"],[52,19,56,17],[52,21,56,19,"setCallInfo"],[52,32,56,30],[52,33,56,31],[52,36,56,34],[52,40,56,34,"useState"],[52,46,56,42],[52,47,56,42,"useState"],[52,55,56,42],[52,57,56,60],[52,61,56,64],[52,62,56,65],[53,4,57,2],[53,10,57,8],[53,11,57,9,"isConnected"],[53,22,57,20],[53,24,57,22,"setIsConnected"],[53,38,57,36],[53,39,57,37],[53,42,57,40],[53,46,57,40,"useState"],[53,52,57,48],[53,53,57,48,"useState"],[53,61,57,48],[53,63,57,49],[53,68,57,54],[53,69,57,55],[54,4,58,2],[54,10,58,8],[54,11,58,9,"callDuration"],[54,23,58,21],[54,25,58,23,"setCallDuration"],[54,40,58,38],[54,41,58,39],[54,44,58,42],[54,48,58,42,"useState"],[54,54,58,50],[54,55,58,50,"useState"],[54,63,58,50],[54,65,58,51],[54,66,58,52],[54,67,58,53],[55,4,60,2],[55,10,60,8,"socketRef"],[55,19,60,17],[55,22,60,20],[55,26,60,20,"useRef"],[55,32,60,26],[55,33,60,26,"useRef"],[55,39,60,26],[55,41,60,42],[55,45,60,46],[55,46,60,47],[56,4,61,2],[56,10,61,8,"peerConnectionRef"],[56,27,61,25],[56,30,61,28],[56,34,61,28,"useRef"],[56,40,61,34],[56,41,61,34,"useRef"],[56,47,61,34],[56,49,61,61],[56,53,61,65],[56,54,61,66],[57,4,62,2],[57,10,62,8,"localStreamRef"],[57,24,62,22],[57,27,62,25],[57,31,62,25,"useRef"],[57,37,62,31],[57,38,62,31,"useRef"],[57,44,62,31],[57,46,62,52],[57,50,62,56],[57,51,62,57],[58,4,63,2],[58,10,63,8,"remoteAudioRef"],[58,24,63,22],[58,27,63,25],[58,31,63,25,"useRef"],[58,37,63,31],[58,38,63,31,"useRef"],[58,44,63,31],[58,46,63,57],[58,50,63,61],[58,51,63,62],[59,4,64,2],[59,10,64,8,"callTimerRef"],[59,22,64,20],[59,25,64,23],[59,29,64,23,"useRef"],[59,35,64,29],[59,36,64,29,"useRef"],[59,42,64,29],[59,44,64,69],[59,48,64,73],[59,49,64,74],[60,4,65,2],[60,10,65,8,"currentCallIdRef"],[60,26,65,24],[60,29,65,27],[60,33,65,27,"useRef"],[60,39,65,33],[60,40,65,33,"useRef"],[60,46,65,33],[60,48,65,49],[60,52,65,53],[60,53,65,54],[62,4,67,2],[63,4,68,2],[63,10,68,8,"initializeSocket"],[63,26,68,24],[63,29,68,27],[63,33,68,27,"useCallback"],[63,39,68,38],[63,40,68,38,"useCallback"],[63,51,68,38],[63,53,68,39],[63,59,68,45],[64,6,69,4],[64,10,69,8,"Platform"],[64,18,69,16],[64,19,69,16,"default"],[64,26,69,16],[64,27,69,17,"OS"],[64,29,69,19],[64,34,69,24],[64,39,69,29],[64,41,69,31],[65,6,70,4],[65,10,70,8,"socketRef"],[65,19,70,17],[65,20,70,18,"current"],[65,27,70,25],[65,29,70,27,"connected"],[65,38,70,36],[65,40,70,38],[66,8,71,6,"console"],[66,15,71,13],[66,16,71,14,"log"],[66,19,71,17],[66,20,71,18],[66,54,71,52],[66,55,71,53],[67,8,72,6],[68,6,73,4],[70,6,75,4],[71,6,76,4],[71,10,76,8,"socketRef"],[71,19,76,17],[71,20,76,18,"current"],[71,27,76,25],[71,29,76,27],[72,8,77,6,"console"],[72,15,77,13],[72,16,77,14,"log"],[72,19,77,17],[72,20,77,18],[72,78,77,76],[72,79,77,77],[73,8,78,6,"socketRef"],[73,17,78,15],[73,18,78,16,"current"],[73,25,78,23],[73,26,78,24,"connect"],[73,33,78,31],[73,34,78,32],[73,35,78,33],[74,8,79,6],[75,6,80,4],[77,6,82,4],[78,6,83,4],[78,12,83,10,"backendUrl"],[78,22,83,20],[78,25,83,23,"API_URL"],[78,32,83,30],[79,6,84,4,"console"],[79,13,84,11],[79,14,84,12,"log"],[79,17,84,15],[79,18,84,16],[79,61,84,59],[79,63,84,61,"backendUrl"],[79,73,84,71],[79,74,84,72],[80,6,86,4,"socketRef"],[80,15,86,13],[80,16,86,14,"current"],[80,23,86,21],[80,26,86,24],[80,30,86,24,"io"],[80,45,86,26],[80,46,86,26,"io"],[80,48,86,26],[80,50,86,27,"backendUrl"],[80,60,86,37],[80,62,86,39],[81,8,87,6,"transports"],[81,18,87,16],[81,20,87,18],[81,21,87,19],[81,32,87,30],[81,34,87,32],[81,43,87,41],[81,44,87,42],[82,8,88,6,"reconnection"],[82,20,88,18],[82,22,88,20],[82,26,88,24],[83,8,89,6,"reconnectionAttempts"],[83,28,89,26],[83,30,89,28],[83,32,89,30],[84,8,90,6,"reconnectionDelay"],[84,25,90,23],[84,27,90,25],[84,31,90,29],[85,8,91,6,"timeout"],[85,15,91,13],[85,17,91,15],[85,22,91,20],[86,8,92,6,"path"],[86,12,92,10],[86,14,92,12],[86,30,92,28],[86,31,92,31],[87,6,93,4],[87,7,93,5],[87,8,93,6],[88,6,95,4,"socketRef"],[88,15,95,13],[88,16,95,14,"current"],[88,23,95,21],[88,24,95,22,"on"],[88,26,95,24],[88,27,95,25],[88,36,95,34],[88,38,95,36],[88,44,95,42],[89,8,96,6,"console"],[89,15,96,13],[89,16,96,14,"log"],[89,19,96,17],[89,20,96,18],[89,59,96,57],[89,60,96,58],[90,8,97,6,"setIsConnected"],[90,22,97,20],[90,23,97,21],[90,27,97,25],[90,28,97,26],[91,6,98,4],[91,7,98,5],[91,8,98,6],[92,6,100,4,"socketRef"],[92,15,100,13],[92,16,100,14,"current"],[92,23,100,21],[92,24,100,22,"on"],[92,26,100,24],[92,27,100,25],[92,39,100,37],[92,41,100,39],[92,47,100,45],[93,8,101,6,"console"],[93,15,101,13],[93,16,101,14,"log"],[93,19,101,17],[93,20,101,18],[93,42,101,40],[93,43,101,41],[94,8,102,6,"setIsConnected"],[94,22,102,20],[94,23,102,21],[94,28,102,26],[94,29,102,27],[95,8,103,6,"cleanupCall"],[95,19,103,17],[95,20,103,18],[95,21,103,19],[96,6,104,4],[96,7,104,5],[96,8,104,6],[97,6,106,4,"socketRef"],[97,15,106,13],[97,16,106,14,"current"],[97,23,106,21],[97,24,106,22,"on"],[97,26,106,24],[97,27,106,25],[97,39,106,37],[97,41,106,40,"data"],[97,45,106,49],[97,49,106,54],[98,8,107,6,"console"],[98,15,107,13],[98,16,107,14,"log"],[98,19,107,17],[98,20,107,18],[98,40,107,38],[98,42,107,40,"data"],[98,46,107,44],[98,47,107,45],[99,6,108,4],[99,7,108,5],[99,8,108,6],[101,6,110,4],[102,6,111,4,"socketRef"],[102,15,111,13],[102,16,111,14,"current"],[102,23,111,21],[102,24,111,22,"on"],[102,26,111,24],[102,27,111,25],[102,42,111,40],[102,44,111,43,"data"],[102,48,111,52],[102,52,111,57],[103,8,112,6,"console"],[103,15,112,13],[103,16,112,14,"log"],[103,19,112,17],[103,20,112,18],[103,43,112,41],[103,45,112,43,"data"],[103,49,112,47],[103,50,112,48],[104,8,113,6,"currentCallIdRef"],[104,24,113,22],[104,25,113,23,"current"],[104,32,113,30],[104,35,113,33,"data"],[104,39,113,37],[104,40,113,38,"call_id"],[104,47,113,45],[105,8,114,6,"setCallInfo"],[105,19,114,17],[105,20,114,18],[106,10,115,8,"callId"],[106,16,115,14],[106,18,115,16,"data"],[106,22,115,20],[106,23,115,21,"call_id"],[106,30,115,28],[107,10,116,8,"peerName"],[107,18,116,16],[107,20,116,18,"data"],[107,24,116,22],[107,25,116,23,"caller_name"],[107,36,116,34],[108,10,117,8,"callType"],[108,18,117,16],[108,20,117,18,"data"],[108,24,117,22],[108,25,117,23,"call_type"],[108,34,117,32],[108,38,117,36],[108,45,117,43],[109,10,118,8,"isIncoming"],[109,20,118,18],[109,22,118,20],[110,8,119,6],[110,9,119,7],[110,10,119,8],[111,8,120,6,"setCallState"],[111,20,120,18],[111,21,120,19],[111,30,120,28],[111,31,120,29],[112,6,121,4],[112,7,121,5],[112,8,121,6],[114,6,123,4],[115,6,124,4,"socketRef"],[115,15,124,13],[115,16,124,14,"current"],[115,23,124,21],[115,24,124,22,"on"],[115,26,124,24],[115,27,124,25],[115,42,124,40],[115,44,124,42],[115,50,124,49,"data"],[115,54,124,58],[115,58,124,63],[116,8,125,6,"console"],[116,15,125,13],[116,16,125,14,"log"],[116,19,125,17],[116,20,125,18],[116,43,125,41],[116,45,125,43,"data"],[116,49,125,47],[116,50,125,48],[117,8,126,6],[117,12,126,10,"data"],[117,16,126,14],[117,17,126,15,"call_id"],[117,24,126,22],[117,26,126,24],[118,10,127,8,"currentCallIdRef"],[118,26,127,24],[118,27,127,25,"current"],[118,34,127,32],[118,37,127,35,"data"],[118,41,127,39],[118,42,127,40,"call_id"],[118,49,127,47],[119,8,128,6],[120,8,129,6,"setCallState"],[120,20,129,18],[120,21,129,19],[120,33,129,31],[120,34,129,32],[121,8,130,6],[121,14,130,12,"startWebRTCConnection"],[121,35,130,33],[121,36,130,34],[121,40,130,38],[121,41,130,39],[122,6,131,4],[122,7,131,5],[122,8,131,6],[124,6,133,4],[125,6,134,4,"socketRef"],[125,15,134,13],[125,16,134,14,"current"],[125,23,134,21],[125,24,134,22,"on"],[125,26,134,24],[125,27,134,25],[125,43,134,41],[125,45,134,43],[125,51,134,49],[126,8,135,6,"console"],[126,15,135,13],[126,16,135,14,"log"],[126,19,135,17],[126,20,135,18],[126,44,135,42],[126,45,135,43],[127,8,136,6,"setCallState"],[127,20,136,18],[127,21,136,19],[127,32,136,30],[127,33,136,31],[128,8,137,6,"startCallTimer"],[128,22,137,20],[128,23,137,21],[128,24,137,22],[129,6,138,4],[129,7,138,5],[129,8,138,6],[131,6,140,4],[132,6,141,4,"socketRef"],[132,15,141,13],[132,16,141,14,"current"],[132,23,141,21],[132,24,141,22,"on"],[132,26,141,24],[132,27,141,25],[132,42,141,40],[132,44,141,42],[132,50,141,48],[133,8,142,6,"showAlert"],[133,17,142,15],[133,18,142,16],[133,33,142,31],[133,35,142,33],[133,59,142,57],[133,60,142,58],[134,8,143,6,"cleanupCall"],[134,19,143,17],[134,20,143,18],[134,21,143,19],[135,6,144,4],[135,7,144,5],[135,8,144,6],[136,6,146,4,"socketRef"],[136,15,146,13],[136,16,146,14,"current"],[136,23,146,21],[136,24,146,22,"on"],[136,26,146,24],[136,27,146,25],[136,39,146,37],[136,41,146,39],[136,47,146,45],[137,8,147,6,"console"],[137,15,147,13],[137,16,147,14,"log"],[137,19,147,17],[137,20,147,18],[137,55,147,53],[137,56,147,54],[138,8,148,6,"cleanupCall"],[138,19,148,17],[138,20,148,18],[138,21,148,19],[139,6,149,4],[139,7,149,5],[139,8,149,6],[140,6,151,4,"socketRef"],[140,15,151,13],[140,16,151,14,"current"],[140,23,151,21],[140,24,151,22,"on"],[140,26,151,24],[140,27,151,25],[140,40,151,38],[140,42,151,41,"data"],[140,46,151,50],[140,50,151,55],[141,8,152,6,"console"],[141,15,152,13],[141,16,152,14,"log"],[141,19,152,17],[141,20,152,18],[141,41,152,39],[141,43,152,41,"data"],[141,47,152,45],[141,48,152,46],[142,8,153,6,"showAlert"],[142,17,153,15],[142,18,153,16],[142,31,153,29],[142,33,153,31,"data"],[142,37,153,35],[142,38,153,36,"message"],[142,45,153,43],[142,49,153,47],[142,152,153,150],[142,153,153,151],[143,8,154,6,"cleanupCall"],[143,19,154,17],[143,20,154,18],[143,21,154,19],[144,6,155,4],[144,7,155,5],[144,8,155,6],[146,6,157,4],[147,6,158,4,"socketRef"],[147,15,158,13],[147,16,158,14,"current"],[147,23,158,21],[147,24,158,22,"on"],[147,26,158,24],[147,27,158,25],[147,41,158,39],[147,43,158,42,"data"],[147,47,158,51],[147,51,158,56],[148,8,159,6,"console"],[148,15,159,13],[148,16,159,14,"log"],[148,19,159,17],[148,20,159,18],[148,42,159,40],[148,44,159,42,"data"],[148,48,159,46],[148,49,159,47],[149,8,160,6],[149,12,160,10,"data"],[149,16,160,14],[149,17,160,15,"call_id"],[149,24,160,22],[149,26,160,24],[150,10,161,8,"currentCallIdRef"],[150,26,161,24],[150,27,161,25,"current"],[150,34,161,32],[150,37,161,35,"data"],[150,41,161,39],[150,42,161,40,"call_id"],[150,49,161,47],[151,10,162,8,"setCallInfo"],[151,21,162,19],[151,22,162,20,"prev"],[151,26,162,24],[151,30,162,28,"prev"],[151,34,162,32],[151,37,162,32,"Object"],[151,43,162,32],[151,44,162,32,"assign"],[151,50,162,32],[151,55,162,40,"prev"],[151,59,162,44],[152,12,162,46,"callId"],[152,18,162,52],[152,20,162,54,"data"],[152,24,162,58],[152,25,162,59,"call_id"],[153,10,162,66],[153,15,162,71],[153,19,162,75],[153,20,162,76],[154,8,163,6],[155,8,164,6,"setCallState"],[155,20,164,18],[155,21,164,19],[155,30,164,28],[155,31,164,29],[156,6,165,4],[156,7,165,5],[156,8,165,6],[158,6,167,4],[159,6,168,4,"socketRef"],[159,15,168,13],[159,16,168,14,"current"],[159,23,168,21],[159,24,168,22,"on"],[159,26,168,24],[159,27,168,25],[159,41,168,39],[159,43,168,41],[159,49,168,48,"data"],[159,53,168,57],[159,57,168,62],[160,8,169,6],[160,14,169,12,"handleOffer"],[160,25,169,23],[160,26,169,24,"data"],[160,30,169,28],[160,31,169,29,"offer"],[160,36,169,34],[160,37,169,35],[161,6,170,4],[161,7,170,5],[161,8,170,6],[162,6,172,4,"socketRef"],[162,15,172,13],[162,16,172,14,"current"],[162,23,172,21],[162,24,172,22,"on"],[162,26,172,24],[162,27,172,25],[162,42,172,40],[162,44,172,42],[162,50,172,49,"data"],[162,54,172,58],[162,58,172,63],[163,8,173,6],[163,14,173,12,"handleAnswer"],[163,26,173,24],[163,27,173,25,"data"],[163,31,173,29],[163,32,173,30,"answer"],[163,38,173,36],[163,39,173,37],[164,6,174,4],[164,7,174,5],[164,8,174,6],[165,6,176,4,"socketRef"],[165,15,176,13],[165,16,176,14,"current"],[165,23,176,21],[165,24,176,22,"on"],[165,26,176,24],[165,27,176,25],[165,49,176,47],[165,51,176,49],[165,57,176,56,"data"],[165,61,176,65],[165,65,176,70],[166,8,177,6],[166,14,177,12,"handleIceCandidate"],[166,32,177,30],[166,33,177,31,"data"],[166,37,177,35],[166,38,177,36,"candidate"],[166,47,177,45],[166,48,177,46],[167,6,178,4],[167,7,178,5],[167,8,178,6],[168,4,179,2],[168,5,179,3],[168,7,179,5],[168,9,179,7],[168,10,179,8],[170,4,181,2],[171,4,182,2],[171,10,182,8,"register"],[171,18,182,16],[171,21,182,19],[171,25,182,19,"useCallback"],[171,31,182,30],[171,32,182,30,"useCallback"],[171,43,182,30],[171,45,182,31],[171,46,182,32,"userId"],[171,52,182,46],[171,54,182,48,"userType"],[171,62,182,64],[171,64,182,66,"userName"],[171,72,182,82],[171,77,182,87],[172,6,183,4],[172,10,183,8,"Platform"],[172,18,183,16],[172,19,183,16,"default"],[172,26,183,16],[172,27,183,17,"OS"],[172,29,183,19],[172,34,183,24],[172,39,183,29],[172,41,183,31],[173,6,185,4,"initializeSocket"],[173,22,185,20],[173,23,185,21],[173,24,185,22],[174,6,187,4,"setTimeout"],[174,16,187,14],[174,17,187,15],[174,23,187,21],[175,8,188,6,"socketRef"],[175,17,188,15],[175,18,188,16,"current"],[175,25,188,23],[175,27,188,25,"emit"],[175,31,188,29],[175,32,188,30],[175,42,188,40],[175,44,188,42],[176,10,189,8,"user_id"],[176,17,189,15],[176,19,189,17,"userId"],[176,25,189,23],[177,10,190,8,"user_type"],[177,19,190,17],[177,21,190,19,"userType"],[177,29,190,27],[178,10,191,8,"name"],[178,14,191,12],[178,16,191,14,"userName"],[178,24,191,22],[179,10,192,8,"status"],[179,16,192,14],[179,18,192,16],[180,8,193,6],[180,9,193,7],[180,10,193,8],[181,6,194,4],[181,7,194,5],[181,9,194,7],[181,13,194,11],[181,14,194,12],[182,4,195,2],[182,5,195,3],[182,7,195,5],[182,8,195,6,"initializeSocket"],[182,24,195,22],[182,25,195,23],[182,26,195,24],[184,4,197,2],[185,4,198,2],[185,10,198,8,"ensureRemoteAudio"],[185,27,198,25],[185,30,198,28,"ensureRemoteAudio"],[185,31,198,28],[185,36,198,34],[186,6,199,4],[186,10,199,8,"Platform"],[186,18,199,16],[186,19,199,16,"default"],[186,26,199,16],[186,27,199,17,"OS"],[186,29,199,19],[186,34,199,24],[186,39,199,29],[186,41,199,31],[186,48,199,38],[186,52,199,42],[187,6,201,4],[187,10,201,8],[187,11,201,9,"remoteAudioRef"],[187,25,201,23],[187,26,201,24,"current"],[187,33,201,31],[187,35,201,33],[188,8,202,6],[188,14,202,12,"audio"],[188,19,202,17],[188,22,202,20,"document"],[188,30,202,28],[188,31,202,29,"createElement"],[188,44,202,42],[188,45,202,43],[188,52,202,50],[188,53,202,51],[189,8,203,6,"audio"],[189,13,203,11],[189,14,203,12,"autoplay"],[189,22,203,20],[189,25,203,23],[189,29,203,27],[190,8,204,6,"audio"],[190,13,204,11],[190,14,204,12,"id"],[190,16,204,14],[190,19,204,17],[190,40,204,38],[191,8,205,6,"document"],[191,16,205,14],[191,17,205,15,"body"],[191,21,205,19],[191,22,205,20,"appendChild"],[191,33,205,31],[191,34,205,32,"audio"],[191,39,205,37],[191,40,205,38],[192,8,206,6,"remoteAudioRef"],[192,22,206,20],[192,23,206,21,"current"],[192,30,206,28],[192,33,206,31,"audio"],[192,38,206,36],[193,6,207,4],[194,6,208,4],[194,13,208,11,"remoteAudioRef"],[194,27,208,25],[194,28,208,26,"current"],[194,35,208,33],[195,4,209,2],[195,5,209,3],[197,4,211,2],[198,4,212,2],[198,10,212,8,"startWebRTCConnection"],[198,31,212,29],[198,34,212,32],[198,40,212,39,"createOffer"],[198,51,212,59],[198,55,212,64],[199,6,213,4],[199,10,213,8,"Platform"],[199,18,213,16],[199,19,213,16,"default"],[199,26,213,16],[199,27,213,17,"OS"],[199,29,213,19],[199,34,213,24],[199,39,213,29],[199,41,213,31],[200,6,215,4],[200,10,215,8],[201,8,216,6],[201,14,216,12,"stream"],[201,20,216,18],[201,23,216,21],[201,29,216,27,"navigator"],[201,38,216,36],[201,39,216,37,"mediaDevices"],[201,51,216,49],[201,52,216,50,"getUserMedia"],[201,64,216,62],[201,65,216,63],[202,10,216,65,"audio"],[202,15,216,70],[202,17,216,72],[202,21,216,76],[203,10,216,78,"video"],[203,15,216,83],[203,17,216,85],[204,8,216,91],[204,9,216,92],[204,10,216,93],[205,8,217,6,"localStreamRef"],[205,22,217,20],[205,23,217,21,"current"],[205,30,217,28],[205,33,217,31,"stream"],[205,39,217,37],[206,8,219,6],[206,14,219,12,"pc"],[206,16,219,14],[206,19,219,17],[206,23,219,21,"RTCPeerConnection"],[206,40,219,38],[206,41,219,39,"RTC_CONFIG"],[206,51,219,49],[206,52,219,50],[207,8,220,6,"peerConnectionRef"],[207,25,220,23],[207,26,220,24,"current"],[207,33,220,31],[207,36,220,34,"pc"],[207,38,220,36],[208,8,222,6,"stream"],[208,14,222,12],[208,15,222,13,"getTracks"],[208,24,222,22],[208,25,222,23],[208,26,222,24],[208,27,222,25,"forEach"],[208,34,222,32],[208,35,222,34,"track"],[208,40,222,39],[208,44,222,44],[209,10,223,8,"pc"],[209,12,223,10],[209,13,223,11,"addTrack"],[209,21,223,19],[209,22,223,20,"track"],[209,27,223,25],[209,29,223,27,"stream"],[209,35,223,33],[209,36,223,34],[210,8,224,6],[210,9,224,7],[210,10,224,8],[211,8,226,6,"pc"],[211,10,226,8],[211,11,226,9,"onicecandidate"],[211,25,226,23],[211,28,226,27,"event"],[211,33,226,32],[211,37,226,37],[212,10,227,8],[212,14,227,12,"event"],[212,19,227,17],[212,20,227,18,"candidate"],[212,29,227,27],[212,31,227,29],[213,12,228,10,"socketRef"],[213,21,228,19],[213,22,228,20,"current"],[213,29,228,27],[213,31,228,29,"emit"],[213,35,228,33],[213,36,228,34],[213,58,228,56],[213,60,228,58],[214,14,229,12,"call_id"],[214,21,229,19],[214,23,229,21,"currentCallIdRef"],[214,39,229,37],[214,40,229,38,"current"],[214,47,229,45],[215,14,230,12,"candidate"],[215,23,230,21],[215,25,230,23,"event"],[215,30,230,28],[215,31,230,29,"candidate"],[216,12,231,10],[216,13,231,11],[216,14,231,12],[217,10,232,8],[218,8,233,6],[218,9,233,7],[219,8,235,6,"pc"],[219,10,235,8],[219,11,235,9,"ontrack"],[219,18,235,16],[219,21,235,20,"event"],[219,26,235,25],[219,30,235,30],[220,10,236,8],[220,16,236,14,"audio"],[220,21,236,19],[220,24,236,22,"ensureRemoteAudio"],[220,41,236,39],[220,42,236,40],[220,43,236,41],[221,10,237,8],[221,14,237,12,"audio"],[221,19,237,17],[221,21,237,19],[222,12,238,10,"audio"],[222,17,238,15],[222,18,238,16,"srcObject"],[222,27,238,25],[222,30,238,28,"event"],[222,35,238,33],[222,36,238,34,"streams"],[222,43,238,41],[222,44,238,42],[222,45,238,43],[222,46,238,44],[223,12,239,10,"audio"],[223,17,239,15],[223,18,239,16,"play"],[223,22,239,20],[223,23,239,21],[223,24,239,22],[223,25,239,23,"catch"],[223,30,239,28],[223,31,239,29,"console"],[223,38,239,36],[223,39,239,37,"error"],[223,44,239,42],[223,45,239,43],[224,10,240,8],[225,8,241,6],[225,9,241,7],[226,8,243,6,"pc"],[226,10,243,8],[226,11,243,9,"onconnectionstatechange"],[226,34,243,32],[226,37,243,35],[226,43,243,41],[227,10,244,8],[227,14,244,12,"pc"],[227,16,244,14],[227,17,244,15,"connectionState"],[227,32,244,30],[227,37,244,35],[227,48,244,46],[227,50,244,48],[228,12,245,10,"setCallState"],[228,24,245,22],[228,25,245,23],[228,36,245,34],[228,37,245,35],[229,12,246,10,"startCallTimer"],[229,26,246,24],[229,27,246,25],[229,28,246,26],[230,10,247,8],[230,11,247,9],[230,17,247,15],[230,21,247,19,"pc"],[230,23,247,21],[230,24,247,22,"connectionState"],[230,39,247,37],[230,44,247,42],[230,58,247,56],[230,62,247,60,"pc"],[230,64,247,62],[230,65,247,63,"connectionState"],[230,80,247,78],[230,85,247,83],[230,93,247,91],[230,95,247,93],[231,12,248,10,"cleanupCall"],[231,23,248,21],[231,24,248,22],[231,25,248,23],[232,10,249,8],[233,8,250,6],[233,9,250,7],[234,8,252,6],[234,12,252,10,"createOffer"],[234,23,252,21],[234,25,252,23],[235,10,253,8],[235,16,253,14,"offer"],[235,21,253,19],[235,24,253,22],[235,30,253,28,"pc"],[235,32,253,30],[235,33,253,31,"createOffer"],[235,44,253,42],[235,45,253,43],[235,46,253,44],[236,10,254,8],[236,16,254,14,"pc"],[236,18,254,16],[236,19,254,17,"setLocalDescription"],[236,38,254,36],[236,39,254,37,"offer"],[236,44,254,42],[236,45,254,43],[237,10,255,8,"socketRef"],[237,19,255,17],[237,20,255,18,"current"],[237,27,255,25],[237,29,255,27,"emit"],[237,33,255,31],[237,34,255,32],[237,48,255,46],[237,50,255,48],[238,12,256,10,"call_id"],[238,19,256,17],[238,21,256,19,"currentCallIdRef"],[238,37,256,35],[238,38,256,36,"current"],[238,45,256,43],[239,12,257,10,"offer"],[239,17,257,15],[239,19,257,17,"offer"],[240,10,258,8],[240,11,258,9],[240,12,258,10],[241,8,259,6],[242,6,260,4],[242,7,260,5],[242,8,260,6],[242,15,260,13,"error"],[242,20,260,18],[242,22,260,20],[243,8,261,6,"console"],[243,15,261,13],[243,16,261,14,"error"],[243,21,261,19],[243,22,261,20],[243,37,261,35],[243,39,261,37,"error"],[243,44,261,42],[243,45,261,43],[244,8,262,6,"showAlert"],[244,17,262,15],[244,18,262,16],[244,36,262,34],[244,38,262,36],[244,125,262,123],[244,126,262,124],[245,8,263,6,"cleanupCall"],[245,19,263,17],[245,20,263,18],[245,21,263,19],[246,6,264,4],[247,4,265,2],[247,5,265,3],[248,4,267,2],[248,10,267,8,"handleOffer"],[248,21,267,19],[248,24,267,22],[248,30,267,29,"offer"],[248,35,267,61],[248,39,267,66],[249,6,268,4],[249,10,268,8,"Platform"],[249,18,268,16],[249,19,268,16,"default"],[249,26,268,16],[249,27,268,17,"OS"],[249,29,268,19],[249,34,268,24],[249,39,268,29],[249,41,268,31],[250,6,270,4],[250,10,270,8],[250,11,270,9,"peerConnectionRef"],[250,28,270,26],[250,29,270,27,"current"],[250,36,270,34],[250,38,270,36],[251,8,271,6],[251,14,271,12,"startWebRTCConnection"],[251,35,271,33],[251,36,271,34],[251,41,271,39],[251,42,271,40],[252,6,272,4],[253,6,274,4],[253,12,274,10,"peerConnectionRef"],[253,29,274,27],[253,30,274,28,"current"],[253,37,274,35],[253,39,274,37,"setRemoteDescription"],[253,59,274,57],[253,60,274,58],[253,64,274,62,"RTCSessionDescription"],[253,85,274,83],[253,86,274,84,"offer"],[253,91,274,89],[253,92,274,90],[253,93,274,91],[254,6,275,4],[254,12,275,10,"answer"],[254,18,275,16],[254,21,275,19],[254,27,275,25,"peerConnectionRef"],[254,44,275,42],[254,45,275,43,"current"],[254,52,275,50],[254,54,275,52,"createAnswer"],[254,66,275,64],[254,67,275,65],[254,68,275,66],[255,6,276,4],[255,12,276,10,"peerConnectionRef"],[255,29,276,27],[255,30,276,28,"current"],[255,37,276,35],[255,39,276,37,"setLocalDescription"],[255,58,276,56],[255,59,276,57,"answer"],[255,65,276,63],[255,66,276,64],[256,6,278,4,"socketRef"],[256,15,278,13],[256,16,278,14,"current"],[256,23,278,21],[256,25,278,23,"emit"],[256,29,278,27],[256,30,278,28],[256,45,278,43],[256,47,278,45],[257,8,279,6,"call_id"],[257,15,279,13],[257,17,279,15,"currentCallIdRef"],[257,33,279,31],[257,34,279,32,"current"],[257,41,279,39],[258,8,280,6,"answer"],[258,14,280,12],[258,16,280,14,"answer"],[259,6,281,4],[259,7,281,5],[259,8,281,6],[260,6,283,4,"setCallState"],[260,18,283,16],[260,19,283,17],[260,30,283,28],[260,31,283,29],[261,6,284,4,"startCallTimer"],[261,20,284,18],[261,21,284,19],[261,22,284,20],[262,4,285,2],[262,5,285,3],[263,4,287,2],[263,10,287,8,"handleAnswer"],[263,22,287,20],[263,25,287,23],[263,31,287,30,"answer"],[263,37,287,63],[263,41,287,68],[264,6,288,4],[264,10,288,8,"Platform"],[264,18,288,16],[264,19,288,16,"default"],[264,26,288,16],[264,27,288,17,"OS"],[264,29,288,19],[264,34,288,24],[264,39,288,29],[264,41,288,31],[265,6,289,4],[265,12,289,10,"peerConnectionRef"],[265,29,289,27],[265,30,289,28,"current"],[265,37,289,35],[265,39,289,37,"setRemoteDescription"],[265,59,289,57],[265,60,289,58],[265,64,289,62,"RTCSessionDescription"],[265,85,289,83],[265,86,289,84,"answer"],[265,92,289,90],[265,93,289,91],[265,94,289,92],[266,6,290,4,"setCallState"],[266,18,290,16],[266,19,290,17],[266,30,290,28],[266,31,290,29],[267,6,291,4,"startCallTimer"],[267,20,291,18],[267,21,291,19],[267,22,291,20],[268,4,292,2],[268,5,292,3],[269,4,294,2],[269,10,294,8,"handleIceCandidate"],[269,28,294,26],[269,31,294,29],[269,37,294,36,"candidate"],[269,46,294,66],[269,50,294,71],[270,6,295,4],[270,10,295,8,"Platform"],[270,18,295,16],[270,19,295,16,"default"],[270,26,295,16],[270,27,295,17,"OS"],[270,29,295,19],[270,34,295,24],[270,39,295,29],[270,43,295,33],[270,44,295,34,"candidate"],[270,53,295,43],[270,55,295,45],[271,6,296,4],[271,12,296,10,"peerConnectionRef"],[271,29,296,27],[271,30,296,28,"current"],[271,37,296,35],[271,39,296,37,"addIceCandidate"],[271,54,296,52],[271,55,296,53],[271,59,296,57,"RTCIceCandidate"],[271,74,296,72],[271,75,296,73,"candidate"],[271,84,296,82],[271,85,296,83],[271,86,296,84],[272,4,297,2],[272,5,297,3],[273,4,299,2],[273,10,299,8,"initiateCall"],[273,22,299,20],[273,25,299,23],[273,31,299,23,"initiateCall"],[273,32,299,30,"targetUserId"],[273,44,299,50],[273,46,299,52,"targetName"],[273,56,299,70],[273,61,299,75],[274,6,300,4],[274,10,300,8,"Platform"],[274,18,300,16],[274,19,300,16,"default"],[274,26,300,16],[274,27,300,17,"OS"],[274,29,300,19],[274,34,300,24],[274,39,300,29],[274,41,300,31],[275,8,301,6,"showAlert"],[275,17,301,15],[275,18,301,16],[275,33,301,31],[275,35,301,33],[275,77,301,75],[275,78,301,76],[276,8,302,6],[277,6,303,4],[278,6,305,4],[278,10,305,8,"callState"],[278,19,305,17],[278,24,305,22],[278,30,305,28],[278,32,305,30],[279,8,306,6,"showAlert"],[279,17,306,15],[279,18,306,16],[279,24,306,22],[279,26,306,24],[279,53,306,51],[279,54,306,52],[280,8,307,6],[281,6,308,4],[283,6,310,4],[284,6,311,4,"initializeSocket"],[284,22,311,20],[284,23,311,21],[284,24,311,22],[285,6,313,4,"setCallInfo"],[285,17,313,15],[285,18,313,16],[286,8,314,6,"callId"],[286,14,314,12],[286,16,314,14],[286,18,314,16],[287,8,315,6,"peerName"],[287,16,315,14],[287,18,315,16,"targetName"],[287,28,315,26],[288,8,316,6,"callType"],[288,16,316,14],[288,18,316,16],[288,25,316,23],[289,8,317,6,"isIncoming"],[289,18,317,16],[289,20,317,18],[290,6,318,4],[290,7,318,5],[290,8,318,6],[291,6,319,4,"setCallState"],[291,18,319,16],[291,19,319,17],[291,31,319,29],[291,32,319,30],[293,6,321,4],[294,6,322,4],[294,10,322,8,"attempts"],[294,18,322,16],[294,21,322,19],[294,22,322,20],[295,6,323,4],[295,13,323,11],[295,14,323,12,"socketRef"],[295,23,323,21],[295,24,323,22,"current"],[295,31,323,29],[295,33,323,31,"connected"],[295,42,323,40],[295,46,323,44,"attempts"],[295,54,323,52],[295,57,323,55],[295,59,323,57],[295,61,323,59],[296,8,324,6],[296,14,324,12],[296,18,324,16,"Promise"],[296,25,324,23],[296,26,324,25,"resolve"],[296,33,324,32],[296,37,324,37,"setTimeout"],[296,47,324,47],[296,48,324,48,"resolve"],[296,55,324,55],[296,57,324,57],[296,60,324,60],[296,61,324,61],[296,62,324,62],[297,8,325,6,"attempts"],[297,16,325,14],[297,18,325,16],[298,6,326,4],[299,6,328,4],[299,10,328,8],[299,11,328,9,"socketRef"],[299,20,328,18],[299,21,328,19,"current"],[299,28,328,26],[299,30,328,28,"connected"],[299,39,328,37],[299,41,328,39],[300,8,329,6,"showAlert"],[300,17,329,15],[300,18,329,16],[300,36,329,34],[300,38,329,36],[300,91,329,89],[300,92,329,90],[301,8,330,6,"cleanupCall"],[301,19,330,17],[301,20,330,18],[301,21,330,19],[302,8,331,6],[303,6,332,4],[305,6,334,4],[306,6,335,4],[306,12,335,10,"callerId"],[306,20,335,18],[306,23,335,21],[306,35,335,33,"Date"],[306,39,335,37],[306,40,335,38,"now"],[306,43,335,41],[306,44,335,42],[306,45,335,43],[306,47,335,45],[308,6,337,4],[309,6,338,4,"socketRef"],[309,15,338,13],[309,16,338,14,"current"],[309,23,338,21],[309,25,338,23,"emit"],[309,29,338,27],[309,30,338,28],[309,40,338,38],[309,42,338,40],[310,8,339,6,"user_id"],[310,15,339,13],[310,17,339,15,"callerId"],[310,25,339,23],[311,8,340,6,"user_type"],[311,17,340,15],[311,19,340,17],[311,25,340,23],[312,8,341,6,"name"],[312,12,341,10],[312,14,341,12],[312,24,341,22],[313,8,342,6,"status"],[313,14,342,12],[313,16,342,14],[314,6,343,4],[314,7,343,5],[314,8,343,6],[316,6,345,4],[317,6,346,4],[317,12,346,10],[317,16,346,14,"Promise"],[317,23,346,21],[317,24,346,23,"resolve"],[317,31,346,30],[317,35,346,35,"setTimeout"],[317,45,346,45],[317,46,346,46,"resolve"],[317,53,346,53],[317,55,346,55],[317,58,346,58],[317,59,346,59],[317,60,346,60],[319,6,348,4],[320,6,349,4,"socketRef"],[320,15,349,13],[320,16,349,14,"current"],[320,23,349,21],[320,25,349,23,"emit"],[320,29,349,27],[320,30,349,28],[320,45,349,43],[320,47,349,45],[321,8,350,6,"target_user_id"],[321,22,350,20],[321,24,350,22,"targetUserId"],[321,36,350,34],[322,8,351,6,"caller_name"],[322,19,351,17],[322,21,351,19],[322,31,351,29],[323,8,352,6,"call_type"],[323,17,352,15],[323,19,352,17],[324,6,353,4],[324,7,353,5],[324,8,353,6],[325,4,354,2],[325,5,354,3],[326,4,356,2],[326,10,356,8,"acceptCall"],[326,20,356,18],[326,23,356,21],[326,27,356,21,"useCallback"],[326,33,356,32],[326,34,356,32,"useCallback"],[326,45,356,32],[326,47,356,33],[326,53,356,39],[327,6,357,4],[327,10,357,8],[327,11,357,9,"currentCallIdRef"],[327,27,357,25],[327,28,357,26,"current"],[327,35,357,33],[327,37,357,35],[328,6,358,4,"socketRef"],[328,15,358,13],[328,16,358,14,"current"],[328,23,358,21],[328,25,358,23,"emit"],[328,29,358,27],[328,30,358,28],[328,43,358,41],[328,45,358,43],[329,8,358,45,"call_id"],[329,15,358,52],[329,17,358,54,"currentCallIdRef"],[329,33,358,70],[329,34,358,71,"current"],[330,6,358,79],[330,7,358,80],[330,8,358,81],[331,6,359,4,"setCallState"],[331,18,359,16],[331,19,359,17],[331,31,359,29],[331,32,359,30],[332,6,360,4,"startWebRTCConnection"],[332,27,360,25],[332,28,360,26],[332,33,360,31],[332,34,360,32],[333,4,361,2],[333,5,361,3],[333,7,361,5],[333,9,361,7],[333,10,361,8],[334,4,363,2],[334,10,363,8,"rejectCall"],[334,20,363,18],[334,23,363,21],[334,27,363,21,"useCallback"],[334,33,363,32],[334,34,363,32,"useCallback"],[334,45,363,32],[334,47,363,33],[334,53,363,39],[335,6,364,4],[335,10,364,8,"currentCallIdRef"],[335,26,364,24],[335,27,364,25,"current"],[335,34,364,32],[335,36,364,34],[336,8,365,6,"socketRef"],[336,17,365,15],[336,18,365,16,"current"],[336,25,365,23],[336,27,365,25,"emit"],[336,31,365,29],[336,32,365,30],[336,45,365,43],[336,47,365,45],[337,10,366,8,"call_id"],[337,17,366,15],[337,19,366,17,"currentCallIdRef"],[337,35,366,33],[337,36,366,34,"current"],[337,43,366,41],[338,10,367,8,"reason"],[338,16,367,14],[338,18,367,16],[339,8,368,6],[339,9,368,7],[339,10,368,8],[340,6,369,4],[341,6,370,4,"cleanupCall"],[341,17,370,15],[341,18,370,16],[341,19,370,17],[342,4,371,2],[342,5,371,3],[342,7,371,5],[342,8,371,6,"cleanupCall"],[342,19,371,17],[342,20,371,18],[342,21,371,19],[343,4,373,2],[343,10,373,8,"endCall"],[343,17,373,15],[343,20,373,18],[343,24,373,18,"useCallback"],[343,30,373,29],[343,31,373,29,"useCallback"],[343,42,373,29],[343,44,373,30],[343,50,373,36],[344,6,374,4,"console"],[344,13,374,11],[344,14,374,12,"log"],[344,17,374,15],[344,18,374,16],[344,48,374,46],[344,50,374,48,"currentCallIdRef"],[344,66,374,64],[344,67,374,65,"current"],[344,74,374,72],[344,75,374,73],[345,6,375,4],[345,10,375,8,"currentCallIdRef"],[345,26,375,24],[345,27,375,25,"current"],[345,34,375,32],[345,36,375,34],[346,8,376,6,"socketRef"],[346,17,376,15],[346,18,376,16,"current"],[346,25,376,23],[346,27,376,25,"emit"],[346,31,376,29],[346,32,376,30],[346,42,376,40],[346,44,376,42],[347,10,376,44,"call_id"],[347,17,376,51],[347,19,376,53,"currentCallIdRef"],[347,35,376,69],[347,36,376,70,"current"],[348,8,376,78],[348,9,376,79],[348,10,376,80],[349,6,377,4],[350,6,378,4],[351,6,379,4,"cleanupCall"],[351,17,379,15],[351,18,379,16],[351,19,379,17],[352,4,380,2],[352,5,380,3],[352,7,380,5],[352,8,380,6,"cleanupCall"],[352,19,380,17],[352,20,380,18],[352,21,380,19],[353,4,382,2],[353,10,382,8,"startCallTimer"],[353,24,382,22],[353,27,382,25,"startCallTimer"],[353,28,382,25],[353,33,382,31],[354,6,383,4,"setCallDuration"],[354,21,383,19],[354,22,383,20],[354,23,383,21],[354,24,383,22],[355,6,384,4,"callTimerRef"],[355,18,384,16],[355,19,384,17,"current"],[355,26,384,24],[355,29,384,27,"setInterval"],[355,40,384,38],[355,41,384,39],[355,47,384,45],[356,8,385,6,"setCallDuration"],[356,23,385,21],[356,24,385,23,"prev"],[356,28,385,27],[356,32,385,32,"prev"],[356,36,385,36],[356,39,385,39],[356,40,385,40],[356,41,385,41],[357,6,386,4],[357,7,386,5],[357,9,386,7],[357,13,386,11],[357,14,386,12],[358,4,387,2],[358,5,387,3],[359,4,389,2],[359,10,389,8,"cleanupCall"],[359,21,389,19],[359,24,389,22],[359,28,389,22,"useCallback"],[359,34,389,33],[359,35,389,33,"useCallback"],[359,46,389,33],[359,48,389,34],[359,54,389,40],[360,6,390,4,"localStreamRef"],[360,20,390,18],[360,21,390,19,"current"],[360,28,390,26],[360,30,390,28,"getTracks"],[360,39,390,37],[360,40,390,38],[360,41,390,39],[360,42,390,40,"forEach"],[360,49,390,47],[360,50,390,49,"track"],[360,55,390,54],[360,59,390,59,"track"],[360,64,390,64],[360,65,390,65,"stop"],[360,69,390,69],[360,70,390,70],[360,71,390,71],[360,72,390,72],[361,6,391,4,"localStreamRef"],[361,20,391,18],[361,21,391,19,"current"],[361,28,391,26],[361,31,391,29],[361,35,391,33],[362,6,393,4,"peerConnectionRef"],[362,23,393,21],[362,24,393,22,"current"],[362,31,393,29],[362,33,393,31,"close"],[362,38,393,36],[362,39,393,37],[362,40,393,38],[363,6,394,4,"peerConnectionRef"],[363,23,394,21],[363,24,394,22,"current"],[363,31,394,29],[363,34,394,32],[363,38,394,36],[364,6,396,4],[364,10,396,8,"callTimerRef"],[364,22,396,20],[364,23,396,21,"current"],[364,30,396,28],[364,32,396,30],[365,8,397,6,"clearInterval"],[365,21,397,19],[365,22,397,20,"callTimerRef"],[365,34,397,32],[365,35,397,33,"current"],[365,42,397,40],[365,43,397,41],[366,8,398,6,"callTimerRef"],[366,20,398,18],[366,21,398,19,"current"],[366,28,398,26],[366,31,398,29],[366,35,398,33],[367,6,399,4],[368,6,401,4,"currentCallIdRef"],[368,22,401,20],[368,23,401,21,"current"],[368,30,401,28],[368,33,401,31],[368,37,401,35],[369,6,402,4,"setCallState"],[369,18,402,16],[369,19,402,17],[369,25,402,23],[369,26,402,24],[370,6,403,4,"setCallInfo"],[370,17,403,15],[370,18,403,16],[370,22,403,20],[370,23,403,21],[371,6,404,4,"setCallDuration"],[371,21,404,19],[371,22,404,20],[371,23,404,21],[371,24,404,22],[372,4,405,2],[372,5,405,3],[372,7,405,5],[372,9,405,7],[372,10,405,8],[373,4,407,2],[373,8,407,2,"useEffect"],[373,14,407,11],[373,15,407,11,"useEffect"],[373,24,407,11],[373,26,407,12],[373,32,407,18],[374,6,408,4],[374,13,408,11],[374,19,408,17],[375,8,409,6,"cleanupCall"],[375,19,409,17],[375,20,409,18],[375,21,409,19],[376,8,410,6,"socketRef"],[376,17,410,15],[376,18,410,16,"current"],[376,25,410,23],[376,27,410,25,"disconnect"],[376,37,410,35],[376,38,410,36],[376,39,410,37],[377,6,411,4],[377,7,411,5],[378,4,412,2],[378,5,412,3],[378,7,412,5],[378,8,412,6,"cleanupCall"],[378,19,412,17],[378,20,412,18],[378,21,412,19],[379,4,414,2],[379,11,414,9],[380,6,415,4,"callState"],[380,15,415,13],[381,6,416,4,"callInfo"],[381,14,416,12],[382,6,417,4,"isConnected"],[382,17,417,15],[383,6,418,4,"callDuration"],[383,18,418,16],[384,6,419,4,"initiateCall"],[384,18,419,16],[385,6,420,4,"acceptCall"],[385,16,420,14],[386,6,421,4,"rejectCall"],[386,16,421,14],[387,6,422,4,"endCall"],[387,13,422,11],[388,6,423,4,"register"],[389,4,424,2],[389,5,424,3],[390,2,425,0],[391,2,425,1,"_s"],[391,4,425,1],[391,5,54,16,"useWebRTCCall"],[391,18,54,29],[392,2,427,7],[392,11,427,16,"formatCallDuration"],[392,29,427,34,"formatCallDuration"],[392,30,427,35,"seconds"],[392,37,427,50],[392,39,427,60],[393,4,428,2],[393,10,428,8,"mins"],[393,14,428,12],[393,17,428,15,"Math"],[393,21,428,19],[393,22,428,20,"floor"],[393,27,428,25],[393,28,428,26,"seconds"],[393,35,428,33],[393,38,428,36],[393,40,428,38],[393,41,428,39],[394,4,429,2],[394,10,429,8,"secs"],[394,14,429,12],[394,17,429,15,"seconds"],[394,24,429,22],[394,27,429,25],[394,29,429,27],[395,4,430,2],[395,11,430,9],[395,14,430,12,"mins"],[395,18,430,16],[395,19,430,17,"toString"],[395,27,430,25],[395,28,430,26],[395,29,430,27],[395,30,430,28,"padStart"],[395,38,430,36],[395,39,430,37],[395,40,430,38],[395,42,430,40],[395,45,430,43],[395,46,430,44],[395,50,430,48,"secs"],[395,54,430,52],[395,55,430,53,"toString"],[395,63,430,61],[395,64,430,62],[395,65,430,63],[395,66,430,64,"padStart"],[395,74,430,72],[395,75,430,73],[395,76,430,74],[395,78,430,76],[395,81,430,79],[395,82,430,80],[395,84,430,82],[396,2,431,0],[397,0,431,1],[397,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BIG;eCK;KDO;GJC;4BMG;GNW;gCOG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GPe;sBYE;GZkB;uBaE;GbK;6BcE;GdG;uBeE;wBCyB,qCD;sBCsB,qCD;GfQ;iCiBE;GjBK;iCkBE;GlBQ;8BmBE;GnBO;yBoBE;uCCE;sBCC,kBD;KDC;GpBC;kCuBE;gDCC,uBD;GvBe;YyBE;WCC;KDG;GzBC;CHa;O8BE;C9BI"},"hasCjsExports":false},"type":"js/module"}]}