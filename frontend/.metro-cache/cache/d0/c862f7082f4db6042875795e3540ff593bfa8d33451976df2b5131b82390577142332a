{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[3], \"socket.io-client\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    _s();\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async () => {\n        console.log('WebRTC: Call accepted');\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ringing', () => {\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_reject', {\n        call_id: currentCallIdRef.current,\n        reason: 'rejected'\n      });\n      cleanupCall();\n    }, []);\n    const endCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_end', {\n        call_id: currentCallIdRef.current\n      });\n      cleanupCall();\n    }, []);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  _s(useWebRTCCall, \"WQFWwNpM7OWiC55rpuZeP0WaxAU=\");\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":380,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,1,0],[13,11,1,0,"_interopDefault"],[13,27,1,0,"e"],[13,28,1,0],[14,4,1,0],[14,11,1,0,"e"],[14,12,1,0],[14,16,1,0,"e"],[14,17,1,0],[14,18,1,0,"__esModule"],[14,28,1,0],[14,31,1,0,"e"],[14,32,1,0],[15,6,1,0,"default"],[15,13,1,0],[15,15,1,0,"e"],[16,4,1,0],[17,2,1,0],[18,2,54,0,"exports"],[18,9,54,0],[18,10,54,0,"useWebRTCCall"],[18,23,54,0],[18,26,54,0,"useWebRTCCall"],[18,39,54,0],[19,2,413,0,"exports"],[19,9,413,0],[19,10,413,0,"formatCallDuration"],[19,28,413,0],[19,31,413,0,"formatCallDuration"],[19,49,413,0],[20,2,417,1],[20,6,417,1,"_expoVirtualEnv"],[20,21,417,1],[20,24,417,1,"require"],[20,31,417,1],[20,32,417,1,"_dependencyMap"],[20,46,417,1],[21,2,7,0],[21,6,7,0,"_react"],[21,12,7,0],[21,15,7,0,"require"],[21,22,7,0],[21,23,7,0,"_dependencyMap"],[21,37,7,0],[22,2,7,65],[22,6,7,65,"_reactNativeWebDistExportsPlatform"],[22,40,7,65],[22,43,7,65,"require"],[22,50,7,65],[22,51,7,65,"_dependencyMap"],[22,65,7,65],[23,2,7,65],[23,6,7,65,"Platform"],[23,14,7,65],[23,17,7,65,"_interopDefault"],[23,32,7,65],[23,33,7,65,"_reactNativeWebDistExportsPlatform"],[23,67,7,65],[24,2,9,0],[24,6,9,0,"_socketIoClient"],[24,21,9,0],[24,24,9,0,"require"],[24,31,9,0],[24,32,9,0,"_dependencyMap"],[24,46,9,0],[25,2,11,0],[25,8,11,6,"API_URL"],[25,15,11,13],[25,18,11,16,"_expoVirtualEnv"],[25,33,11,16],[25,34,11,16,"env"],[25,37,11,16],[25,38,11,16,"EXPO_PUBLIC_BACKEND_URL"],[25,61,11,16],[25,65,11,55],[25,67,11,57],[27,2,13,0],[28,2,14,0],[28,8,14,6,"showAlert"],[28,17,14,15],[28,20,14,18,"showAlert"],[28,21,14,19,"title"],[28,26,14,32],[28,28,14,34,"message"],[28,35,14,49],[28,40,14,54],[29,4,15,2],[29,8,15,6,"Platform"],[29,16,15,14],[29,17,15,14,"default"],[29,24,15,14],[29,25,15,15,"OS"],[29,27,15,17],[29,32,15,22],[29,37,15,27],[29,41,15,31],[29,48,15,38,"window"],[29,54,15,44],[29,59,15,49],[29,70,15,60],[29,72,15,62],[30,6,16,4,"window"],[30,12,16,10],[30,13,16,11,"alert"],[30,18,16,16],[30,19,16,17],[30,22,16,20,"title"],[30,27,16,25],[30,34,16,32,"message"],[30,41,16,39],[30,43,16,41],[30,44,16,42],[31,4,17,2],[31,5,17,3],[31,11,17,9],[32,6,18,4],[33,6,19,4,"require"],[33,13,19,4],[33,14,19,4,"_dependencyMap"],[33,28,19,4],[33,71,19,4,"_dependencyMap"],[33,85,19,4],[33,90,19,4,"_dependencyMap"],[33,104,19,4],[33,105,19,4,"paths"],[33,110,19,4],[33,128,19,27,"then"],[33,132,19,31],[33,133,19,32],[33,134,19,33],[34,8,19,35,"Alert"],[35,6,19,41],[35,7,19,42],[35,12,19,47],[36,8,20,6,"Alert"],[36,13,20,11],[36,14,20,12,"alert"],[36,19,20,17],[36,20,20,18,"title"],[36,25,20,23],[36,27,20,25,"message"],[36,34,20,32],[36,35,20,33],[37,6,21,4],[37,7,21,5],[37,8,21,6],[38,4,22,2],[39,2,23,0],[39,3,23,1],[41,2,25,0],[42,2,26,0],[42,8,26,6,"RTC_CONFIG"],[42,18,26,16],[42,21,26,19],[43,4,27,2,"iceServers"],[43,14,27,12],[43,16,27,14],[43,17,28,4],[44,6,28,6,"urls"],[44,10,28,10],[44,12,28,12],[45,4,28,43],[45,5,28,44],[45,7,29,4],[46,6,29,6,"urls"],[46,10,29,10],[46,12,29,12],[47,4,29,44],[47,5,29,45],[48,2,31,0],[48,3,31,1],[49,2,54,7],[49,11,54,16,"useWebRTCCall"],[49,24,54,29,"useWebRTCCall"],[49,25,54,29],[49,27,54,53],[50,4,54,53,"_s"],[50,6,54,53],[51,4,55,2],[51,10,55,8],[51,11,55,9,"callState"],[51,20,55,18],[51,22,55,20,"setCallState"],[51,34,55,32],[51,35,55,33],[51,38,55,36],[51,42,55,36,"useState"],[51,48,55,44],[51,49,55,44,"useState"],[51,57,55,44],[51,59,55,56],[51,65,55,62],[51,66,55,63],[52,4,56,2],[52,10,56,8],[52,11,56,9,"callInfo"],[52,19,56,17],[52,21,56,19,"setCallInfo"],[52,32,56,30],[52,33,56,31],[52,36,56,34],[52,40,56,34,"useState"],[52,46,56,42],[52,47,56,42,"useState"],[52,55,56,42],[52,57,56,60],[52,61,56,64],[52,62,56,65],[53,4,57,2],[53,10,57,8],[53,11,57,9,"isConnected"],[53,22,57,20],[53,24,57,22,"setIsConnected"],[53,38,57,36],[53,39,57,37],[53,42,57,40],[53,46,57,40,"useState"],[53,52,57,48],[53,53,57,48,"useState"],[53,61,57,48],[53,63,57,49],[53,68,57,54],[53,69,57,55],[54,4,58,2],[54,10,58,8],[54,11,58,9,"callDuration"],[54,23,58,21],[54,25,58,23,"setCallDuration"],[54,40,58,38],[54,41,58,39],[54,44,58,42],[54,48,58,42,"useState"],[54,54,58,50],[54,55,58,50,"useState"],[54,63,58,50],[54,65,58,51],[54,66,58,52],[54,67,58,53],[55,4,60,2],[55,10,60,8,"socketRef"],[55,19,60,17],[55,22,60,20],[55,26,60,20,"useRef"],[55,32,60,26],[55,33,60,26,"useRef"],[55,39,60,26],[55,41,60,42],[55,45,60,46],[55,46,60,47],[56,4,61,2],[56,10,61,8,"peerConnectionRef"],[56,27,61,25],[56,30,61,28],[56,34,61,28,"useRef"],[56,40,61,34],[56,41,61,34,"useRef"],[56,47,61,34],[56,49,61,61],[56,53,61,65],[56,54,61,66],[57,4,62,2],[57,10,62,8,"localStreamRef"],[57,24,62,22],[57,27,62,25],[57,31,62,25,"useRef"],[57,37,62,31],[57,38,62,31,"useRef"],[57,44,62,31],[57,46,62,52],[57,50,62,56],[57,51,62,57],[58,4,63,2],[58,10,63,8,"remoteAudioRef"],[58,24,63,22],[58,27,63,25],[58,31,63,25,"useRef"],[58,37,63,31],[58,38,63,31,"useRef"],[58,44,63,31],[58,46,63,57],[58,50,63,61],[58,51,63,62],[59,4,64,2],[59,10,64,8,"callTimerRef"],[59,22,64,20],[59,25,64,23],[59,29,64,23,"useRef"],[59,35,64,29],[59,36,64,29,"useRef"],[59,42,64,29],[59,44,64,69],[59,48,64,73],[59,49,64,74],[60,4,65,2],[60,10,65,8,"currentCallIdRef"],[60,26,65,24],[60,29,65,27],[60,33,65,27,"useRef"],[60,39,65,33],[60,40,65,33,"useRef"],[60,46,65,33],[60,48,65,49],[60,52,65,53],[60,53,65,54],[62,4,67,2],[63,4,68,2],[63,10,68,8,"initializeSocket"],[63,26,68,24],[63,29,68,27],[63,33,68,27,"useCallback"],[63,39,68,38],[63,40,68,38,"useCallback"],[63,51,68,38],[63,53,68,39],[63,59,68,45],[64,6,69,4],[64,10,69,8,"Platform"],[64,18,69,16],[64,19,69,16,"default"],[64,26,69,16],[64,27,69,17,"OS"],[64,29,69,19],[64,34,69,24],[64,39,69,29],[64,41,69,31],[65,6,70,4],[65,10,70,8,"socketRef"],[65,19,70,17],[65,20,70,18,"current"],[65,27,70,25],[65,29,70,27,"connected"],[65,38,70,36],[65,40,70,38],[66,8,71,6,"console"],[66,15,71,13],[66,16,71,14,"log"],[66,19,71,17],[66,20,71,18],[66,54,71,52],[66,55,71,53],[67,8,72,6],[68,6,73,4],[70,6,75,4],[71,6,76,4],[71,10,76,8,"socketRef"],[71,19,76,17],[71,20,76,18,"current"],[71,27,76,25],[71,29,76,27],[72,8,77,6,"console"],[72,15,77,13],[72,16,77,14,"log"],[72,19,77,17],[72,20,77,18],[72,78,77,76],[72,79,77,77],[73,8,78,6,"socketRef"],[73,17,78,15],[73,18,78,16,"current"],[73,25,78,23],[73,26,78,24,"connect"],[73,33,78,31],[73,34,78,32],[73,35,78,33],[74,8,79,6],[75,6,80,4],[77,6,82,4],[78,6,83,4],[78,12,83,10,"backendUrl"],[78,22,83,20],[78,25,83,23,"API_URL"],[78,32,83,30],[79,6,84,4,"console"],[79,13,84,11],[79,14,84,12,"log"],[79,17,84,15],[79,18,84,16],[79,61,84,59],[79,63,84,61,"backendUrl"],[79,73,84,71],[79,74,84,72],[80,6,86,4,"socketRef"],[80,15,86,13],[80,16,86,14,"current"],[80,23,86,21],[80,26,86,24],[80,30,86,24,"io"],[80,45,86,26],[80,46,86,26,"io"],[80,48,86,26],[80,50,86,27,"backendUrl"],[80,60,86,37],[80,62,86,39],[81,8,87,6,"transports"],[81,18,87,16],[81,20,87,18],[81,21,87,19],[81,32,87,30],[81,34,87,32],[81,43,87,41],[81,44,87,42],[82,8,88,6,"reconnection"],[82,20,88,18],[82,22,88,20],[82,26,88,24],[83,8,89,6,"reconnectionAttempts"],[83,28,89,26],[83,30,89,28],[83,32,89,30],[84,8,90,6,"reconnectionDelay"],[84,25,90,23],[84,27,90,25],[84,31,90,29],[85,8,91,6,"timeout"],[85,15,91,13],[85,17,91,15],[85,22,91,20],[86,8,92,6,"path"],[86,12,92,10],[86,14,92,12],[86,30,92,28],[86,31,92,31],[87,6,93,4],[87,7,93,5],[87,8,93,6],[88,6,95,4,"socketRef"],[88,15,95,13],[88,16,95,14,"current"],[88,23,95,21],[88,24,95,22,"on"],[88,26,95,24],[88,27,95,25],[88,36,95,34],[88,38,95,36],[88,44,95,42],[89,8,96,6,"console"],[89,15,96,13],[89,16,96,14,"log"],[89,19,96,17],[89,20,96,18],[89,59,96,57],[89,60,96,58],[90,8,97,6,"setIsConnected"],[90,22,97,20],[90,23,97,21],[90,27,97,25],[90,28,97,26],[91,6,98,4],[91,7,98,5],[91,8,98,6],[92,6,100,4,"socketRef"],[92,15,100,13],[92,16,100,14,"current"],[92,23,100,21],[92,24,100,22,"on"],[92,26,100,24],[92,27,100,25],[92,39,100,37],[92,41,100,39],[92,47,100,45],[93,8,101,6,"console"],[93,15,101,13],[93,16,101,14,"log"],[93,19,101,17],[93,20,101,18],[93,42,101,40],[93,43,101,41],[94,8,102,6,"setIsConnected"],[94,22,102,20],[94,23,102,21],[94,28,102,26],[94,29,102,27],[95,8,103,6,"cleanupCall"],[95,19,103,17],[95,20,103,18],[95,21,103,19],[96,6,104,4],[96,7,104,5],[96,8,104,6],[97,6,106,4,"socketRef"],[97,15,106,13],[97,16,106,14,"current"],[97,23,106,21],[97,24,106,22,"on"],[97,26,106,24],[97,27,106,25],[97,39,106,37],[97,41,106,40,"data"],[97,45,106,49],[97,49,106,54],[98,8,107,6,"console"],[98,15,107,13],[98,16,107,14,"log"],[98,19,107,17],[98,20,107,18],[98,40,107,38],[98,42,107,40,"data"],[98,46,107,44],[98,47,107,45],[99,6,108,4],[99,7,108,5],[99,8,108,6],[101,6,110,4],[102,6,111,4,"socketRef"],[102,15,111,13],[102,16,111,14,"current"],[102,23,111,21],[102,24,111,22,"on"],[102,26,111,24],[102,27,111,25],[102,42,111,40],[102,44,111,43,"data"],[102,48,111,52],[102,52,111,57],[103,8,112,6,"console"],[103,15,112,13],[103,16,112,14,"log"],[103,19,112,17],[103,20,112,18],[103,43,112,41],[103,45,112,43,"data"],[103,49,112,47],[103,50,112,48],[104,8,113,6,"currentCallIdRef"],[104,24,113,22],[104,25,113,23,"current"],[104,32,113,30],[104,35,113,33,"data"],[104,39,113,37],[104,40,113,38,"call_id"],[104,47,113,45],[105,8,114,6,"setCallInfo"],[105,19,114,17],[105,20,114,18],[106,10,115,8,"callId"],[106,16,115,14],[106,18,115,16,"data"],[106,22,115,20],[106,23,115,21,"call_id"],[106,30,115,28],[107,10,116,8,"peerName"],[107,18,116,16],[107,20,116,18,"data"],[107,24,116,22],[107,25,116,23,"caller_name"],[107,36,116,34],[108,10,117,8,"callType"],[108,18,117,16],[108,20,117,18,"data"],[108,24,117,22],[108,25,117,23,"call_type"],[108,34,117,32],[108,38,117,36],[108,45,117,43],[109,10,118,8,"isIncoming"],[109,20,118,18],[109,22,118,20],[110,8,119,6],[110,9,119,7],[110,10,119,8],[111,8,120,6,"setCallState"],[111,20,120,18],[111,21,120,19],[111,30,120,28],[111,31,120,29],[112,6,121,4],[112,7,121,5],[112,8,121,6],[114,6,123,4],[115,6,124,4,"socketRef"],[115,15,124,13],[115,16,124,14,"current"],[115,23,124,21],[115,24,124,22,"on"],[115,26,124,24],[115,27,124,25],[115,42,124,40],[115,44,124,42],[115,56,124,54],[116,8,125,6,"console"],[116,15,125,13],[116,16,125,14,"log"],[116,19,125,17],[116,20,125,18],[116,43,125,41],[116,44,125,42],[117,8,126,6,"setCallState"],[117,20,126,18],[117,21,126,19],[117,33,126,31],[117,34,126,32],[118,8,127,6],[118,14,127,12,"startWebRTCConnection"],[118,35,127,33],[118,36,127,34],[118,40,127,38],[118,41,127,39],[119,6,128,4],[119,7,128,5],[119,8,128,6],[121,6,130,4],[122,6,131,4,"socketRef"],[122,15,131,13],[122,16,131,14,"current"],[122,23,131,21],[122,24,131,22,"on"],[122,26,131,24],[122,27,131,25],[122,43,131,41],[122,45,131,43],[122,51,131,49],[123,8,132,6,"console"],[123,15,132,13],[123,16,132,14,"log"],[123,19,132,17],[123,20,132,18],[123,44,132,42],[123,45,132,43],[124,8,133,6,"setCallState"],[124,20,133,18],[124,21,133,19],[124,32,133,30],[124,33,133,31],[125,8,134,6,"startCallTimer"],[125,22,134,20],[125,23,134,21],[125,24,134,22],[126,6,135,4],[126,7,135,5],[126,8,135,6],[128,6,137,4],[129,6,138,4,"socketRef"],[129,15,138,13],[129,16,138,14,"current"],[129,23,138,21],[129,24,138,22,"on"],[129,26,138,24],[129,27,138,25],[129,42,138,40],[129,44,138,42],[129,50,138,48],[130,8,139,6,"showAlert"],[130,17,139,15],[130,18,139,16],[130,33,139,31],[130,35,139,33],[130,59,139,57],[130,60,139,58],[131,8,140,6,"cleanupCall"],[131,19,140,17],[131,20,140,18],[131,21,140,19],[132,6,141,4],[132,7,141,5],[132,8,141,6],[133,6,143,4,"socketRef"],[133,15,143,13],[133,16,143,14,"current"],[133,23,143,21],[133,24,143,22,"on"],[133,26,143,24],[133,27,143,25],[133,39,143,37],[133,41,143,39],[133,47,143,45],[134,8,144,6,"cleanupCall"],[134,19,144,17],[134,20,144,18],[134,21,144,19],[135,6,145,4],[135,7,145,5],[135,8,145,6],[136,6,147,4,"socketRef"],[136,15,147,13],[136,16,147,14,"current"],[136,23,147,21],[136,24,147,22,"on"],[136,26,147,24],[136,27,147,25],[136,40,147,38],[136,42,147,41,"data"],[136,46,147,50],[136,50,147,55],[137,8,148,6,"console"],[137,15,148,13],[137,16,148,14,"log"],[137,19,148,17],[137,20,148,18],[137,41,148,39],[137,43,148,41,"data"],[137,47,148,45],[137,48,148,46],[138,8,149,6,"showAlert"],[138,17,149,15],[138,18,149,16],[138,31,149,29],[138,33,149,31,"data"],[138,37,149,35],[138,38,149,36,"message"],[138,45,149,43],[138,49,149,47],[138,152,149,150],[138,153,149,151],[139,8,150,6,"cleanupCall"],[139,19,150,17],[139,20,150,18],[139,21,150,19],[140,6,151,4],[140,7,151,5],[140,8,151,6],[141,6,153,4,"socketRef"],[141,15,153,13],[141,16,153,14,"current"],[141,23,153,21],[141,24,153,22,"on"],[141,26,153,24],[141,27,153,25],[141,41,153,39],[141,43,153,41],[141,49,153,47],[142,8,154,6,"setCallState"],[142,20,154,18],[142,21,154,19],[142,30,154,28],[142,31,154,29],[143,6,155,4],[143,7,155,5],[143,8,155,6],[145,6,157,4],[146,6,158,4,"socketRef"],[146,15,158,13],[146,16,158,14,"current"],[146,23,158,21],[146,24,158,22,"on"],[146,26,158,24],[146,27,158,25],[146,41,158,39],[146,43,158,41],[146,49,158,48,"data"],[146,53,158,57],[146,57,158,62],[147,8,159,6],[147,14,159,12,"handleOffer"],[147,25,159,23],[147,26,159,24,"data"],[147,30,159,28],[147,31,159,29,"offer"],[147,36,159,34],[147,37,159,35],[148,6,160,4],[148,7,160,5],[148,8,160,6],[149,6,162,4,"socketRef"],[149,15,162,13],[149,16,162,14,"current"],[149,23,162,21],[149,24,162,22,"on"],[149,26,162,24],[149,27,162,25],[149,42,162,40],[149,44,162,42],[149,50,162,49,"data"],[149,54,162,58],[149,58,162,63],[150,8,163,6],[150,14,163,12,"handleAnswer"],[150,26,163,24],[150,27,163,25,"data"],[150,31,163,29],[150,32,163,30,"answer"],[150,38,163,36],[150,39,163,37],[151,6,164,4],[151,7,164,5],[151,8,164,6],[152,6,166,4,"socketRef"],[152,15,166,13],[152,16,166,14,"current"],[152,23,166,21],[152,24,166,22,"on"],[152,26,166,24],[152,27,166,25],[152,49,166,47],[152,51,166,49],[152,57,166,56,"data"],[152,61,166,65],[152,65,166,70],[153,8,167,6],[153,14,167,12,"handleIceCandidate"],[153,32,167,30],[153,33,167,31,"data"],[153,37,167,35],[153,38,167,36,"candidate"],[153,47,167,45],[153,48,167,46],[154,6,168,4],[154,7,168,5],[154,8,168,6],[155,4,169,2],[155,5,169,3],[155,7,169,5],[155,9,169,7],[155,10,169,8],[157,4,171,2],[158,4,172,2],[158,10,172,8,"register"],[158,18,172,16],[158,21,172,19],[158,25,172,19,"useCallback"],[158,31,172,30],[158,32,172,30,"useCallback"],[158,43,172,30],[158,45,172,31],[158,46,172,32,"userId"],[158,52,172,46],[158,54,172,48,"userType"],[158,62,172,64],[158,64,172,66,"userName"],[158,72,172,82],[158,77,172,87],[159,6,173,4],[159,10,173,8,"Platform"],[159,18,173,16],[159,19,173,16,"default"],[159,26,173,16],[159,27,173,17,"OS"],[159,29,173,19],[159,34,173,24],[159,39,173,29],[159,41,173,31],[160,6,175,4,"initializeSocket"],[160,22,175,20],[160,23,175,21],[160,24,175,22],[161,6,177,4,"setTimeout"],[161,16,177,14],[161,17,177,15],[161,23,177,21],[162,8,178,6,"socketRef"],[162,17,178,15],[162,18,178,16,"current"],[162,25,178,23],[162,27,178,25,"emit"],[162,31,178,29],[162,32,178,30],[162,42,178,40],[162,44,178,42],[163,10,179,8,"user_id"],[163,17,179,15],[163,19,179,17,"userId"],[163,25,179,23],[164,10,180,8,"user_type"],[164,19,180,17],[164,21,180,19,"userType"],[164,29,180,27],[165,10,181,8,"name"],[165,14,181,12],[165,16,181,14,"userName"],[165,24,181,22],[166,10,182,8,"status"],[166,16,182,14],[166,18,182,16],[167,8,183,6],[167,9,183,7],[167,10,183,8],[168,6,184,4],[168,7,184,5],[168,9,184,7],[168,13,184,11],[168,14,184,12],[169,4,185,2],[169,5,185,3],[169,7,185,5],[169,8,185,6,"initializeSocket"],[169,24,185,22],[169,25,185,23],[169,26,185,24],[171,4,187,2],[172,4,188,2],[172,10,188,8,"ensureRemoteAudio"],[172,27,188,25],[172,30,188,28,"ensureRemoteAudio"],[172,31,188,28],[172,36,188,34],[173,6,189,4],[173,10,189,8,"Platform"],[173,18,189,16],[173,19,189,16,"default"],[173,26,189,16],[173,27,189,17,"OS"],[173,29,189,19],[173,34,189,24],[173,39,189,29],[173,41,189,31],[173,48,189,38],[173,52,189,42],[174,6,191,4],[174,10,191,8],[174,11,191,9,"remoteAudioRef"],[174,25,191,23],[174,26,191,24,"current"],[174,33,191,31],[174,35,191,33],[175,8,192,6],[175,14,192,12,"audio"],[175,19,192,17],[175,22,192,20,"document"],[175,30,192,28],[175,31,192,29,"createElement"],[175,44,192,42],[175,45,192,43],[175,52,192,50],[175,53,192,51],[176,8,193,6,"audio"],[176,13,193,11],[176,14,193,12,"autoplay"],[176,22,193,20],[176,25,193,23],[176,29,193,27],[177,8,194,6,"audio"],[177,13,194,11],[177,14,194,12,"id"],[177,16,194,14],[177,19,194,17],[177,40,194,38],[178,8,195,6,"document"],[178,16,195,14],[178,17,195,15,"body"],[178,21,195,19],[178,22,195,20,"appendChild"],[178,33,195,31],[178,34,195,32,"audio"],[178,39,195,37],[178,40,195,38],[179,8,196,6,"remoteAudioRef"],[179,22,196,20],[179,23,196,21,"current"],[179,30,196,28],[179,33,196,31,"audio"],[179,38,196,36],[180,6,197,4],[181,6,198,4],[181,13,198,11,"remoteAudioRef"],[181,27,198,25],[181,28,198,26,"current"],[181,35,198,33],[182,4,199,2],[182,5,199,3],[184,4,201,2],[185,4,202,2],[185,10,202,8,"startWebRTCConnection"],[185,31,202,29],[185,34,202,32],[185,40,202,39,"createOffer"],[185,51,202,59],[185,55,202,64],[186,6,203,4],[186,10,203,8,"Platform"],[186,18,203,16],[186,19,203,16,"default"],[186,26,203,16],[186,27,203,17,"OS"],[186,29,203,19],[186,34,203,24],[186,39,203,29],[186,41,203,31],[187,6,205,4],[187,10,205,8],[188,8,206,6],[188,14,206,12,"stream"],[188,20,206,18],[188,23,206,21],[188,29,206,27,"navigator"],[188,38,206,36],[188,39,206,37,"mediaDevices"],[188,51,206,49],[188,52,206,50,"getUserMedia"],[188,64,206,62],[188,65,206,63],[189,10,206,65,"audio"],[189,15,206,70],[189,17,206,72],[189,21,206,76],[190,10,206,78,"video"],[190,15,206,83],[190,17,206,85],[191,8,206,91],[191,9,206,92],[191,10,206,93],[192,8,207,6,"localStreamRef"],[192,22,207,20],[192,23,207,21,"current"],[192,30,207,28],[192,33,207,31,"stream"],[192,39,207,37],[193,8,209,6],[193,14,209,12,"pc"],[193,16,209,14],[193,19,209,17],[193,23,209,21,"RTCPeerConnection"],[193,40,209,38],[193,41,209,39,"RTC_CONFIG"],[193,51,209,49],[193,52,209,50],[194,8,210,6,"peerConnectionRef"],[194,25,210,23],[194,26,210,24,"current"],[194,33,210,31],[194,36,210,34,"pc"],[194,38,210,36],[195,8,212,6,"stream"],[195,14,212,12],[195,15,212,13,"getTracks"],[195,24,212,22],[195,25,212,23],[195,26,212,24],[195,27,212,25,"forEach"],[195,34,212,32],[195,35,212,34,"track"],[195,40,212,39],[195,44,212,44],[196,10,213,8,"pc"],[196,12,213,10],[196,13,213,11,"addTrack"],[196,21,213,19],[196,22,213,20,"track"],[196,27,213,25],[196,29,213,27,"stream"],[196,35,213,33],[196,36,213,34],[197,8,214,6],[197,9,214,7],[197,10,214,8],[198,8,216,6,"pc"],[198,10,216,8],[198,11,216,9,"onicecandidate"],[198,25,216,23],[198,28,216,27,"event"],[198,33,216,32],[198,37,216,37],[199,10,217,8],[199,14,217,12,"event"],[199,19,217,17],[199,20,217,18,"candidate"],[199,29,217,27],[199,31,217,29],[200,12,218,10,"socketRef"],[200,21,218,19],[200,22,218,20,"current"],[200,29,218,27],[200,31,218,29,"emit"],[200,35,218,33],[200,36,218,34],[200,58,218,56],[200,60,218,58],[201,14,219,12,"call_id"],[201,21,219,19],[201,23,219,21,"currentCallIdRef"],[201,39,219,37],[201,40,219,38,"current"],[201,47,219,45],[202,14,220,12,"candidate"],[202,23,220,21],[202,25,220,23,"event"],[202,30,220,28],[202,31,220,29,"candidate"],[203,12,221,10],[203,13,221,11],[203,14,221,12],[204,10,222,8],[205,8,223,6],[205,9,223,7],[206,8,225,6,"pc"],[206,10,225,8],[206,11,225,9,"ontrack"],[206,18,225,16],[206,21,225,20,"event"],[206,26,225,25],[206,30,225,30],[207,10,226,8],[207,16,226,14,"audio"],[207,21,226,19],[207,24,226,22,"ensureRemoteAudio"],[207,41,226,39],[207,42,226,40],[207,43,226,41],[208,10,227,8],[208,14,227,12,"audio"],[208,19,227,17],[208,21,227,19],[209,12,228,10,"audio"],[209,17,228,15],[209,18,228,16,"srcObject"],[209,27,228,25],[209,30,228,28,"event"],[209,35,228,33],[209,36,228,34,"streams"],[209,43,228,41],[209,44,228,42],[209,45,228,43],[209,46,228,44],[210,12,229,10,"audio"],[210,17,229,15],[210,18,229,16,"play"],[210,22,229,20],[210,23,229,21],[210,24,229,22],[210,25,229,23,"catch"],[210,30,229,28],[210,31,229,29,"console"],[210,38,229,36],[210,39,229,37,"error"],[210,44,229,42],[210,45,229,43],[211,10,230,8],[212,8,231,6],[212,9,231,7],[213,8,233,6,"pc"],[213,10,233,8],[213,11,233,9,"onconnectionstatechange"],[213,34,233,32],[213,37,233,35],[213,43,233,41],[214,10,234,8],[214,14,234,12,"pc"],[214,16,234,14],[214,17,234,15,"connectionState"],[214,32,234,30],[214,37,234,35],[214,48,234,46],[214,50,234,48],[215,12,235,10,"setCallState"],[215,24,235,22],[215,25,235,23],[215,36,235,34],[215,37,235,35],[216,12,236,10,"startCallTimer"],[216,26,236,24],[216,27,236,25],[216,28,236,26],[217,10,237,8],[217,11,237,9],[217,17,237,15],[217,21,237,19,"pc"],[217,23,237,21],[217,24,237,22,"connectionState"],[217,39,237,37],[217,44,237,42],[217,58,237,56],[217,62,237,60,"pc"],[217,64,237,62],[217,65,237,63,"connectionState"],[217,80,237,78],[217,85,237,83],[217,93,237,91],[217,95,237,93],[218,12,238,10,"cleanupCall"],[218,23,238,21],[218,24,238,22],[218,25,238,23],[219,10,239,8],[220,8,240,6],[220,9,240,7],[221,8,242,6],[221,12,242,10,"createOffer"],[221,23,242,21],[221,25,242,23],[222,10,243,8],[222,16,243,14,"offer"],[222,21,243,19],[222,24,243,22],[222,30,243,28,"pc"],[222,32,243,30],[222,33,243,31,"createOffer"],[222,44,243,42],[222,45,243,43],[222,46,243,44],[223,10,244,8],[223,16,244,14,"pc"],[223,18,244,16],[223,19,244,17,"setLocalDescription"],[223,38,244,36],[223,39,244,37,"offer"],[223,44,244,42],[223,45,244,43],[224,10,245,8,"socketRef"],[224,19,245,17],[224,20,245,18,"current"],[224,27,245,25],[224,29,245,27,"emit"],[224,33,245,31],[224,34,245,32],[224,48,245,46],[224,50,245,48],[225,12,246,10,"call_id"],[225,19,246,17],[225,21,246,19,"currentCallIdRef"],[225,37,246,35],[225,38,246,36,"current"],[225,45,246,43],[226,12,247,10,"offer"],[226,17,247,15],[226,19,247,17,"offer"],[227,10,248,8],[227,11,248,9],[227,12,248,10],[228,8,249,6],[229,6,250,4],[229,7,250,5],[229,8,250,6],[229,15,250,13,"error"],[229,20,250,18],[229,22,250,20],[230,8,251,6,"console"],[230,15,251,13],[230,16,251,14,"error"],[230,21,251,19],[230,22,251,20],[230,37,251,35],[230,39,251,37,"error"],[230,44,251,42],[230,45,251,43],[231,8,252,6,"showAlert"],[231,17,252,15],[231,18,252,16],[231,36,252,34],[231,38,252,36],[231,125,252,123],[231,126,252,124],[232,8,253,6,"cleanupCall"],[232,19,253,17],[232,20,253,18],[232,21,253,19],[233,6,254,4],[234,4,255,2],[234,5,255,3],[235,4,257,2],[235,10,257,8,"handleOffer"],[235,21,257,19],[235,24,257,22],[235,30,257,29,"offer"],[235,35,257,61],[235,39,257,66],[236,6,258,4],[236,10,258,8,"Platform"],[236,18,258,16],[236,19,258,16,"default"],[236,26,258,16],[236,27,258,17,"OS"],[236,29,258,19],[236,34,258,24],[236,39,258,29],[236,41,258,31],[237,6,260,4],[237,10,260,8],[237,11,260,9,"peerConnectionRef"],[237,28,260,26],[237,29,260,27,"current"],[237,36,260,34],[237,38,260,36],[238,8,261,6],[238,14,261,12,"startWebRTCConnection"],[238,35,261,33],[238,36,261,34],[238,41,261,39],[238,42,261,40],[239,6,262,4],[240,6,264,4],[240,12,264,10,"peerConnectionRef"],[240,29,264,27],[240,30,264,28,"current"],[240,37,264,35],[240,39,264,37,"setRemoteDescription"],[240,59,264,57],[240,60,264,58],[240,64,264,62,"RTCSessionDescription"],[240,85,264,83],[240,86,264,84,"offer"],[240,91,264,89],[240,92,264,90],[240,93,264,91],[241,6,265,4],[241,12,265,10,"answer"],[241,18,265,16],[241,21,265,19],[241,27,265,25,"peerConnectionRef"],[241,44,265,42],[241,45,265,43,"current"],[241,52,265,50],[241,54,265,52,"createAnswer"],[241,66,265,64],[241,67,265,65],[241,68,265,66],[242,6,266,4],[242,12,266,10,"peerConnectionRef"],[242,29,266,27],[242,30,266,28,"current"],[242,37,266,35],[242,39,266,37,"setLocalDescription"],[242,58,266,56],[242,59,266,57,"answer"],[242,65,266,63],[242,66,266,64],[243,6,268,4,"socketRef"],[243,15,268,13],[243,16,268,14,"current"],[243,23,268,21],[243,25,268,23,"emit"],[243,29,268,27],[243,30,268,28],[243,45,268,43],[243,47,268,45],[244,8,269,6,"call_id"],[244,15,269,13],[244,17,269,15,"currentCallIdRef"],[244,33,269,31],[244,34,269,32,"current"],[244,41,269,39],[245,8,270,6,"answer"],[245,14,270,12],[245,16,270,14,"answer"],[246,6,271,4],[246,7,271,5],[246,8,271,6],[247,6,273,4,"setCallState"],[247,18,273,16],[247,19,273,17],[247,30,273,28],[247,31,273,29],[248,6,274,4,"startCallTimer"],[248,20,274,18],[248,21,274,19],[248,22,274,20],[249,4,275,2],[249,5,275,3],[250,4,277,2],[250,10,277,8,"handleAnswer"],[250,22,277,20],[250,25,277,23],[250,31,277,30,"answer"],[250,37,277,63],[250,41,277,68],[251,6,278,4],[251,10,278,8,"Platform"],[251,18,278,16],[251,19,278,16,"default"],[251,26,278,16],[251,27,278,17,"OS"],[251,29,278,19],[251,34,278,24],[251,39,278,29],[251,41,278,31],[252,6,279,4],[252,12,279,10,"peerConnectionRef"],[252,29,279,27],[252,30,279,28,"current"],[252,37,279,35],[252,39,279,37,"setRemoteDescription"],[252,59,279,57],[252,60,279,58],[252,64,279,62,"RTCSessionDescription"],[252,85,279,83],[252,86,279,84,"answer"],[252,92,279,90],[252,93,279,91],[252,94,279,92],[253,6,280,4,"setCallState"],[253,18,280,16],[253,19,280,17],[253,30,280,28],[253,31,280,29],[254,6,281,4,"startCallTimer"],[254,20,281,18],[254,21,281,19],[254,22,281,20],[255,4,282,2],[255,5,282,3],[256,4,284,2],[256,10,284,8,"handleIceCandidate"],[256,28,284,26],[256,31,284,29],[256,37,284,36,"candidate"],[256,46,284,66],[256,50,284,71],[257,6,285,4],[257,10,285,8,"Platform"],[257,18,285,16],[257,19,285,16,"default"],[257,26,285,16],[257,27,285,17,"OS"],[257,29,285,19],[257,34,285,24],[257,39,285,29],[257,43,285,33],[257,44,285,34,"candidate"],[257,53,285,43],[257,55,285,45],[258,6,286,4],[258,12,286,10,"peerConnectionRef"],[258,29,286,27],[258,30,286,28,"current"],[258,37,286,35],[258,39,286,37,"addIceCandidate"],[258,54,286,52],[258,55,286,53],[258,59,286,57,"RTCIceCandidate"],[258,74,286,72],[258,75,286,73,"candidate"],[258,84,286,82],[258,85,286,83],[258,86,286,84],[259,4,287,2],[259,5,287,3],[260,4,289,2],[260,10,289,8,"initiateCall"],[260,22,289,20],[260,25,289,23],[260,31,289,23,"initiateCall"],[260,32,289,30,"targetUserId"],[260,44,289,50],[260,46,289,52,"targetName"],[260,56,289,70],[260,61,289,75],[261,6,290,4],[261,10,290,8,"Platform"],[261,18,290,16],[261,19,290,16,"default"],[261,26,290,16],[261,27,290,17,"OS"],[261,29,290,19],[261,34,290,24],[261,39,290,29],[261,41,290,31],[262,8,291,6,"showAlert"],[262,17,291,15],[262,18,291,16],[262,33,291,31],[262,35,291,33],[262,77,291,75],[262,78,291,76],[263,8,292,6],[264,6,293,4],[265,6,295,4],[265,10,295,8,"callState"],[265,19,295,17],[265,24,295,22],[265,30,295,28],[265,32,295,30],[266,8,296,6,"showAlert"],[266,17,296,15],[266,18,296,16],[266,24,296,22],[266,26,296,24],[266,53,296,51],[266,54,296,52],[267,8,297,6],[268,6,298,4],[270,6,300,4],[271,6,301,4,"initializeSocket"],[271,22,301,20],[271,23,301,21],[271,24,301,22],[272,6,303,4,"setCallInfo"],[272,17,303,15],[272,18,303,16],[273,8,304,6,"callId"],[273,14,304,12],[273,16,304,14],[273,18,304,16],[274,8,305,6,"peerName"],[274,16,305,14],[274,18,305,16,"targetName"],[274,28,305,26],[275,8,306,6,"callType"],[275,16,306,14],[275,18,306,16],[275,25,306,23],[276,8,307,6,"isIncoming"],[276,18,307,16],[276,20,307,18],[277,6,308,4],[277,7,308,5],[277,8,308,6],[278,6,309,4,"setCallState"],[278,18,309,16],[278,19,309,17],[278,31,309,29],[278,32,309,30],[280,6,311,4],[281,6,312,4],[281,10,312,8,"attempts"],[281,18,312,16],[281,21,312,19],[281,22,312,20],[282,6,313,4],[282,13,313,11],[282,14,313,12,"socketRef"],[282,23,313,21],[282,24,313,22,"current"],[282,31,313,29],[282,33,313,31,"connected"],[282,42,313,40],[282,46,313,44,"attempts"],[282,54,313,52],[282,57,313,55],[282,59,313,57],[282,61,313,59],[283,8,314,6],[283,14,314,12],[283,18,314,16,"Promise"],[283,25,314,23],[283,26,314,25,"resolve"],[283,33,314,32],[283,37,314,37,"setTimeout"],[283,47,314,47],[283,48,314,48,"resolve"],[283,55,314,55],[283,57,314,57],[283,60,314,60],[283,61,314,61],[283,62,314,62],[284,8,315,6,"attempts"],[284,16,315,14],[284,18,315,16],[285,6,316,4],[286,6,318,4],[286,10,318,8],[286,11,318,9,"socketRef"],[286,20,318,18],[286,21,318,19,"current"],[286,28,318,26],[286,30,318,28,"connected"],[286,39,318,37],[286,41,318,39],[287,8,319,6,"showAlert"],[287,17,319,15],[287,18,319,16],[287,36,319,34],[287,38,319,36],[287,91,319,89],[287,92,319,90],[288,8,320,6,"cleanupCall"],[288,19,320,17],[288,20,320,18],[288,21,320,19],[289,8,321,6],[290,6,322,4],[292,6,324,4],[293,6,325,4],[293,12,325,10,"callerId"],[293,20,325,18],[293,23,325,21],[293,35,325,33,"Date"],[293,39,325,37],[293,40,325,38,"now"],[293,43,325,41],[293,44,325,42],[293,45,325,43],[293,47,325,45],[295,6,327,4],[296,6,328,4,"socketRef"],[296,15,328,13],[296,16,328,14,"current"],[296,23,328,21],[296,25,328,23,"emit"],[296,29,328,27],[296,30,328,28],[296,40,328,38],[296,42,328,40],[297,8,329,6,"user_id"],[297,15,329,13],[297,17,329,15,"callerId"],[297,25,329,23],[298,8,330,6,"user_type"],[298,17,330,15],[298,19,330,17],[298,25,330,23],[299,8,331,6,"name"],[299,12,331,10],[299,14,331,12],[299,24,331,22],[300,8,332,6,"status"],[300,14,332,12],[300,16,332,14],[301,6,333,4],[301,7,333,5],[301,8,333,6],[303,6,335,4],[304,6,336,4],[304,12,336,10],[304,16,336,14,"Promise"],[304,23,336,21],[304,24,336,23,"resolve"],[304,31,336,30],[304,35,336,35,"setTimeout"],[304,45,336,45],[304,46,336,46,"resolve"],[304,53,336,53],[304,55,336,55],[304,58,336,58],[304,59,336,59],[304,60,336,60],[306,6,338,4],[307,6,339,4,"socketRef"],[307,15,339,13],[307,16,339,14,"current"],[307,23,339,21],[307,25,339,23,"emit"],[307,29,339,27],[307,30,339,28],[307,45,339,43],[307,47,339,45],[308,8,340,6,"target_user_id"],[308,22,340,20],[308,24,340,22,"targetUserId"],[308,36,340,34],[309,8,341,6,"caller_name"],[309,19,341,17],[309,21,341,19],[309,31,341,29],[310,8,342,6,"call_type"],[310,17,342,15],[310,19,342,17],[311,6,343,4],[311,7,343,5],[311,8,343,6],[312,4,344,2],[312,5,344,3],[313,4,346,2],[313,10,346,8,"acceptCall"],[313,20,346,18],[313,23,346,21],[313,27,346,21,"useCallback"],[313,33,346,32],[313,34,346,32,"useCallback"],[313,45,346,32],[313,47,346,33],[313,53,346,39],[314,6,347,4],[314,10,347,8],[314,11,347,9,"currentCallIdRef"],[314,27,347,25],[314,28,347,26,"current"],[314,35,347,33],[314,37,347,35],[315,6,348,4,"socketRef"],[315,15,348,13],[315,16,348,14,"current"],[315,23,348,21],[315,25,348,23,"emit"],[315,29,348,27],[315,30,348,28],[315,43,348,41],[315,45,348,43],[316,8,348,45,"call_id"],[316,15,348,52],[316,17,348,54,"currentCallIdRef"],[316,33,348,70],[316,34,348,71,"current"],[317,6,348,79],[317,7,348,80],[317,8,348,81],[318,6,349,4,"setCallState"],[318,18,349,16],[318,19,349,17],[318,31,349,29],[318,32,349,30],[319,6,350,4,"startWebRTCConnection"],[319,27,350,25],[319,28,350,26],[319,33,350,31],[319,34,350,32],[320,4,351,2],[320,5,351,3],[320,7,351,5],[320,9,351,7],[320,10,351,8],[321,4,353,2],[321,10,353,8,"rejectCall"],[321,20,353,18],[321,23,353,21],[321,27,353,21,"useCallback"],[321,33,353,32],[321,34,353,32,"useCallback"],[321,45,353,32],[321,47,353,33],[321,53,353,39],[322,6,354,4],[322,10,354,8],[322,11,354,9,"currentCallIdRef"],[322,27,354,25],[322,28,354,26,"current"],[322,35,354,33],[322,37,354,35],[323,6,355,4,"socketRef"],[323,15,355,13],[323,16,355,14,"current"],[323,23,355,21],[323,25,355,23,"emit"],[323,29,355,27],[323,30,355,28],[323,43,355,41],[323,45,355,43],[324,8,356,6,"call_id"],[324,15,356,13],[324,17,356,15,"currentCallIdRef"],[324,33,356,31],[324,34,356,32,"current"],[324,41,356,39],[325,8,357,6,"reason"],[325,14,357,12],[325,16,357,14],[326,6,358,4],[326,7,358,5],[326,8,358,6],[327,6,359,4,"cleanupCall"],[327,17,359,15],[327,18,359,16],[327,19,359,17],[328,4,360,2],[328,5,360,3],[328,7,360,5],[328,9,360,7],[328,10,360,8],[329,4,362,2],[329,10,362,8,"endCall"],[329,17,362,15],[329,20,362,18],[329,24,362,18,"useCallback"],[329,30,362,29],[329,31,362,29,"useCallback"],[329,42,362,29],[329,44,362,30],[329,50,362,36],[330,6,363,4],[330,10,363,8],[330,11,363,9,"currentCallIdRef"],[330,27,363,25],[330,28,363,26,"current"],[330,35,363,33],[330,37,363,35],[331,6,364,4,"socketRef"],[331,15,364,13],[331,16,364,14,"current"],[331,23,364,21],[331,25,364,23,"emit"],[331,29,364,27],[331,30,364,28],[331,40,364,38],[331,42,364,40],[332,8,364,42,"call_id"],[332,15,364,49],[332,17,364,51,"currentCallIdRef"],[332,33,364,67],[332,34,364,68,"current"],[333,6,364,76],[333,7,364,77],[333,8,364,78],[334,6,365,4,"cleanupCall"],[334,17,365,15],[334,18,365,16],[334,19,365,17],[335,4,366,2],[335,5,366,3],[335,7,366,5],[335,9,366,7],[335,10,366,8],[336,4,368,2],[336,10,368,8,"startCallTimer"],[336,24,368,22],[336,27,368,25,"startCallTimer"],[336,28,368,25],[336,33,368,31],[337,6,369,4,"setCallDuration"],[337,21,369,19],[337,22,369,20],[337,23,369,21],[337,24,369,22],[338,6,370,4,"callTimerRef"],[338,18,370,16],[338,19,370,17,"current"],[338,26,370,24],[338,29,370,27,"setInterval"],[338,40,370,38],[338,41,370,39],[338,47,370,45],[339,8,371,6,"setCallDuration"],[339,23,371,21],[339,24,371,23,"prev"],[339,28,371,27],[339,32,371,32,"prev"],[339,36,371,36],[339,39,371,39],[339,40,371,40],[339,41,371,41],[340,6,372,4],[340,7,372,5],[340,9,372,7],[340,13,372,11],[340,14,372,12],[341,4,373,2],[341,5,373,3],[342,4,375,2],[342,10,375,8,"cleanupCall"],[342,21,375,19],[342,24,375,22],[342,28,375,22,"useCallback"],[342,34,375,33],[342,35,375,33,"useCallback"],[342,46,375,33],[342,48,375,34],[342,54,375,40],[343,6,376,4,"localStreamRef"],[343,20,376,18],[343,21,376,19,"current"],[343,28,376,26],[343,30,376,28,"getTracks"],[343,39,376,37],[343,40,376,38],[343,41,376,39],[343,42,376,40,"forEach"],[343,49,376,47],[343,50,376,49,"track"],[343,55,376,54],[343,59,376,59,"track"],[343,64,376,64],[343,65,376,65,"stop"],[343,69,376,69],[343,70,376,70],[343,71,376,71],[343,72,376,72],[344,6,377,4,"localStreamRef"],[344,20,377,18],[344,21,377,19,"current"],[344,28,377,26],[344,31,377,29],[344,35,377,33],[345,6,379,4,"peerConnectionRef"],[345,23,379,21],[345,24,379,22,"current"],[345,31,379,29],[345,33,379,31,"close"],[345,38,379,36],[345,39,379,37],[345,40,379,38],[346,6,380,4,"peerConnectionRef"],[346,23,380,21],[346,24,380,22,"current"],[346,31,380,29],[346,34,380,32],[346,38,380,36],[347,6,382,4],[347,10,382,8,"callTimerRef"],[347,22,382,20],[347,23,382,21,"current"],[347,30,382,28],[347,32,382,30],[348,8,383,6,"clearInterval"],[348,21,383,19],[348,22,383,20,"callTimerRef"],[348,34,383,32],[348,35,383,33,"current"],[348,42,383,40],[348,43,383,41],[349,8,384,6,"callTimerRef"],[349,20,384,18],[349,21,384,19,"current"],[349,28,384,26],[349,31,384,29],[349,35,384,33],[350,6,385,4],[351,6,387,4,"currentCallIdRef"],[351,22,387,20],[351,23,387,21,"current"],[351,30,387,28],[351,33,387,31],[351,37,387,35],[352,6,388,4,"setCallState"],[352,18,388,16],[352,19,388,17],[352,25,388,23],[352,26,388,24],[353,6,389,4,"setCallInfo"],[353,17,389,15],[353,18,389,16],[353,22,389,20],[353,23,389,21],[354,6,390,4,"setCallDuration"],[354,21,390,19],[354,22,390,20],[354,23,390,21],[354,24,390,22],[355,4,391,2],[355,5,391,3],[355,7,391,5],[355,9,391,7],[355,10,391,8],[356,4,393,2],[356,8,393,2,"useEffect"],[356,14,393,11],[356,15,393,11,"useEffect"],[356,24,393,11],[356,26,393,12],[356,32,393,18],[357,6,394,4],[357,13,394,11],[357,19,394,17],[358,8,395,6,"cleanupCall"],[358,19,395,17],[358,20,395,18],[358,21,395,19],[359,8,396,6,"socketRef"],[359,17,396,15],[359,18,396,16,"current"],[359,25,396,23],[359,27,396,25,"disconnect"],[359,37,396,35],[359,38,396,36],[359,39,396,37],[360,6,397,4],[360,7,397,5],[361,4,398,2],[361,5,398,3],[361,7,398,5],[361,8,398,6,"cleanupCall"],[361,19,398,17],[361,20,398,18],[361,21,398,19],[362,4,400,2],[362,11,400,9],[363,6,401,4,"callState"],[363,15,401,13],[364,6,402,4,"callInfo"],[364,14,402,12],[365,6,403,4,"isConnected"],[365,17,403,15],[366,6,404,4,"callDuration"],[366,18,404,16],[367,6,405,4,"initiateCall"],[367,18,405,16],[368,6,406,4,"acceptCall"],[368,16,406,14],[369,6,407,4,"rejectCall"],[369,16,407,14],[370,6,408,4,"endCall"],[370,13,408,11],[371,6,409,4,"register"],[372,4,410,2],[372,5,410,3],[373,2,411,0],[374,2,411,1,"_s"],[374,4,411,1],[374,5,54,16,"useWebRTCCall"],[374,18,54,29],[375,2,413,7],[375,11,413,16,"formatCallDuration"],[375,29,413,34,"formatCallDuration"],[375,30,413,35,"seconds"],[375,37,413,50],[375,39,413,60],[376,4,414,2],[376,10,414,8,"mins"],[376,14,414,12],[376,17,414,15,"Math"],[376,21,414,19],[376,22,414,20,"floor"],[376,27,414,25],[376,28,414,26,"seconds"],[376,35,414,33],[376,38,414,36],[376,40,414,38],[376,41,414,39],[377,4,415,2],[377,10,415,8,"secs"],[377,14,415,12],[377,17,415,15,"seconds"],[377,24,415,22],[377,27,415,25],[377,29,415,27],[378,4,416,2],[378,11,416,9],[378,14,416,12,"mins"],[378,18,416,16],[378,19,416,17,"toString"],[378,27,416,25],[378,28,416,26],[378,29,416,27],[378,30,416,28,"padStart"],[378,38,416,36],[378,39,416,37],[378,40,416,38],[378,42,416,40],[378,45,416,43],[378,46,416,44],[378,50,416,48,"secs"],[378,54,416,52],[378,55,416,53,"toString"],[378,63,416,61],[378,64,416,62],[378,65,416,63],[378,66,416,64,"padStart"],[378,74,416,72],[378,75,416,73],[378,76,416,74],[378,78,416,76],[378,81,416,79],[378,82,416,80],[378,84,416,82],[379,2,417,0],[380,0,417,1],[380,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDI;2CCG;KDI;0CCG;KDG;uCCE;KDE;wCCE;KDI;yCCE;KDE;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BGG;eCK;KDO;GHC;4BKG;GLW;gCMG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GNe;sBWE;GXkB;uBYE;GZK;6BaE;GbG;uBcE;wBCyB,qCD;sBCsB,qCD;GdQ;iCgBE;GhBK;iCiBE;GjBO;8BkBE;GlBI;yBmBE;uCCE;sBCC,kBD;KDC;GnBC;kCsBE;gDCC,uBD;GtBe;YwBE;WCC;KDG;GxBC;CHa;O6BE;C7BI"},"hasCjsExports":false},"type":"js/module"}]}