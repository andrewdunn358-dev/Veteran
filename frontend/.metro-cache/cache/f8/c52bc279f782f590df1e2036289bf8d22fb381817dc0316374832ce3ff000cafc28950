{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && false) {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? {\n            ...prev,\n            callId: data.call_id\n          } : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":395,"map":[[12,2,54,0,"exports"],[12,9,54,0],[12,10,54,0,"useWebRTCCall"],[12,23,54,0],[12,26,54,0,"useWebRTCCall"],[12,39,54,0],[13,2,427,0,"exports"],[13,9,427,0],[13,10,427,0,"formatCallDuration"],[13,28,427,0],[13,31,427,0,"formatCallDuration"],[13,49,427,0],[14,2,7,0],[14,6,7,0,"_react"],[14,12,7,0],[14,15,7,0,"require"],[14,22,7,0],[14,23,7,0,"_dependencyMap"],[14,37,7,0],[15,2,7,65],[15,6,7,65,"_reactNativeWebDistExportsPlatform"],[15,40,7,65],[15,43,7,65,"require"],[15,50,7,65],[15,51,7,65,"_dependencyMap"],[15,65,7,65],[16,2,7,65],[16,6,7,65,"Platform"],[16,14,7,65],[16,17,7,65,"_interopDefault"],[16,32,7,65],[16,33,7,65,"_reactNativeWebDistExportsPlatform"],[16,67,7,65],[17,2,9,0],[17,6,9,0,"_socketIoClient"],[17,21,9,0],[17,24,9,0,"require"],[17,31,9,0],[17,32,9,0,"_dependencyMap"],[17,46,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[24,2,11,0],[24,8,11,6,"API_URL"],[24,15,11,13],[24,18,11,16,"process"],[24,25,11,23],[24,26,11,24,"env"],[24,29,11,27],[24,30,11,28,"EXPO_PUBLIC_BACKEND_URL"],[24,53,11,51],[24,57,11,55],[24,59,11,57],[26,2,13,0],[27,2,14,0],[27,8,14,6,"showAlert"],[27,17,14,15],[27,20,14,18,"showAlert"],[27,21,14,19,"title"],[27,26,14,32],[27,28,14,34,"message"],[27,35,14,49],[27,40,14,54],[28,4,15,2],[28,8,15,6,"Platform"],[28,16,15,14],[28,17,15,14,"default"],[28,24,15,14],[28,25,15,15,"OS"],[28,27,15,17],[28,32,15,22],[28,37,15,27],[28,46,15,60],[28,48,15,62],[29,6,16,4,"window"],[29,12,16,10],[29,13,16,11,"alert"],[29,18,16,16],[29,19,16,17],[29,22,16,20,"title"],[29,27,16,25],[29,34,16,32,"message"],[29,41,16,39],[29,43,16,41],[29,44,16,42],[30,4,17,2],[30,5,17,3],[30,11,17,9],[31,6,18,4],[32,6,19,4,"require"],[32,13,19,4],[32,14,19,4,"_dependencyMap"],[32,28,19,4],[32,71,19,4,"_dependencyMap"],[32,85,19,4],[32,90,19,4,"_dependencyMap"],[32,104,19,4],[32,105,19,4,"paths"],[32,110,19,4],[32,128,19,27,"then"],[32,132,19,31],[32,133,19,32],[32,134,19,33],[33,8,19,35,"Alert"],[34,6,19,41],[34,7,19,42],[34,12,19,47],[35,8,20,6,"Alert"],[35,13,20,11],[35,14,20,12,"alert"],[35,19,20,17],[35,20,20,18,"title"],[35,25,20,23],[35,27,20,25,"message"],[35,34,20,32],[35,35,20,33],[36,6,21,4],[36,7,21,5],[36,8,21,6],[37,4,22,2],[38,2,23,0],[38,3,23,1],[40,2,25,0],[41,2,26,0],[41,8,26,6,"RTC_CONFIG"],[41,18,26,16],[41,21,26,19],[42,4,27,2,"iceServers"],[42,14,27,12],[42,16,27,14],[42,17,28,4],[43,6,28,6,"urls"],[43,10,28,10],[43,12,28,12],[44,4,28,43],[44,5,28,44],[44,7,29,4],[45,6,29,6,"urls"],[45,10,29,10],[45,12,29,12],[46,4,29,44],[46,5,29,45],[47,2,31,0],[47,3,31,1],[48,2,54,7],[48,11,54,16,"useWebRTCCall"],[48,24,54,29,"useWebRTCCall"],[48,25,54,29],[48,27,54,53],[49,4,55,2],[49,10,55,8],[49,11,55,9,"callState"],[49,20,55,18],[49,22,55,20,"setCallState"],[49,34,55,32],[49,35,55,33],[49,38,55,36],[49,42,55,36,"useState"],[49,48,55,44],[49,49,55,44,"useState"],[49,57,55,44],[49,59,55,56],[49,65,55,62],[49,66,55,63],[50,4,56,2],[50,10,56,8],[50,11,56,9,"callInfo"],[50,19,56,17],[50,21,56,19,"setCallInfo"],[50,32,56,30],[50,33,56,31],[50,36,56,34],[50,40,56,34,"useState"],[50,46,56,42],[50,47,56,42,"useState"],[50,55,56,42],[50,57,56,60],[50,61,56,64],[50,62,56,65],[51,4,57,2],[51,10,57,8],[51,11,57,9,"isConnected"],[51,22,57,20],[51,24,57,22,"setIsConnected"],[51,38,57,36],[51,39,57,37],[51,42,57,40],[51,46,57,40,"useState"],[51,52,57,48],[51,53,57,48,"useState"],[51,61,57,48],[51,63,57,49],[51,68,57,54],[51,69,57,55],[52,4,58,2],[52,10,58,8],[52,11,58,9,"callDuration"],[52,23,58,21],[52,25,58,23,"setCallDuration"],[52,40,58,38],[52,41,58,39],[52,44,58,42],[52,48,58,42,"useState"],[52,54,58,50],[52,55,58,50,"useState"],[52,63,58,50],[52,65,58,51],[52,66,58,52],[52,67,58,53],[53,4,60,2],[53,10,60,8,"socketRef"],[53,19,60,17],[53,22,60,20],[53,26,60,20,"useRef"],[53,32,60,26],[53,33,60,26,"useRef"],[53,39,60,26],[53,41,60,42],[53,45,60,46],[53,46,60,47],[54,4,61,2],[54,10,61,8,"peerConnectionRef"],[54,27,61,25],[54,30,61,28],[54,34,61,28,"useRef"],[54,40,61,34],[54,41,61,34,"useRef"],[54,47,61,34],[54,49,61,61],[54,53,61,65],[54,54,61,66],[55,4,62,2],[55,10,62,8,"localStreamRef"],[55,24,62,22],[55,27,62,25],[55,31,62,25,"useRef"],[55,37,62,31],[55,38,62,31,"useRef"],[55,44,62,31],[55,46,62,52],[55,50,62,56],[55,51,62,57],[56,4,63,2],[56,10,63,8,"remoteAudioRef"],[56,24,63,22],[56,27,63,25],[56,31,63,25,"useRef"],[56,37,63,31],[56,38,63,31,"useRef"],[56,44,63,31],[56,46,63,57],[56,50,63,61],[56,51,63,62],[57,4,64,2],[57,10,64,8,"callTimerRef"],[57,22,64,20],[57,25,64,23],[57,29,64,23,"useRef"],[57,35,64,29],[57,36,64,29,"useRef"],[57,42,64,29],[57,44,64,69],[57,48,64,73],[57,49,64,74],[58,4,65,2],[58,10,65,8,"currentCallIdRef"],[58,26,65,24],[58,29,65,27],[58,33,65,27,"useRef"],[58,39,65,33],[58,40,65,33,"useRef"],[58,46,65,33],[58,48,65,49],[58,52,65,53],[58,53,65,54],[60,4,67,2],[61,4,68,2],[61,10,68,8,"initializeSocket"],[61,26,68,24],[61,29,68,27],[61,33,68,27,"useCallback"],[61,39,68,38],[61,40,68,38,"useCallback"],[61,51,68,38],[61,53,68,39],[61,59,68,45],[62,6,69,4],[62,10,69,8,"Platform"],[62,18,69,16],[62,19,69,16,"default"],[62,26,69,16],[62,27,69,17,"OS"],[62,29,69,19],[62,34,69,24],[62,39,69,29],[62,41,69,31],[63,6,70,4],[63,10,70,8,"socketRef"],[63,19,70,17],[63,20,70,18,"current"],[63,27,70,25],[63,29,70,27,"connected"],[63,38,70,36],[63,40,70,38],[64,8,71,6,"console"],[64,15,71,13],[64,16,71,14,"log"],[64,19,71,17],[64,20,71,18],[64,54,71,52],[64,55,71,53],[65,8,72,6],[66,6,73,4],[68,6,75,4],[69,6,76,4],[69,10,76,8,"socketRef"],[69,19,76,17],[69,20,76,18,"current"],[69,27,76,25],[69,29,76,27],[70,8,77,6,"console"],[70,15,77,13],[70,16,77,14,"log"],[70,19,77,17],[70,20,77,18],[70,78,77,76],[70,79,77,77],[71,8,78,6,"socketRef"],[71,17,78,15],[71,18,78,16,"current"],[71,25,78,23],[71,26,78,24,"connect"],[71,33,78,31],[71,34,78,32],[71,35,78,33],[72,8,79,6],[73,6,80,4],[75,6,82,4],[76,6,83,4],[76,12,83,10,"backendUrl"],[76,22,83,20],[76,25,83,23,"API_URL"],[76,32,83,30],[77,6,84,4,"console"],[77,13,84,11],[77,14,84,12,"log"],[77,17,84,15],[77,18,84,16],[77,61,84,59],[77,63,84,61,"backendUrl"],[77,73,84,71],[77,74,84,72],[78,6,86,4,"socketRef"],[78,15,86,13],[78,16,86,14,"current"],[78,23,86,21],[78,26,86,24],[78,30,86,24,"io"],[78,45,86,26],[78,46,86,26,"io"],[78,48,86,26],[78,50,86,27,"backendUrl"],[78,60,86,37],[78,62,86,39],[79,8,87,6,"transports"],[79,18,87,16],[79,20,87,18],[79,21,87,19],[79,32,87,30],[79,34,87,32],[79,43,87,41],[79,44,87,42],[80,8,88,6,"reconnection"],[80,20,88,18],[80,22,88,20],[80,26,88,24],[81,8,89,6,"reconnectionAttempts"],[81,28,89,26],[81,30,89,28],[81,32,89,30],[82,8,90,6,"reconnectionDelay"],[82,25,90,23],[82,27,90,25],[82,31,90,29],[83,8,91,6,"timeout"],[83,15,91,13],[83,17,91,15],[83,22,91,20],[84,8,92,6,"path"],[84,12,92,10],[84,14,92,12],[84,30,92,28],[84,31,92,31],[85,6,93,4],[85,7,93,5],[85,8,93,6],[86,6,95,4,"socketRef"],[86,15,95,13],[86,16,95,14,"current"],[86,23,95,21],[86,24,95,22,"on"],[86,26,95,24],[86,27,95,25],[86,36,95,34],[86,38,95,36],[86,44,95,42],[87,8,96,6,"console"],[87,15,96,13],[87,16,96,14,"log"],[87,19,96,17],[87,20,96,18],[87,59,96,57],[87,60,96,58],[88,8,97,6,"setIsConnected"],[88,22,97,20],[88,23,97,21],[88,27,97,25],[88,28,97,26],[89,6,98,4],[89,7,98,5],[89,8,98,6],[90,6,100,4,"socketRef"],[90,15,100,13],[90,16,100,14,"current"],[90,23,100,21],[90,24,100,22,"on"],[90,26,100,24],[90,27,100,25],[90,39,100,37],[90,41,100,39],[90,47,100,45],[91,8,101,6,"console"],[91,15,101,13],[91,16,101,14,"log"],[91,19,101,17],[91,20,101,18],[91,42,101,40],[91,43,101,41],[92,8,102,6,"setIsConnected"],[92,22,102,20],[92,23,102,21],[92,28,102,26],[92,29,102,27],[93,8,103,6,"cleanupCall"],[93,19,103,17],[93,20,103,18],[93,21,103,19],[94,6,104,4],[94,7,104,5],[94,8,104,6],[95,6,106,4,"socketRef"],[95,15,106,13],[95,16,106,14,"current"],[95,23,106,21],[95,24,106,22,"on"],[95,26,106,24],[95,27,106,25],[95,39,106,37],[95,41,106,40,"data"],[95,45,106,49],[95,49,106,54],[96,8,107,6,"console"],[96,15,107,13],[96,16,107,14,"log"],[96,19,107,17],[96,20,107,18],[96,40,107,38],[96,42,107,40,"data"],[96,46,107,44],[96,47,107,45],[97,6,108,4],[97,7,108,5],[97,8,108,6],[99,6,110,4],[100,6,111,4,"socketRef"],[100,15,111,13],[100,16,111,14,"current"],[100,23,111,21],[100,24,111,22,"on"],[100,26,111,24],[100,27,111,25],[100,42,111,40],[100,44,111,43,"data"],[100,48,111,52],[100,52,111,57],[101,8,112,6,"console"],[101,15,112,13],[101,16,112,14,"log"],[101,19,112,17],[101,20,112,18],[101,43,112,41],[101,45,112,43,"data"],[101,49,112,47],[101,50,112,48],[102,8,113,6,"currentCallIdRef"],[102,24,113,22],[102,25,113,23,"current"],[102,32,113,30],[102,35,113,33,"data"],[102,39,113,37],[102,40,113,38,"call_id"],[102,47,113,45],[103,8,114,6,"setCallInfo"],[103,19,114,17],[103,20,114,18],[104,10,115,8,"callId"],[104,16,115,14],[104,18,115,16,"data"],[104,22,115,20],[104,23,115,21,"call_id"],[104,30,115,28],[105,10,116,8,"peerName"],[105,18,116,16],[105,20,116,18,"data"],[105,24,116,22],[105,25,116,23,"caller_name"],[105,36,116,34],[106,10,117,8,"callType"],[106,18,117,16],[106,20,117,18,"data"],[106,24,117,22],[106,25,117,23,"call_type"],[106,34,117,32],[106,38,117,36],[106,45,117,43],[107,10,118,8,"isIncoming"],[107,20,118,18],[107,22,118,20],[108,8,119,6],[108,9,119,7],[108,10,119,8],[109,8,120,6,"setCallState"],[109,20,120,18],[109,21,120,19],[109,30,120,28],[109,31,120,29],[110,6,121,4],[110,7,121,5],[110,8,121,6],[112,6,123,4],[113,6,124,4,"socketRef"],[113,15,124,13],[113,16,124,14,"current"],[113,23,124,21],[113,24,124,22,"on"],[113,26,124,24],[113,27,124,25],[113,42,124,40],[113,44,124,42],[113,50,124,49,"data"],[113,54,124,58],[113,58,124,63],[114,8,125,6,"console"],[114,15,125,13],[114,16,125,14,"log"],[114,19,125,17],[114,20,125,18],[114,43,125,41],[114,45,125,43,"data"],[114,49,125,47],[114,50,125,48],[115,8,126,6],[115,12,126,10,"data"],[115,16,126,14],[115,17,126,15,"call_id"],[115,24,126,22],[115,26,126,24],[116,10,127,8,"currentCallIdRef"],[116,26,127,24],[116,27,127,25,"current"],[116,34,127,32],[116,37,127,35,"data"],[116,41,127,39],[116,42,127,40,"call_id"],[116,49,127,47],[117,8,128,6],[118,8,129,6,"setCallState"],[118,20,129,18],[118,21,129,19],[118,33,129,31],[118,34,129,32],[119,8,130,6],[119,14,130,12,"startWebRTCConnection"],[119,35,130,33],[119,36,130,34],[119,40,130,38],[119,41,130,39],[120,6,131,4],[120,7,131,5],[120,8,131,6],[122,6,133,4],[123,6,134,4,"socketRef"],[123,15,134,13],[123,16,134,14,"current"],[123,23,134,21],[123,24,134,22,"on"],[123,26,134,24],[123,27,134,25],[123,43,134,41],[123,45,134,43],[123,51,134,49],[124,8,135,6,"console"],[124,15,135,13],[124,16,135,14,"log"],[124,19,135,17],[124,20,135,18],[124,44,135,42],[124,45,135,43],[125,8,136,6,"setCallState"],[125,20,136,18],[125,21,136,19],[125,32,136,30],[125,33,136,31],[126,8,137,6,"startCallTimer"],[126,22,137,20],[126,23,137,21],[126,24,137,22],[127,6,138,4],[127,7,138,5],[127,8,138,6],[129,6,140,4],[130,6,141,4,"socketRef"],[130,15,141,13],[130,16,141,14,"current"],[130,23,141,21],[130,24,141,22,"on"],[130,26,141,24],[130,27,141,25],[130,42,141,40],[130,44,141,42],[130,50,141,48],[131,8,142,6,"showAlert"],[131,17,142,15],[131,18,142,16],[131,33,142,31],[131,35,142,33],[131,59,142,57],[131,60,142,58],[132,8,143,6,"cleanupCall"],[132,19,143,17],[132,20,143,18],[132,21,143,19],[133,6,144,4],[133,7,144,5],[133,8,144,6],[134,6,146,4,"socketRef"],[134,15,146,13],[134,16,146,14,"current"],[134,23,146,21],[134,24,146,22,"on"],[134,26,146,24],[134,27,146,25],[134,39,146,37],[134,41,146,39],[134,47,146,45],[135,8,147,6,"console"],[135,15,147,13],[135,16,147,14,"log"],[135,19,147,17],[135,20,147,18],[135,55,147,53],[135,56,147,54],[136,8,148,6,"cleanupCall"],[136,19,148,17],[136,20,148,18],[136,21,148,19],[137,6,149,4],[137,7,149,5],[137,8,149,6],[138,6,151,4,"socketRef"],[138,15,151,13],[138,16,151,14,"current"],[138,23,151,21],[138,24,151,22,"on"],[138,26,151,24],[138,27,151,25],[138,40,151,38],[138,42,151,41,"data"],[138,46,151,50],[138,50,151,55],[139,8,152,6,"console"],[139,15,152,13],[139,16,152,14,"log"],[139,19,152,17],[139,20,152,18],[139,41,152,39],[139,43,152,41,"data"],[139,47,152,45],[139,48,152,46],[140,8,153,6,"showAlert"],[140,17,153,15],[140,18,153,16],[140,31,153,29],[140,33,153,31,"data"],[140,37,153,35],[140,38,153,36,"message"],[140,45,153,43],[140,49,153,47],[140,152,153,150],[140,153,153,151],[141,8,154,6,"cleanupCall"],[141,19,154,17],[141,20,154,18],[141,21,154,19],[142,6,155,4],[142,7,155,5],[142,8,155,6],[144,6,157,4],[145,6,158,4,"socketRef"],[145,15,158,13],[145,16,158,14,"current"],[145,23,158,21],[145,24,158,22,"on"],[145,26,158,24],[145,27,158,25],[145,41,158,39],[145,43,158,42,"data"],[145,47,158,51],[145,51,158,56],[146,8,159,6,"console"],[146,15,159,13],[146,16,159,14,"log"],[146,19,159,17],[146,20,159,18],[146,42,159,40],[146,44,159,42,"data"],[146,48,159,46],[146,49,159,47],[147,8,160,6],[147,12,160,10,"data"],[147,16,160,14],[147,17,160,15,"call_id"],[147,24,160,22],[147,26,160,24],[148,10,161,8,"currentCallIdRef"],[148,26,161,24],[148,27,161,25,"current"],[148,34,161,32],[148,37,161,35,"data"],[148,41,161,39],[148,42,161,40,"call_id"],[148,49,161,47],[149,10,162,8,"setCallInfo"],[149,21,162,19],[149,22,162,20,"prev"],[149,26,162,24],[149,30,162,28,"prev"],[149,34,162,32],[149,37,162,35],[150,12,162,37],[150,15,162,40,"prev"],[150,19,162,44],[151,12,162,46,"callId"],[151,18,162,52],[151,20,162,54,"data"],[151,24,162,58],[151,25,162,59,"call_id"],[152,10,162,67],[152,11,162,68],[152,14,162,71],[152,18,162,75],[152,19,162,76],[153,8,163,6],[154,8,164,6,"setCallState"],[154,20,164,18],[154,21,164,19],[154,30,164,28],[154,31,164,29],[155,6,165,4],[155,7,165,5],[155,8,165,6],[157,6,167,4],[158,6,168,4,"socketRef"],[158,15,168,13],[158,16,168,14,"current"],[158,23,168,21],[158,24,168,22,"on"],[158,26,168,24],[158,27,168,25],[158,41,168,39],[158,43,168,41],[158,49,168,48,"data"],[158,53,168,57],[158,57,168,62],[159,8,169,6],[159,14,169,12,"handleOffer"],[159,25,169,23],[159,26,169,24,"data"],[159,30,169,28],[159,31,169,29,"offer"],[159,36,169,34],[159,37,169,35],[160,6,170,4],[160,7,170,5],[160,8,170,6],[161,6,172,4,"socketRef"],[161,15,172,13],[161,16,172,14,"current"],[161,23,172,21],[161,24,172,22,"on"],[161,26,172,24],[161,27,172,25],[161,42,172,40],[161,44,172,42],[161,50,172,49,"data"],[161,54,172,58],[161,58,172,63],[162,8,173,6],[162,14,173,12,"handleAnswer"],[162,26,173,24],[162,27,173,25,"data"],[162,31,173,29],[162,32,173,30,"answer"],[162,38,173,36],[162,39,173,37],[163,6,174,4],[163,7,174,5],[163,8,174,6],[164,6,176,4,"socketRef"],[164,15,176,13],[164,16,176,14,"current"],[164,23,176,21],[164,24,176,22,"on"],[164,26,176,24],[164,27,176,25],[164,49,176,47],[164,51,176,49],[164,57,176,56,"data"],[164,61,176,65],[164,65,176,70],[165,8,177,6],[165,14,177,12,"handleIceCandidate"],[165,32,177,30],[165,33,177,31,"data"],[165,37,177,35],[165,38,177,36,"candidate"],[165,47,177,45],[165,48,177,46],[166,6,178,4],[166,7,178,5],[166,8,178,6],[167,4,179,2],[167,5,179,3],[167,7,179,5],[167,9,179,7],[167,10,179,8],[169,4,181,2],[170,4,182,2],[170,10,182,8,"register"],[170,18,182,16],[170,21,182,19],[170,25,182,19,"useCallback"],[170,31,182,30],[170,32,182,30,"useCallback"],[170,43,182,30],[170,45,182,31],[170,46,182,32,"userId"],[170,52,182,46],[170,54,182,48,"userType"],[170,62,182,64],[170,64,182,66,"userName"],[170,72,182,82],[170,77,182,87],[171,6,183,4],[171,10,183,8,"Platform"],[171,18,183,16],[171,19,183,16,"default"],[171,26,183,16],[171,27,183,17,"OS"],[171,29,183,19],[171,34,183,24],[171,39,183,29],[171,41,183,31],[172,6,185,4,"initializeSocket"],[172,22,185,20],[172,23,185,21],[172,24,185,22],[173,6,187,4,"setTimeout"],[173,16,187,14],[173,17,187,15],[173,23,187,21],[174,8,188,6,"socketRef"],[174,17,188,15],[174,18,188,16,"current"],[174,25,188,23],[174,27,188,25,"emit"],[174,31,188,29],[174,32,188,30],[174,42,188,40],[174,44,188,42],[175,10,189,8,"user_id"],[175,17,189,15],[175,19,189,17,"userId"],[175,25,189,23],[176,10,190,8,"user_type"],[176,19,190,17],[176,21,190,19,"userType"],[176,29,190,27],[177,10,191,8,"name"],[177,14,191,12],[177,16,191,14,"userName"],[177,24,191,22],[178,10,192,8,"status"],[178,16,192,14],[178,18,192,16],[179,8,193,6],[179,9,193,7],[179,10,193,8],[180,6,194,4],[180,7,194,5],[180,9,194,7],[180,13,194,11],[180,14,194,12],[181,4,195,2],[181,5,195,3],[181,7,195,5],[181,8,195,6,"initializeSocket"],[181,24,195,22],[181,25,195,23],[181,26,195,24],[183,4,197,2],[184,4,198,2],[184,10,198,8,"ensureRemoteAudio"],[184,27,198,25],[184,30,198,28,"ensureRemoteAudio"],[184,31,198,28],[184,36,198,34],[185,6,199,4],[185,10,199,8,"Platform"],[185,18,199,16],[185,19,199,16,"default"],[185,26,199,16],[185,27,199,17,"OS"],[185,29,199,19],[185,34,199,24],[185,39,199,29],[185,41,199,31],[185,48,199,38],[185,52,199,42],[186,6,201,4],[186,10,201,8],[186,11,201,9,"remoteAudioRef"],[186,25,201,23],[186,26,201,24,"current"],[186,33,201,31],[186,35,201,33],[187,8,202,6],[187,14,202,12,"audio"],[187,19,202,17],[187,22,202,20,"document"],[187,30,202,28],[187,31,202,29,"createElement"],[187,44,202,42],[187,45,202,43],[187,52,202,50],[187,53,202,51],[188,8,203,6,"audio"],[188,13,203,11],[188,14,203,12,"autoplay"],[188,22,203,20],[188,25,203,23],[188,29,203,27],[189,8,204,6,"audio"],[189,13,204,11],[189,14,204,12,"id"],[189,16,204,14],[189,19,204,17],[189,40,204,38],[190,8,205,6,"document"],[190,16,205,14],[190,17,205,15,"body"],[190,21,205,19],[190,22,205,20,"appendChild"],[190,33,205,31],[190,34,205,32,"audio"],[190,39,205,37],[190,40,205,38],[191,8,206,6,"remoteAudioRef"],[191,22,206,20],[191,23,206,21,"current"],[191,30,206,28],[191,33,206,31,"audio"],[191,38,206,36],[192,6,207,4],[193,6,208,4],[193,13,208,11,"remoteAudioRef"],[193,27,208,25],[193,28,208,26,"current"],[193,35,208,33],[194,4,209,2],[194,5,209,3],[196,4,211,2],[197,4,212,2],[197,10,212,8,"startWebRTCConnection"],[197,31,212,29],[197,34,212,32],[197,40,212,39,"createOffer"],[197,51,212,59],[197,55,212,64],[198,6,213,4],[198,10,213,8,"Platform"],[198,18,213,16],[198,19,213,16,"default"],[198,26,213,16],[198,27,213,17,"OS"],[198,29,213,19],[198,34,213,24],[198,39,213,29],[198,41,213,31],[199,6,215,4],[199,10,215,8],[200,8,216,6],[200,14,216,12,"stream"],[200,20,216,18],[200,23,216,21],[200,29,216,27,"navigator"],[200,38,216,36],[200,39,216,37,"mediaDevices"],[200,51,216,49],[200,52,216,50,"getUserMedia"],[200,64,216,62],[200,65,216,63],[201,10,216,65,"audio"],[201,15,216,70],[201,17,216,72],[201,21,216,76],[202,10,216,78,"video"],[202,15,216,83],[202,17,216,85],[203,8,216,91],[203,9,216,92],[203,10,216,93],[204,8,217,6,"localStreamRef"],[204,22,217,20],[204,23,217,21,"current"],[204,30,217,28],[204,33,217,31,"stream"],[204,39,217,37],[205,8,219,6],[205,14,219,12,"pc"],[205,16,219,14],[205,19,219,17],[205,23,219,21,"RTCPeerConnection"],[205,40,219,38],[205,41,219,39,"RTC_CONFIG"],[205,51,219,49],[205,52,219,50],[206,8,220,6,"peerConnectionRef"],[206,25,220,23],[206,26,220,24,"current"],[206,33,220,31],[206,36,220,34,"pc"],[206,38,220,36],[207,8,222,6,"stream"],[207,14,222,12],[207,15,222,13,"getTracks"],[207,24,222,22],[207,25,222,23],[207,26,222,24],[207,27,222,25,"forEach"],[207,34,222,32],[207,35,222,34,"track"],[207,40,222,39],[207,44,222,44],[208,10,223,8,"pc"],[208,12,223,10],[208,13,223,11,"addTrack"],[208,21,223,19],[208,22,223,20,"track"],[208,27,223,25],[208,29,223,27,"stream"],[208,35,223,33],[208,36,223,34],[209,8,224,6],[209,9,224,7],[209,10,224,8],[210,8,226,6,"pc"],[210,10,226,8],[210,11,226,9,"onicecandidate"],[210,25,226,23],[210,28,226,27,"event"],[210,33,226,32],[210,37,226,37],[211,10,227,8],[211,14,227,12,"event"],[211,19,227,17],[211,20,227,18,"candidate"],[211,29,227,27],[211,31,227,29],[212,12,228,10,"socketRef"],[212,21,228,19],[212,22,228,20,"current"],[212,29,228,27],[212,31,228,29,"emit"],[212,35,228,33],[212,36,228,34],[212,58,228,56],[212,60,228,58],[213,14,229,12,"call_id"],[213,21,229,19],[213,23,229,21,"currentCallIdRef"],[213,39,229,37],[213,40,229,38,"current"],[213,47,229,45],[214,14,230,12,"candidate"],[214,23,230,21],[214,25,230,23,"event"],[214,30,230,28],[214,31,230,29,"candidate"],[215,12,231,10],[215,13,231,11],[215,14,231,12],[216,10,232,8],[217,8,233,6],[217,9,233,7],[218,8,235,6,"pc"],[218,10,235,8],[218,11,235,9,"ontrack"],[218,18,235,16],[218,21,235,20,"event"],[218,26,235,25],[218,30,235,30],[219,10,236,8],[219,16,236,14,"audio"],[219,21,236,19],[219,24,236,22,"ensureRemoteAudio"],[219,41,236,39],[219,42,236,40],[219,43,236,41],[220,10,237,8],[220,14,237,12,"audio"],[220,19,237,17],[220,21,237,19],[221,12,238,10,"audio"],[221,17,238,15],[221,18,238,16,"srcObject"],[221,27,238,25],[221,30,238,28,"event"],[221,35,238,33],[221,36,238,34,"streams"],[221,43,238,41],[221,44,238,42],[221,45,238,43],[221,46,238,44],[222,12,239,10,"audio"],[222,17,239,15],[222,18,239,16,"play"],[222,22,239,20],[222,23,239,21],[222,24,239,22],[222,25,239,23,"catch"],[222,30,239,28],[222,31,239,29,"console"],[222,38,239,36],[222,39,239,37,"error"],[222,44,239,42],[222,45,239,43],[223,10,240,8],[224,8,241,6],[224,9,241,7],[225,8,243,6,"pc"],[225,10,243,8],[225,11,243,9,"onconnectionstatechange"],[225,34,243,32],[225,37,243,35],[225,43,243,41],[226,10,244,8],[226,14,244,12,"pc"],[226,16,244,14],[226,17,244,15,"connectionState"],[226,32,244,30],[226,37,244,35],[226,48,244,46],[226,50,244,48],[227,12,245,10,"setCallState"],[227,24,245,22],[227,25,245,23],[227,36,245,34],[227,37,245,35],[228,12,246,10,"startCallTimer"],[228,26,246,24],[228,27,246,25],[228,28,246,26],[229,10,247,8],[229,11,247,9],[229,17,247,15],[229,21,247,19,"pc"],[229,23,247,21],[229,24,247,22,"connectionState"],[229,39,247,37],[229,44,247,42],[229,58,247,56],[229,62,247,60,"pc"],[229,64,247,62],[229,65,247,63,"connectionState"],[229,80,247,78],[229,85,247,83],[229,93,247,91],[229,95,247,93],[230,12,248,10,"cleanupCall"],[230,23,248,21],[230,24,248,22],[230,25,248,23],[231,10,249,8],[232,8,250,6],[232,9,250,7],[233,8,252,6],[233,12,252,10,"createOffer"],[233,23,252,21],[233,25,252,23],[234,10,253,8],[234,16,253,14,"offer"],[234,21,253,19],[234,24,253,22],[234,30,253,28,"pc"],[234,32,253,30],[234,33,253,31,"createOffer"],[234,44,253,42],[234,45,253,43],[234,46,253,44],[235,10,254,8],[235,16,254,14,"pc"],[235,18,254,16],[235,19,254,17,"setLocalDescription"],[235,38,254,36],[235,39,254,37,"offer"],[235,44,254,42],[235,45,254,43],[236,10,255,8,"socketRef"],[236,19,255,17],[236,20,255,18,"current"],[236,27,255,25],[236,29,255,27,"emit"],[236,33,255,31],[236,34,255,32],[236,48,255,46],[236,50,255,48],[237,12,256,10,"call_id"],[237,19,256,17],[237,21,256,19,"currentCallIdRef"],[237,37,256,35],[237,38,256,36,"current"],[237,45,256,43],[238,12,257,10,"offer"],[238,17,257,15],[238,19,257,17,"offer"],[239,10,258,8],[239,11,258,9],[239,12,258,10],[240,8,259,6],[241,6,260,4],[241,7,260,5],[241,8,260,6],[241,15,260,13,"error"],[241,20,260,18],[241,22,260,20],[242,8,261,6,"console"],[242,15,261,13],[242,16,261,14,"error"],[242,21,261,19],[242,22,261,20],[242,37,261,35],[242,39,261,37,"error"],[242,44,261,42],[242,45,261,43],[243,8,262,6,"showAlert"],[243,17,262,15],[243,18,262,16],[243,36,262,34],[243,38,262,36],[243,125,262,123],[243,126,262,124],[244,8,263,6,"cleanupCall"],[244,19,263,17],[244,20,263,18],[244,21,263,19],[245,6,264,4],[246,4,265,2],[246,5,265,3],[247,4,267,2],[247,10,267,8,"handleOffer"],[247,21,267,19],[247,24,267,22],[247,30,267,29,"offer"],[247,35,267,61],[247,39,267,66],[248,6,268,4],[248,10,268,8,"Platform"],[248,18,268,16],[248,19,268,16,"default"],[248,26,268,16],[248,27,268,17,"OS"],[248,29,268,19],[248,34,268,24],[248,39,268,29],[248,41,268,31],[249,6,270,4],[249,10,270,8],[249,11,270,9,"peerConnectionRef"],[249,28,270,26],[249,29,270,27,"current"],[249,36,270,34],[249,38,270,36],[250,8,271,6],[250,14,271,12,"startWebRTCConnection"],[250,35,271,33],[250,36,271,34],[250,41,271,39],[250,42,271,40],[251,6,272,4],[252,6,274,4],[252,12,274,10,"peerConnectionRef"],[252,29,274,27],[252,30,274,28,"current"],[252,37,274,35],[252,39,274,37,"setRemoteDescription"],[252,59,274,57],[252,60,274,58],[252,64,274,62,"RTCSessionDescription"],[252,85,274,83],[252,86,274,84,"offer"],[252,91,274,89],[252,92,274,90],[252,93,274,91],[253,6,275,4],[253,12,275,10,"answer"],[253,18,275,16],[253,21,275,19],[253,27,275,25,"peerConnectionRef"],[253,44,275,42],[253,45,275,43,"current"],[253,52,275,50],[253,54,275,52,"createAnswer"],[253,66,275,64],[253,67,275,65],[253,68,275,66],[254,6,276,4],[254,12,276,10,"peerConnectionRef"],[254,29,276,27],[254,30,276,28,"current"],[254,37,276,35],[254,39,276,37,"setLocalDescription"],[254,58,276,56],[254,59,276,57,"answer"],[254,65,276,63],[254,66,276,64],[255,6,278,4,"socketRef"],[255,15,278,13],[255,16,278,14,"current"],[255,23,278,21],[255,25,278,23,"emit"],[255,29,278,27],[255,30,278,28],[255,45,278,43],[255,47,278,45],[256,8,279,6,"call_id"],[256,15,279,13],[256,17,279,15,"currentCallIdRef"],[256,33,279,31],[256,34,279,32,"current"],[256,41,279,39],[257,8,280,6,"answer"],[257,14,280,12],[257,16,280,14,"answer"],[258,6,281,4],[258,7,281,5],[258,8,281,6],[259,6,283,4,"setCallState"],[259,18,283,16],[259,19,283,17],[259,30,283,28],[259,31,283,29],[260,6,284,4,"startCallTimer"],[260,20,284,18],[260,21,284,19],[260,22,284,20],[261,4,285,2],[261,5,285,3],[262,4,287,2],[262,10,287,8,"handleAnswer"],[262,22,287,20],[262,25,287,23],[262,31,287,30,"answer"],[262,37,287,63],[262,41,287,68],[263,6,288,4],[263,10,288,8,"Platform"],[263,18,288,16],[263,19,288,16,"default"],[263,26,288,16],[263,27,288,17,"OS"],[263,29,288,19],[263,34,288,24],[263,39,288,29],[263,41,288,31],[264,6,289,4],[264,12,289,10,"peerConnectionRef"],[264,29,289,27],[264,30,289,28,"current"],[264,37,289,35],[264,39,289,37,"setRemoteDescription"],[264,59,289,57],[264,60,289,58],[264,64,289,62,"RTCSessionDescription"],[264,85,289,83],[264,86,289,84,"answer"],[264,92,289,90],[264,93,289,91],[264,94,289,92],[265,6,290,4,"setCallState"],[265,18,290,16],[265,19,290,17],[265,30,290,28],[265,31,290,29],[266,6,291,4,"startCallTimer"],[266,20,291,18],[266,21,291,19],[266,22,291,20],[267,4,292,2],[267,5,292,3],[268,4,294,2],[268,10,294,8,"handleIceCandidate"],[268,28,294,26],[268,31,294,29],[268,37,294,36,"candidate"],[268,46,294,66],[268,50,294,71],[269,6,295,4],[269,10,295,8,"Platform"],[269,18,295,16],[269,19,295,16,"default"],[269,26,295,16],[269,27,295,17,"OS"],[269,29,295,19],[269,34,295,24],[269,39,295,29],[269,43,295,33],[269,44,295,34,"candidate"],[269,53,295,43],[269,55,295,45],[270,6,296,4],[270,12,296,10,"peerConnectionRef"],[270,29,296,27],[270,30,296,28,"current"],[270,37,296,35],[270,39,296,37,"addIceCandidate"],[270,54,296,52],[270,55,296,53],[270,59,296,57,"RTCIceCandidate"],[270,74,296,72],[270,75,296,73,"candidate"],[270,84,296,82],[270,85,296,83],[270,86,296,84],[271,4,297,2],[271,5,297,3],[272,4,299,2],[272,10,299,8,"initiateCall"],[272,22,299,20],[272,25,299,23],[272,31,299,23,"initiateCall"],[272,32,299,30,"targetUserId"],[272,44,299,50],[272,46,299,52,"targetName"],[272,56,299,70],[272,61,299,75],[273,6,300,4],[273,10,300,8,"Platform"],[273,18,300,16],[273,19,300,16,"default"],[273,26,300,16],[273,27,300,17,"OS"],[273,29,300,19],[273,34,300,24],[273,39,300,29],[273,41,300,31],[274,8,301,6,"showAlert"],[274,17,301,15],[274,18,301,16],[274,33,301,31],[274,35,301,33],[274,77,301,75],[274,78,301,76],[275,8,302,6],[276,6,303,4],[277,6,305,4],[277,10,305,8,"callState"],[277,19,305,17],[277,24,305,22],[277,30,305,28],[277,32,305,30],[278,8,306,6,"showAlert"],[278,17,306,15],[278,18,306,16],[278,24,306,22],[278,26,306,24],[278,53,306,51],[278,54,306,52],[279,8,307,6],[280,6,308,4],[282,6,310,4],[283,6,311,4,"initializeSocket"],[283,22,311,20],[283,23,311,21],[283,24,311,22],[284,6,313,4,"setCallInfo"],[284,17,313,15],[284,18,313,16],[285,8,314,6,"callId"],[285,14,314,12],[285,16,314,14],[285,18,314,16],[286,8,315,6,"peerName"],[286,16,315,14],[286,18,315,16,"targetName"],[286,28,315,26],[287,8,316,6,"callType"],[287,16,316,14],[287,18,316,16],[287,25,316,23],[288,8,317,6,"isIncoming"],[288,18,317,16],[288,20,317,18],[289,6,318,4],[289,7,318,5],[289,8,318,6],[290,6,319,4,"setCallState"],[290,18,319,16],[290,19,319,17],[290,31,319,29],[290,32,319,30],[292,6,321,4],[293,6,322,4],[293,10,322,8,"attempts"],[293,18,322,16],[293,21,322,19],[293,22,322,20],[294,6,323,4],[294,13,323,11],[294,14,323,12,"socketRef"],[294,23,323,21],[294,24,323,22,"current"],[294,31,323,29],[294,33,323,31,"connected"],[294,42,323,40],[294,46,323,44,"attempts"],[294,54,323,52],[294,57,323,55],[294,59,323,57],[294,61,323,59],[295,8,324,6],[295,14,324,12],[295,18,324,16,"Promise"],[295,25,324,23],[295,26,324,25,"resolve"],[295,33,324,32],[295,37,324,37,"setTimeout"],[295,47,324,47],[295,48,324,48,"resolve"],[295,55,324,55],[295,57,324,57],[295,60,324,60],[295,61,324,61],[295,62,324,62],[296,8,325,6,"attempts"],[296,16,325,14],[296,18,325,16],[297,6,326,4],[298,6,328,4],[298,10,328,8],[298,11,328,9,"socketRef"],[298,20,328,18],[298,21,328,19,"current"],[298,28,328,26],[298,30,328,28,"connected"],[298,39,328,37],[298,41,328,39],[299,8,329,6,"showAlert"],[299,17,329,15],[299,18,329,16],[299,36,329,34],[299,38,329,36],[299,91,329,89],[299,92,329,90],[300,8,330,6,"cleanupCall"],[300,19,330,17],[300,20,330,18],[300,21,330,19],[301,8,331,6],[302,6,332,4],[304,6,334,4],[305,6,335,4],[305,12,335,10,"callerId"],[305,20,335,18],[305,23,335,21],[305,35,335,33,"Date"],[305,39,335,37],[305,40,335,38,"now"],[305,43,335,41],[305,44,335,42],[305,45,335,43],[305,47,335,45],[307,6,337,4],[308,6,338,4,"socketRef"],[308,15,338,13],[308,16,338,14,"current"],[308,23,338,21],[308,25,338,23,"emit"],[308,29,338,27],[308,30,338,28],[308,40,338,38],[308,42,338,40],[309,8,339,6,"user_id"],[309,15,339,13],[309,17,339,15,"callerId"],[309,25,339,23],[310,8,340,6,"user_type"],[310,17,340,15],[310,19,340,17],[310,25,340,23],[311,8,341,6,"name"],[311,12,341,10],[311,14,341,12],[311,24,341,22],[312,8,342,6,"status"],[312,14,342,12],[312,16,342,14],[313,6,343,4],[313,7,343,5],[313,8,343,6],[315,6,345,4],[316,6,346,4],[316,12,346,10],[316,16,346,14,"Promise"],[316,23,346,21],[316,24,346,23,"resolve"],[316,31,346,30],[316,35,346,35,"setTimeout"],[316,45,346,45],[316,46,346,46,"resolve"],[316,53,346,53],[316,55,346,55],[316,58,346,58],[316,59,346,59],[316,60,346,60],[318,6,348,4],[319,6,349,4,"socketRef"],[319,15,349,13],[319,16,349,14,"current"],[319,23,349,21],[319,25,349,23,"emit"],[319,29,349,27],[319,30,349,28],[319,45,349,43],[319,47,349,45],[320,8,350,6,"target_user_id"],[320,22,350,20],[320,24,350,22,"targetUserId"],[320,36,350,34],[321,8,351,6,"caller_name"],[321,19,351,17],[321,21,351,19],[321,31,351,29],[322,8,352,6,"call_type"],[322,17,352,15],[322,19,352,17],[323,6,353,4],[323,7,353,5],[323,8,353,6],[324,4,354,2],[324,5,354,3],[325,4,356,2],[325,10,356,8,"acceptCall"],[325,20,356,18],[325,23,356,21],[325,27,356,21,"useCallback"],[325,33,356,32],[325,34,356,32,"useCallback"],[325,45,356,32],[325,47,356,33],[325,53,356,39],[326,6,357,4],[326,10,357,8],[326,11,357,9,"currentCallIdRef"],[326,27,357,25],[326,28,357,26,"current"],[326,35,357,33],[326,37,357,35],[327,6,358,4,"socketRef"],[327,15,358,13],[327,16,358,14,"current"],[327,23,358,21],[327,25,358,23,"emit"],[327,29,358,27],[327,30,358,28],[327,43,358,41],[327,45,358,43],[328,8,358,45,"call_id"],[328,15,358,52],[328,17,358,54,"currentCallIdRef"],[328,33,358,70],[328,34,358,71,"current"],[329,6,358,79],[329,7,358,80],[329,8,358,81],[330,6,359,4,"setCallState"],[330,18,359,16],[330,19,359,17],[330,31,359,29],[330,32,359,30],[331,6,360,4,"startWebRTCConnection"],[331,27,360,25],[331,28,360,26],[331,33,360,31],[331,34,360,32],[332,4,361,2],[332,5,361,3],[332,7,361,5],[332,9,361,7],[332,10,361,8],[333,4,363,2],[333,10,363,8,"rejectCall"],[333,20,363,18],[333,23,363,21],[333,27,363,21,"useCallback"],[333,33,363,32],[333,34,363,32,"useCallback"],[333,45,363,32],[333,47,363,33],[333,53,363,39],[334,6,364,4],[334,10,364,8,"currentCallIdRef"],[334,26,364,24],[334,27,364,25,"current"],[334,34,364,32],[334,36,364,34],[335,8,365,6,"socketRef"],[335,17,365,15],[335,18,365,16,"current"],[335,25,365,23],[335,27,365,25,"emit"],[335,31,365,29],[335,32,365,30],[335,45,365,43],[335,47,365,45],[336,10,366,8,"call_id"],[336,17,366,15],[336,19,366,17,"currentCallIdRef"],[336,35,366,33],[336,36,366,34,"current"],[336,43,366,41],[337,10,367,8,"reason"],[337,16,367,14],[337,18,367,16],[338,8,368,6],[338,9,368,7],[338,10,368,8],[339,6,369,4],[340,6,370,4,"cleanupCall"],[340,17,370,15],[340,18,370,16],[340,19,370,17],[341,4,371,2],[341,5,371,3],[341,7,371,5],[341,8,371,6,"cleanupCall"],[341,19,371,17],[341,20,371,18],[341,21,371,19],[342,4,373,2],[342,10,373,8,"endCall"],[342,17,373,15],[342,20,373,18],[342,24,373,18,"useCallback"],[342,30,373,29],[342,31,373,29,"useCallback"],[342,42,373,29],[342,44,373,30],[342,50,373,36],[343,6,374,4,"console"],[343,13,374,11],[343,14,374,12,"log"],[343,17,374,15],[343,18,374,16],[343,48,374,46],[343,50,374,48,"currentCallIdRef"],[343,66,374,64],[343,67,374,65,"current"],[343,74,374,72],[343,75,374,73],[344,6,375,4],[344,10,375,8,"currentCallIdRef"],[344,26,375,24],[344,27,375,25,"current"],[344,34,375,32],[344,36,375,34],[345,8,376,6,"socketRef"],[345,17,376,15],[345,18,376,16,"current"],[345,25,376,23],[345,27,376,25,"emit"],[345,31,376,29],[345,32,376,30],[345,42,376,40],[345,44,376,42],[346,10,376,44,"call_id"],[346,17,376,51],[346,19,376,53,"currentCallIdRef"],[346,35,376,69],[346,36,376,70,"current"],[347,8,376,78],[347,9,376,79],[347,10,376,80],[348,6,377,4],[349,6,378,4],[350,6,379,4,"cleanupCall"],[350,17,379,15],[350,18,379,16],[350,19,379,17],[351,4,380,2],[351,5,380,3],[351,7,380,5],[351,8,380,6,"cleanupCall"],[351,19,380,17],[351,20,380,18],[351,21,380,19],[352,4,382,2],[352,10,382,8,"startCallTimer"],[352,24,382,22],[352,27,382,25,"startCallTimer"],[352,28,382,25],[352,33,382,31],[353,6,383,4,"setCallDuration"],[353,21,383,19],[353,22,383,20],[353,23,383,21],[353,24,383,22],[354,6,384,4,"callTimerRef"],[354,18,384,16],[354,19,384,17,"current"],[354,26,384,24],[354,29,384,27,"setInterval"],[354,40,384,38],[354,41,384,39],[354,47,384,45],[355,8,385,6,"setCallDuration"],[355,23,385,21],[355,24,385,23,"prev"],[355,28,385,27],[355,32,385,32,"prev"],[355,36,385,36],[355,39,385,39],[355,40,385,40],[355,41,385,41],[356,6,386,4],[356,7,386,5],[356,9,386,7],[356,13,386,11],[356,14,386,12],[357,4,387,2],[357,5,387,3],[358,4,389,2],[358,10,389,8,"cleanupCall"],[358,21,389,19],[358,24,389,22],[358,28,389,22,"useCallback"],[358,34,389,33],[358,35,389,33,"useCallback"],[358,46,389,33],[358,48,389,34],[358,54,389,40],[359,6,390,4,"localStreamRef"],[359,20,390,18],[359,21,390,19,"current"],[359,28,390,26],[359,30,390,28,"getTracks"],[359,39,390,37],[359,40,390,38],[359,41,390,39],[359,42,390,40,"forEach"],[359,49,390,47],[359,50,390,49,"track"],[359,55,390,54],[359,59,390,59,"track"],[359,64,390,64],[359,65,390,65,"stop"],[359,69,390,69],[359,70,390,70],[359,71,390,71],[359,72,390,72],[360,6,391,4,"localStreamRef"],[360,20,391,18],[360,21,391,19,"current"],[360,28,391,26],[360,31,391,29],[360,35,391,33],[361,6,393,4,"peerConnectionRef"],[361,23,393,21],[361,24,393,22,"current"],[361,31,393,29],[361,33,393,31,"close"],[361,38,393,36],[361,39,393,37],[361,40,393,38],[362,6,394,4,"peerConnectionRef"],[362,23,394,21],[362,24,394,22,"current"],[362,31,394,29],[362,34,394,32],[362,38,394,36],[363,6,396,4],[363,10,396,8,"callTimerRef"],[363,22,396,20],[363,23,396,21,"current"],[363,30,396,28],[363,32,396,30],[364,8,397,6,"clearInterval"],[364,21,397,19],[364,22,397,20,"callTimerRef"],[364,34,397,32],[364,35,397,33,"current"],[364,42,397,40],[364,43,397,41],[365,8,398,6,"callTimerRef"],[365,20,398,18],[365,21,398,19,"current"],[365,28,398,26],[365,31,398,29],[365,35,398,33],[366,6,399,4],[367,6,401,4,"currentCallIdRef"],[367,22,401,20],[367,23,401,21,"current"],[367,30,401,28],[367,33,401,31],[367,37,401,35],[368,6,402,4,"setCallState"],[368,18,402,16],[368,19,402,17],[368,25,402,23],[368,26,402,24],[369,6,403,4,"setCallInfo"],[369,17,403,15],[369,18,403,16],[369,22,403,20],[369,23,403,21],[370,6,404,4,"setCallDuration"],[370,21,404,19],[370,22,404,20],[370,23,404,21],[370,24,404,22],[371,4,405,2],[371,5,405,3],[371,7,405,5],[371,9,405,7],[371,10,405,8],[372,4,407,2],[372,8,407,2,"useEffect"],[372,14,407,11],[372,15,407,11,"useEffect"],[372,24,407,11],[372,26,407,12],[372,32,407,18],[373,6,408,4],[373,13,408,11],[373,19,408,17],[374,8,409,6,"cleanupCall"],[374,19,409,17],[374,20,409,18],[374,21,409,19],[375,8,410,6,"socketRef"],[375,17,410,15],[375,18,410,16,"current"],[375,25,410,23],[375,27,410,25,"disconnect"],[375,37,410,35],[375,38,410,36],[375,39,410,37],[376,6,411,4],[376,7,411,5],[377,4,412,2],[377,5,412,3],[377,7,412,5],[377,8,412,6,"cleanupCall"],[377,19,412,17],[377,20,412,18],[377,21,412,19],[378,4,414,2],[378,11,414,9],[379,6,415,4,"callState"],[379,15,415,13],[380,6,416,4,"callInfo"],[380,14,416,12],[381,6,417,4,"isConnected"],[381,17,417,15],[382,6,418,4,"callDuration"],[382,18,418,16],[383,6,419,4,"initiateCall"],[383,18,419,16],[384,6,420,4,"acceptCall"],[384,16,420,14],[385,6,421,4,"rejectCall"],[385,16,421,14],[386,6,422,4,"endCall"],[386,13,422,11],[387,6,423,4,"register"],[388,4,424,2],[388,5,424,3],[389,2,425,0],[390,2,427,7],[390,11,427,16,"formatCallDuration"],[390,29,427,34,"formatCallDuration"],[390,30,427,35,"seconds"],[390,37,427,50],[390,39,427,60],[391,4,428,2],[391,10,428,8,"mins"],[391,14,428,12],[391,17,428,15,"Math"],[391,21,428,19],[391,22,428,20,"floor"],[391,27,428,25],[391,28,428,26,"seconds"],[391,35,428,33],[391,38,428,36],[391,40,428,38],[391,41,428,39],[392,4,429,2],[392,10,429,8,"secs"],[392,14,429,12],[392,17,429,15,"seconds"],[392,24,429,22],[392,27,429,25],[392,29,429,27],[393,4,430,2],[393,11,430,9],[393,14,430,12,"mins"],[393,18,430,16],[393,19,430,17,"toString"],[393,27,430,25],[393,28,430,26],[393,29,430,27],[393,30,430,28,"padStart"],[393,38,430,36],[393,39,430,37],[393,40,430,38],[393,42,430,40],[393,45,430,43],[393,46,430,44],[393,50,430,48,"secs"],[393,54,430,52],[393,55,430,53,"toString"],[393,63,430,61],[393,64,430,62],[393,65,430,63],[393,66,430,64,"padStart"],[393,74,430,72],[393,75,430,73],[393,76,430,74],[393,78,430,76],[393,81,430,79],[393,82,430,80],[393,84,430,82],[394,2,431,0],[395,0,431,1],[395,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BIG;eCK;KDO;GJC;4BMG;GNW;gCOG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GPe;sBYE;GZkB;uBaE;GbK;6BcE;GdG;uBeE;wBCyB,qCD;sBCsB,qCD;GfQ;iCiBE;GjBK;iCkBE;GlBQ;8BmBE;GnBO;yBoBE;uCCE;sBCC,kBD;KDC;GpBC;kCuBE;gDCC,uBD;GvBe;YyBE;WCC;KDG;GzBC;CHa;O8BE;C9BI"},"hasCjsExports":false},"type":"js/module"}]}