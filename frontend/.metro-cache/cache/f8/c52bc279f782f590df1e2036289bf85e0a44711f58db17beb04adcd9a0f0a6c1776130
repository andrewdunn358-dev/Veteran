{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && false) {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration - Multiple STUN servers for better NAT traversal\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }, {\n      urls: 'stun:stun2.l.google.com:19302'\n    }, {\n      urls: 'stun:stun3.l.google.com:19302'\n    }, {\n      urls: 'stun:stun4.l.google.com:19302'\n    }],\n    iceCandidatePoolSize: 10\n  };\n  function useWebRTCCall() {\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Define cleanupCall first since it's used by many other functions\n    const cleanupCallFn = () => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    };\n\n    // Use ref for cleanup to avoid closure issues\n    const cleanupCallRef = (0, _react.useRef)(cleanupCallFn);\n    cleanupCallRef.current = cleanupCallFn;\n    const cleanupCall = (0, _react.useCallback)(() => {\n      cleanupCallRef.current();\n    }, []);\n    const startCallTimer = (0, _react.useCallback)(() => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    }, []);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? {\n            ...prev,\n            callId: data.call_id\n          } : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":411,"map":[[12,2,58,0,"exports"],[12,9,58,0],[12,10,58,0,"useWebRTCCall"],[12,23,58,0],[12,26,58,0,"useWebRTCCall"],[12,39,58,0],[13,2,440,0,"exports"],[13,9,440,0],[13,10,440,0,"formatCallDuration"],[13,28,440,0],[13,31,440,0,"formatCallDuration"],[13,49,440,0],[14,2,7,0],[14,6,7,0,"_react"],[14,12,7,0],[14,15,7,0,"require"],[14,22,7,0],[14,23,7,0,"_dependencyMap"],[14,37,7,0],[15,2,7,65],[15,6,7,65,"_reactNativeWebDistExportsPlatform"],[15,40,7,65],[15,43,7,65,"require"],[15,50,7,65],[15,51,7,65,"_dependencyMap"],[15,65,7,65],[16,2,7,65],[16,6,7,65,"Platform"],[16,14,7,65],[16,17,7,65,"_interopDefault"],[16,32,7,65],[16,33,7,65,"_reactNativeWebDistExportsPlatform"],[16,67,7,65],[17,2,9,0],[17,6,9,0,"_socketIoClient"],[17,21,9,0],[17,24,9,0,"require"],[17,31,9,0],[17,32,9,0,"_dependencyMap"],[17,46,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[24,2,11,0],[24,8,11,6,"API_URL"],[24,15,11,13],[24,18,11,16,"process"],[24,25,11,23],[24,26,11,24,"env"],[24,29,11,27],[24,30,11,28,"EXPO_PUBLIC_BACKEND_URL"],[24,53,11,51],[24,57,11,55],[24,59,11,57],[26,2,13,0],[27,2,14,0],[27,8,14,6,"showAlert"],[27,17,14,15],[27,20,14,18,"showAlert"],[27,21,14,19,"title"],[27,26,14,32],[27,28,14,34,"message"],[27,35,14,49],[27,40,14,54],[28,4,15,2],[28,8,15,6,"Platform"],[28,16,15,14],[28,17,15,14,"default"],[28,24,15,14],[28,25,15,15,"OS"],[28,27,15,17],[28,32,15,22],[28,37,15,27],[28,46,15,60],[28,48,15,62],[29,6,16,4,"window"],[29,12,16,10],[29,13,16,11,"alert"],[29,18,16,16],[29,19,16,17],[29,22,16,20,"title"],[29,27,16,25],[29,34,16,32,"message"],[29,41,16,39],[29,43,16,41],[29,44,16,42],[30,4,17,2],[30,5,17,3],[30,11,17,9],[31,6,18,4],[32,6,19,4,"require"],[32,13,19,4],[32,14,19,4,"_dependencyMap"],[32,28,19,4],[32,71,19,4,"_dependencyMap"],[32,85,19,4],[32,90,19,4,"_dependencyMap"],[32,104,19,4],[32,105,19,4,"paths"],[32,110,19,4],[32,128,19,27,"then"],[32,132,19,31],[32,133,19,32],[32,134,19,33],[33,8,19,35,"Alert"],[34,6,19,41],[34,7,19,42],[34,12,19,47],[35,8,20,6,"Alert"],[35,13,20,11],[35,14,20,12,"alert"],[35,19,20,17],[35,20,20,18,"title"],[35,25,20,23],[35,27,20,25,"message"],[35,34,20,32],[35,35,20,33],[36,6,21,4],[36,7,21,5],[36,8,21,6],[37,4,22,2],[38,2,23,0],[38,3,23,1],[40,2,25,0],[41,2,26,0],[41,8,26,6,"RTC_CONFIG"],[41,18,26,16],[41,21,26,19],[42,4,27,2,"iceServers"],[42,14,27,12],[42,16,27,14],[42,17,28,4],[43,6,28,6,"urls"],[43,10,28,10],[43,12,28,12],[44,4,28,43],[44,5,28,44],[44,7,29,4],[45,6,29,6,"urls"],[45,10,29,10],[45,12,29,12],[46,4,29,44],[46,5,29,45],[46,7,30,4],[47,6,30,6,"urls"],[47,10,30,10],[47,12,30,12],[48,4,30,44],[48,5,30,45],[48,7,31,4],[49,6,31,6,"urls"],[49,10,31,10],[49,12,31,12],[50,4,31,44],[50,5,31,45],[50,7,32,4],[51,6,32,6,"urls"],[51,10,32,10],[51,12,32,12],[52,4,32,44],[52,5,32,45],[52,6,33,3],[53,4,34,2,"iceCandidatePoolSize"],[53,24,34,22],[53,26,34,24],[54,2,35,0],[54,3,35,1],[55,2,58,7],[55,11,58,16,"useWebRTCCall"],[55,24,58,29,"useWebRTCCall"],[55,25,58,29],[55,27,58,53],[56,4,59,2],[56,10,59,8],[56,11,59,9,"callState"],[56,20,59,18],[56,22,59,20,"setCallState"],[56,34,59,32],[56,35,59,33],[56,38,59,36],[56,42,59,36,"useState"],[56,48,59,44],[56,49,59,44,"useState"],[56,57,59,44],[56,59,59,56],[56,65,59,62],[56,66,59,63],[57,4,60,2],[57,10,60,8],[57,11,60,9,"callInfo"],[57,19,60,17],[57,21,60,19,"setCallInfo"],[57,32,60,30],[57,33,60,31],[57,36,60,34],[57,40,60,34,"useState"],[57,46,60,42],[57,47,60,42,"useState"],[57,55,60,42],[57,57,60,60],[57,61,60,64],[57,62,60,65],[58,4,61,2],[58,10,61,8],[58,11,61,9,"isConnected"],[58,22,61,20],[58,24,61,22,"setIsConnected"],[58,38,61,36],[58,39,61,37],[58,42,61,40],[58,46,61,40,"useState"],[58,52,61,48],[58,53,61,48,"useState"],[58,61,61,48],[58,63,61,49],[58,68,61,54],[58,69,61,55],[59,4,62,2],[59,10,62,8],[59,11,62,9,"callDuration"],[59,23,62,21],[59,25,62,23,"setCallDuration"],[59,40,62,38],[59,41,62,39],[59,44,62,42],[59,48,62,42,"useState"],[59,54,62,50],[59,55,62,50,"useState"],[59,63,62,50],[59,65,62,51],[59,66,62,52],[59,67,62,53],[60,4,64,2],[60,10,64,8,"socketRef"],[60,19,64,17],[60,22,64,20],[60,26,64,20,"useRef"],[60,32,64,26],[60,33,64,26,"useRef"],[60,39,64,26],[60,41,64,42],[60,45,64,46],[60,46,64,47],[61,4,65,2],[61,10,65,8,"peerConnectionRef"],[61,27,65,25],[61,30,65,28],[61,34,65,28,"useRef"],[61,40,65,34],[61,41,65,34,"useRef"],[61,47,65,34],[61,49,65,61],[61,53,65,65],[61,54,65,66],[62,4,66,2],[62,10,66,8,"localStreamRef"],[62,24,66,22],[62,27,66,25],[62,31,66,25,"useRef"],[62,37,66,31],[62,38,66,31,"useRef"],[62,44,66,31],[62,46,66,52],[62,50,66,56],[62,51,66,57],[63,4,67,2],[63,10,67,8,"remoteAudioRef"],[63,24,67,22],[63,27,67,25],[63,31,67,25,"useRef"],[63,37,67,31],[63,38,67,31,"useRef"],[63,44,67,31],[63,46,67,57],[63,50,67,61],[63,51,67,62],[64,4,68,2],[64,10,68,8,"callTimerRef"],[64,22,68,20],[64,25,68,23],[64,29,68,23,"useRef"],[64,35,68,29],[64,36,68,29,"useRef"],[64,42,68,29],[64,44,68,69],[64,48,68,73],[64,49,68,74],[65,4,69,2],[65,10,69,8,"currentCallIdRef"],[65,26,69,24],[65,29,69,27],[65,33,69,27,"useRef"],[65,39,69,33],[65,40,69,33,"useRef"],[65,46,69,33],[65,48,69,49],[65,52,69,53],[65,53,69,54],[67,4,71,2],[68,4,72,2],[68,10,72,8,"cleanupCallFn"],[68,23,72,21],[68,26,72,24,"cleanupCallFn"],[68,27,72,24],[68,32,72,30],[69,6,73,4,"localStreamRef"],[69,20,73,18],[69,21,73,19,"current"],[69,28,73,26],[69,30,73,28,"getTracks"],[69,39,73,37],[69,40,73,38],[69,41,73,39],[69,42,73,40,"forEach"],[69,49,73,47],[69,50,73,49,"track"],[69,55,73,54],[69,59,73,59,"track"],[69,64,73,64],[69,65,73,65,"stop"],[69,69,73,69],[69,70,73,70],[69,71,73,71],[69,72,73,72],[70,6,74,4,"localStreamRef"],[70,20,74,18],[70,21,74,19,"current"],[70,28,74,26],[70,31,74,29],[70,35,74,33],[71,6,76,4,"peerConnectionRef"],[71,23,76,21],[71,24,76,22,"current"],[71,31,76,29],[71,33,76,31,"close"],[71,38,76,36],[71,39,76,37],[71,40,76,38],[72,6,77,4,"peerConnectionRef"],[72,23,77,21],[72,24,77,22,"current"],[72,31,77,29],[72,34,77,32],[72,38,77,36],[73,6,79,4],[73,10,79,8,"callTimerRef"],[73,22,79,20],[73,23,79,21,"current"],[73,30,79,28],[73,32,79,30],[74,8,80,6,"clearInterval"],[74,21,80,19],[74,22,80,20,"callTimerRef"],[74,34,80,32],[74,35,80,33,"current"],[74,42,80,40],[74,43,80,41],[75,8,81,6,"callTimerRef"],[75,20,81,18],[75,21,81,19,"current"],[75,28,81,26],[75,31,81,29],[75,35,81,33],[76,6,82,4],[77,6,84,4,"currentCallIdRef"],[77,22,84,20],[77,23,84,21,"current"],[77,30,84,28],[77,33,84,31],[77,37,84,35],[78,6,85,4,"setCallState"],[78,18,85,16],[78,19,85,17],[78,25,85,23],[78,26,85,24],[79,6,86,4,"setCallInfo"],[79,17,86,15],[79,18,86,16],[79,22,86,20],[79,23,86,21],[80,6,87,4,"setCallDuration"],[80,21,87,19],[80,22,87,20],[80,23,87,21],[80,24,87,22],[81,4,88,2],[81,5,88,3],[83,4,90,2],[84,4,91,2],[84,10,91,8,"cleanupCallRef"],[84,24,91,22],[84,27,91,25],[84,31,91,25,"useRef"],[84,37,91,31],[84,38,91,31,"useRef"],[84,44,91,31],[84,46,91,32,"cleanupCallFn"],[84,59,91,45],[84,60,91,46],[85,4,92,2,"cleanupCallRef"],[85,18,92,16],[85,19,92,17,"current"],[85,26,92,24],[85,29,92,27,"cleanupCallFn"],[85,42,92,40],[86,4,94,2],[86,10,94,8,"cleanupCall"],[86,21,94,19],[86,24,94,22],[86,28,94,22,"useCallback"],[86,34,94,33],[86,35,94,33,"useCallback"],[86,46,94,33],[86,48,94,34],[86,54,94,40],[87,6,95,4,"cleanupCallRef"],[87,20,95,18],[87,21,95,19,"current"],[87,28,95,26],[87,29,95,27],[87,30,95,28],[88,4,96,2],[88,5,96,3],[88,7,96,5],[88,9,96,7],[88,10,96,8],[89,4,98,2],[89,10,98,8,"startCallTimer"],[89,24,98,22],[89,27,98,25],[89,31,98,25,"useCallback"],[89,37,98,36],[89,38,98,36,"useCallback"],[89,49,98,36],[89,51,98,37],[89,57,98,43],[90,6,99,4,"setCallDuration"],[90,21,99,19],[90,22,99,20],[90,23,99,21],[90,24,99,22],[91,6,100,4,"callTimerRef"],[91,18,100,16],[91,19,100,17,"current"],[91,26,100,24],[91,29,100,27,"setInterval"],[91,40,100,38],[91,41,100,39],[91,47,100,45],[92,8,101,6,"setCallDuration"],[92,23,101,21],[92,24,101,23,"prev"],[92,28,101,27],[92,32,101,32,"prev"],[92,36,101,36],[92,39,101,39],[92,40,101,40],[92,41,101,41],[93,6,102,4],[93,7,102,5],[93,9,102,7],[93,13,102,11],[93,14,102,12],[94,4,103,2],[94,5,103,3],[94,7,103,5],[94,9,103,7],[94,10,103,8],[96,4,105,2],[97,4,106,2],[97,10,106,8,"initializeSocket"],[97,26,106,24],[97,29,106,27],[97,33,106,27,"useCallback"],[97,39,106,38],[97,40,106,38,"useCallback"],[97,51,106,38],[97,53,106,39],[97,59,106,45],[98,6,107,4],[98,10,107,8,"Platform"],[98,18,107,16],[98,19,107,16,"default"],[98,26,107,16],[98,27,107,17,"OS"],[98,29,107,19],[98,34,107,24],[98,39,107,29],[98,41,107,31],[99,6,108,4],[99,10,108,8,"socketRef"],[99,19,108,17],[99,20,108,18,"current"],[99,27,108,25],[99,29,108,27,"connected"],[99,38,108,36],[99,40,108,38],[100,8,109,6,"console"],[100,15,109,13],[100,16,109,14,"log"],[100,19,109,17],[100,20,109,18],[100,54,109,52],[100,55,109,53],[101,8,110,6],[102,6,111,4],[104,6,113,4],[105,6,114,4],[105,10,114,8,"socketRef"],[105,19,114,17],[105,20,114,18,"current"],[105,27,114,25],[105,29,114,27],[106,8,115,6,"console"],[106,15,115,13],[106,16,115,14,"log"],[106,19,115,17],[106,20,115,18],[106,78,115,76],[106,79,115,77],[107,8,116,6,"socketRef"],[107,17,116,15],[107,18,116,16,"current"],[107,25,116,23],[107,26,116,24,"connect"],[107,33,116,31],[107,34,116,32],[107,35,116,33],[108,8,117,6],[109,6,118,4],[111,6,120,4],[112,6,121,4],[112,12,121,10,"backendUrl"],[112,22,121,20],[112,25,121,23,"API_URL"],[112,32,121,30],[113,6,122,4,"console"],[113,13,122,11],[113,14,122,12,"log"],[113,17,122,15],[113,18,122,16],[113,61,122,59],[113,63,122,61,"backendUrl"],[113,73,122,71],[113,74,122,72],[114,6,124,4,"socketRef"],[114,15,124,13],[114,16,124,14,"current"],[114,23,124,21],[114,26,124,24],[114,30,124,24,"io"],[114,45,124,26],[114,46,124,26,"io"],[114,48,124,26],[114,50,124,27,"backendUrl"],[114,60,124,37],[114,62,124,39],[115,8,125,6,"transports"],[115,18,125,16],[115,20,125,18],[115,21,125,19],[115,32,125,30],[115,34,125,32],[115,43,125,41],[115,44,125,42],[116,8,126,6,"reconnection"],[116,20,126,18],[116,22,126,20],[116,26,126,24],[117,8,127,6,"reconnectionAttempts"],[117,28,127,26],[117,30,127,28],[117,32,127,30],[118,8,128,6,"reconnectionDelay"],[118,25,128,23],[118,27,128,25],[118,31,128,29],[119,8,129,6,"timeout"],[119,15,129,13],[119,17,129,15],[119,22,129,20],[120,8,130,6,"path"],[120,12,130,10],[120,14,130,12],[120,30,130,28],[120,31,130,31],[121,6,131,4],[121,7,131,5],[121,8,131,6],[122,6,133,4,"socketRef"],[122,15,133,13],[122,16,133,14,"current"],[122,23,133,21],[122,24,133,22,"on"],[122,26,133,24],[122,27,133,25],[122,36,133,34],[122,38,133,36],[122,44,133,42],[123,8,134,6,"console"],[123,15,134,13],[123,16,134,14,"log"],[123,19,134,17],[123,20,134,18],[123,59,134,57],[123,60,134,58],[124,8,135,6,"setIsConnected"],[124,22,135,20],[124,23,135,21],[124,27,135,25],[124,28,135,26],[125,6,136,4],[125,7,136,5],[125,8,136,6],[126,6,138,4,"socketRef"],[126,15,138,13],[126,16,138,14,"current"],[126,23,138,21],[126,24,138,22,"on"],[126,26,138,24],[126,27,138,25],[126,39,138,37],[126,41,138,39],[126,47,138,45],[127,8,139,6,"console"],[127,15,139,13],[127,16,139,14,"log"],[127,19,139,17],[127,20,139,18],[127,42,139,40],[127,43,139,41],[128,8,140,6,"setIsConnected"],[128,22,140,20],[128,23,140,21],[128,28,140,26],[128,29,140,27],[129,8,141,6,"cleanupCall"],[129,19,141,17],[129,20,141,18],[129,21,141,19],[130,6,142,4],[130,7,142,5],[130,8,142,6],[131,6,144,4,"socketRef"],[131,15,144,13],[131,16,144,14,"current"],[131,23,144,21],[131,24,144,22,"on"],[131,26,144,24],[131,27,144,25],[131,39,144,37],[131,41,144,40,"data"],[131,45,144,49],[131,49,144,54],[132,8,145,6,"console"],[132,15,145,13],[132,16,145,14,"log"],[132,19,145,17],[132,20,145,18],[132,40,145,38],[132,42,145,40,"data"],[132,46,145,44],[132,47,145,45],[133,6,146,4],[133,7,146,5],[133,8,146,6],[135,6,148,4],[136,6,149,4,"socketRef"],[136,15,149,13],[136,16,149,14,"current"],[136,23,149,21],[136,24,149,22,"on"],[136,26,149,24],[136,27,149,25],[136,42,149,40],[136,44,149,43,"data"],[136,48,149,52],[136,52,149,57],[137,8,150,6,"console"],[137,15,150,13],[137,16,150,14,"log"],[137,19,150,17],[137,20,150,18],[137,43,150,41],[137,45,150,43,"data"],[137,49,150,47],[137,50,150,48],[138,8,151,6,"currentCallIdRef"],[138,24,151,22],[138,25,151,23,"current"],[138,32,151,30],[138,35,151,33,"data"],[138,39,151,37],[138,40,151,38,"call_id"],[138,47,151,45],[139,8,152,6,"setCallInfo"],[139,19,152,17],[139,20,152,18],[140,10,153,8,"callId"],[140,16,153,14],[140,18,153,16,"data"],[140,22,153,20],[140,23,153,21,"call_id"],[140,30,153,28],[141,10,154,8,"peerName"],[141,18,154,16],[141,20,154,18,"data"],[141,24,154,22],[141,25,154,23,"caller_name"],[141,36,154,34],[142,10,155,8,"callType"],[142,18,155,16],[142,20,155,18,"data"],[142,24,155,22],[142,25,155,23,"call_type"],[142,34,155,32],[142,38,155,36],[142,45,155,43],[143,10,156,8,"isIncoming"],[143,20,156,18],[143,22,156,20],[144,8,157,6],[144,9,157,7],[144,10,157,8],[145,8,158,6,"setCallState"],[145,20,158,18],[145,21,158,19],[145,30,158,28],[145,31,158,29],[146,6,159,4],[146,7,159,5],[146,8,159,6],[148,6,161,4],[149,6,162,4,"socketRef"],[149,15,162,13],[149,16,162,14,"current"],[149,23,162,21],[149,24,162,22,"on"],[149,26,162,24],[149,27,162,25],[149,42,162,40],[149,44,162,42],[149,50,162,49,"data"],[149,54,162,58],[149,58,162,63],[150,8,163,6,"console"],[150,15,163,13],[150,16,163,14,"log"],[150,19,163,17],[150,20,163,18],[150,43,163,41],[150,45,163,43,"data"],[150,49,163,47],[150,50,163,48],[151,8,164,6],[151,12,164,10,"data"],[151,16,164,14],[151,17,164,15,"call_id"],[151,24,164,22],[151,26,164,24],[152,10,165,8,"currentCallIdRef"],[152,26,165,24],[152,27,165,25,"current"],[152,34,165,32],[152,37,165,35,"data"],[152,41,165,39],[152,42,165,40,"call_id"],[152,49,165,47],[153,8,166,6],[154,8,167,6,"setCallState"],[154,20,167,18],[154,21,167,19],[154,33,167,31],[154,34,167,32],[155,8,168,6],[155,14,168,12,"startWebRTCConnection"],[155,35,168,33],[155,36,168,34],[155,40,168,38],[155,41,168,39],[156,6,169,4],[156,7,169,5],[156,8,169,6],[158,6,171,4],[159,6,172,4,"socketRef"],[159,15,172,13],[159,16,172,14,"current"],[159,23,172,21],[159,24,172,22,"on"],[159,26,172,24],[159,27,172,25],[159,43,172,41],[159,45,172,43],[159,51,172,49],[160,8,173,6,"console"],[160,15,173,13],[160,16,173,14,"log"],[160,19,173,17],[160,20,173,18],[160,44,173,42],[160,45,173,43],[161,8,174,6,"setCallState"],[161,20,174,18],[161,21,174,19],[161,32,174,30],[161,33,174,31],[162,8,175,6,"startCallTimer"],[162,22,175,20],[162,23,175,21],[162,24,175,22],[163,6,176,4],[163,7,176,5],[163,8,176,6],[165,6,178,4],[166,6,179,4,"socketRef"],[166,15,179,13],[166,16,179,14,"current"],[166,23,179,21],[166,24,179,22,"on"],[166,26,179,24],[166,27,179,25],[166,42,179,40],[166,44,179,42],[166,50,179,48],[167,8,180,6,"showAlert"],[167,17,180,15],[167,18,180,16],[167,33,180,31],[167,35,180,33],[167,59,180,57],[167,60,180,58],[168,8,181,6,"cleanupCall"],[168,19,181,17],[168,20,181,18],[168,21,181,19],[169,6,182,4],[169,7,182,5],[169,8,182,6],[170,6,184,4,"socketRef"],[170,15,184,13],[170,16,184,14,"current"],[170,23,184,21],[170,24,184,22,"on"],[170,26,184,24],[170,27,184,25],[170,39,184,37],[170,41,184,39],[170,47,184,45],[171,8,185,6,"console"],[171,15,185,13],[171,16,185,14,"log"],[171,19,185,17],[171,20,185,18],[171,55,185,53],[171,56,185,54],[172,8,186,6,"cleanupCall"],[172,19,186,17],[172,20,186,18],[172,21,186,19],[173,6,187,4],[173,7,187,5],[173,8,187,6],[174,6,189,4,"socketRef"],[174,15,189,13],[174,16,189,14,"current"],[174,23,189,21],[174,24,189,22,"on"],[174,26,189,24],[174,27,189,25],[174,40,189,38],[174,42,189,41,"data"],[174,46,189,50],[174,50,189,55],[175,8,190,6,"console"],[175,15,190,13],[175,16,190,14,"log"],[175,19,190,17],[175,20,190,18],[175,41,190,39],[175,43,190,41,"data"],[175,47,190,45],[175,48,190,46],[176,8,191,6,"showAlert"],[176,17,191,15],[176,18,191,16],[176,31,191,29],[176,33,191,31,"data"],[176,37,191,35],[176,38,191,36,"message"],[176,45,191,43],[176,49,191,47],[176,152,191,150],[176,153,191,151],[177,8,192,6,"cleanupCall"],[177,19,192,17],[177,20,192,18],[177,21,192,19],[178,6,193,4],[178,7,193,5],[178,8,193,6],[180,6,195,4],[181,6,196,4,"socketRef"],[181,15,196,13],[181,16,196,14,"current"],[181,23,196,21],[181,24,196,22,"on"],[181,26,196,24],[181,27,196,25],[181,41,196,39],[181,43,196,42,"data"],[181,47,196,51],[181,51,196,56],[182,8,197,6,"console"],[182,15,197,13],[182,16,197,14,"log"],[182,19,197,17],[182,20,197,18],[182,42,197,40],[182,44,197,42,"data"],[182,48,197,46],[182,49,197,47],[183,8,198,6],[183,12,198,10,"data"],[183,16,198,14],[183,17,198,15,"call_id"],[183,24,198,22],[183,26,198,24],[184,10,199,8,"currentCallIdRef"],[184,26,199,24],[184,27,199,25,"current"],[184,34,199,32],[184,37,199,35,"data"],[184,41,199,39],[184,42,199,40,"call_id"],[184,49,199,47],[185,10,200,8,"setCallInfo"],[185,21,200,19],[185,22,200,20,"prev"],[185,26,200,24],[185,30,200,28,"prev"],[185,34,200,32],[185,37,200,35],[186,12,200,37],[186,15,200,40,"prev"],[186,19,200,44],[187,12,200,46,"callId"],[187,18,200,52],[187,20,200,54,"data"],[187,24,200,58],[187,25,200,59,"call_id"],[188,10,200,67],[188,11,200,68],[188,14,200,71],[188,18,200,75],[188,19,200,76],[189,8,201,6],[190,8,202,6,"setCallState"],[190,20,202,18],[190,21,202,19],[190,30,202,28],[190,31,202,29],[191,6,203,4],[191,7,203,5],[191,8,203,6],[193,6,205,4],[194,6,206,4,"socketRef"],[194,15,206,13],[194,16,206,14,"current"],[194,23,206,21],[194,24,206,22,"on"],[194,26,206,24],[194,27,206,25],[194,41,206,39],[194,43,206,41],[194,49,206,48,"data"],[194,53,206,57],[194,57,206,62],[195,8,207,6],[195,14,207,12,"handleOffer"],[195,25,207,23],[195,26,207,24,"data"],[195,30,207,28],[195,31,207,29,"offer"],[195,36,207,34],[195,37,207,35],[196,6,208,4],[196,7,208,5],[196,8,208,6],[197,6,210,4,"socketRef"],[197,15,210,13],[197,16,210,14,"current"],[197,23,210,21],[197,24,210,22,"on"],[197,26,210,24],[197,27,210,25],[197,42,210,40],[197,44,210,42],[197,50,210,49,"data"],[197,54,210,58],[197,58,210,63],[198,8,211,6],[198,14,211,12,"handleAnswer"],[198,26,211,24],[198,27,211,25,"data"],[198,31,211,29],[198,32,211,30,"answer"],[198,38,211,36],[198,39,211,37],[199,6,212,4],[199,7,212,5],[199,8,212,6],[200,6,214,4,"socketRef"],[200,15,214,13],[200,16,214,14,"current"],[200,23,214,21],[200,24,214,22,"on"],[200,26,214,24],[200,27,214,25],[200,49,214,47],[200,51,214,49],[200,57,214,56,"data"],[200,61,214,65],[200,65,214,70],[201,8,215,6],[201,14,215,12,"handleIceCandidate"],[201,32,215,30],[201,33,215,31,"data"],[201,37,215,35],[201,38,215,36,"candidate"],[201,47,215,45],[201,48,215,46],[202,6,216,4],[202,7,216,5],[202,8,216,6],[203,4,217,2],[203,5,217,3],[203,7,217,5],[203,9,217,7],[203,10,217,8],[205,4,219,2],[206,4,220,2],[206,10,220,8,"register"],[206,18,220,16],[206,21,220,19],[206,25,220,19,"useCallback"],[206,31,220,30],[206,32,220,30,"useCallback"],[206,43,220,30],[206,45,220,31],[206,46,220,32,"userId"],[206,52,220,46],[206,54,220,48,"userType"],[206,62,220,64],[206,64,220,66,"userName"],[206,72,220,82],[206,77,220,87],[207,6,221,4],[207,10,221,8,"Platform"],[207,18,221,16],[207,19,221,16,"default"],[207,26,221,16],[207,27,221,17,"OS"],[207,29,221,19],[207,34,221,24],[207,39,221,29],[207,41,221,31],[208,6,223,4,"initializeSocket"],[208,22,223,20],[208,23,223,21],[208,24,223,22],[209,6,225,4,"setTimeout"],[209,16,225,14],[209,17,225,15],[209,23,225,21],[210,8,226,6,"socketRef"],[210,17,226,15],[210,18,226,16,"current"],[210,25,226,23],[210,27,226,25,"emit"],[210,31,226,29],[210,32,226,30],[210,42,226,40],[210,44,226,42],[211,10,227,8,"user_id"],[211,17,227,15],[211,19,227,17,"userId"],[211,25,227,23],[212,10,228,8,"user_type"],[212,19,228,17],[212,21,228,19,"userType"],[212,29,228,27],[213,10,229,8,"name"],[213,14,229,12],[213,16,229,14,"userName"],[213,24,229,22],[214,10,230,8,"status"],[214,16,230,14],[214,18,230,16],[215,8,231,6],[215,9,231,7],[215,10,231,8],[216,6,232,4],[216,7,232,5],[216,9,232,7],[216,13,232,11],[216,14,232,12],[217,4,233,2],[217,5,233,3],[217,7,233,5],[217,8,233,6,"initializeSocket"],[217,24,233,22],[217,25,233,23],[217,26,233,24],[219,4,235,2],[220,4,236,2],[220,10,236,8,"ensureRemoteAudio"],[220,27,236,25],[220,30,236,28,"ensureRemoteAudio"],[220,31,236,28],[220,36,236,34],[221,6,237,4],[221,10,237,8,"Platform"],[221,18,237,16],[221,19,237,16,"default"],[221,26,237,16],[221,27,237,17,"OS"],[221,29,237,19],[221,34,237,24],[221,39,237,29],[221,41,237,31],[221,48,237,38],[221,52,237,42],[222,6,239,4],[222,10,239,8],[222,11,239,9,"remoteAudioRef"],[222,25,239,23],[222,26,239,24,"current"],[222,33,239,31],[222,35,239,33],[223,8,240,6],[223,14,240,12,"audio"],[223,19,240,17],[223,22,240,20,"document"],[223,30,240,28],[223,31,240,29,"createElement"],[223,44,240,42],[223,45,240,43],[223,52,240,50],[223,53,240,51],[224,8,241,6,"audio"],[224,13,241,11],[224,14,241,12,"autoplay"],[224,22,241,20],[224,25,241,23],[224,29,241,27],[225,8,242,6,"audio"],[225,13,242,11],[225,14,242,12,"id"],[225,16,242,14],[225,19,242,17],[225,40,242,38],[226,8,243,6,"document"],[226,16,243,14],[226,17,243,15,"body"],[226,21,243,19],[226,22,243,20,"appendChild"],[226,33,243,31],[226,34,243,32,"audio"],[226,39,243,37],[226,40,243,38],[227,8,244,6,"remoteAudioRef"],[227,22,244,20],[227,23,244,21,"current"],[227,30,244,28],[227,33,244,31,"audio"],[227,38,244,36],[228,6,245,4],[229,6,246,4],[229,13,246,11,"remoteAudioRef"],[229,27,246,25],[229,28,246,26,"current"],[229,35,246,33],[230,4,247,2],[230,5,247,3],[232,4,249,2],[233,4,250,2],[233,10,250,8,"startWebRTCConnection"],[233,31,250,29],[233,34,250,32],[233,40,250,39,"createOffer"],[233,51,250,59],[233,55,250,64],[234,6,251,4],[234,10,251,8,"Platform"],[234,18,251,16],[234,19,251,16,"default"],[234,26,251,16],[234,27,251,17,"OS"],[234,29,251,19],[234,34,251,24],[234,39,251,29],[234,41,251,31],[235,6,253,4],[235,10,253,8],[236,8,254,6],[236,14,254,12,"stream"],[236,20,254,18],[236,23,254,21],[236,29,254,27,"navigator"],[236,38,254,36],[236,39,254,37,"mediaDevices"],[236,51,254,49],[236,52,254,50,"getUserMedia"],[236,64,254,62],[236,65,254,63],[237,10,254,65,"audio"],[237,15,254,70],[237,17,254,72],[237,21,254,76],[238,10,254,78,"video"],[238,15,254,83],[238,17,254,85],[239,8,254,91],[239,9,254,92],[239,10,254,93],[240,8,255,6,"localStreamRef"],[240,22,255,20],[240,23,255,21,"current"],[240,30,255,28],[240,33,255,31,"stream"],[240,39,255,37],[241,8,257,6],[241,14,257,12,"pc"],[241,16,257,14],[241,19,257,17],[241,23,257,21,"RTCPeerConnection"],[241,40,257,38],[241,41,257,39,"RTC_CONFIG"],[241,51,257,49],[241,52,257,50],[242,8,258,6,"peerConnectionRef"],[242,25,258,23],[242,26,258,24,"current"],[242,33,258,31],[242,36,258,34,"pc"],[242,38,258,36],[243,8,260,6,"stream"],[243,14,260,12],[243,15,260,13,"getTracks"],[243,24,260,22],[243,25,260,23],[243,26,260,24],[243,27,260,25,"forEach"],[243,34,260,32],[243,35,260,34,"track"],[243,40,260,39],[243,44,260,44],[244,10,261,8,"pc"],[244,12,261,10],[244,13,261,11,"addTrack"],[244,21,261,19],[244,22,261,20,"track"],[244,27,261,25],[244,29,261,27,"stream"],[244,35,261,33],[244,36,261,34],[245,8,262,6],[245,9,262,7],[245,10,262,8],[246,8,264,6,"pc"],[246,10,264,8],[246,11,264,9,"onicecandidate"],[246,25,264,23],[246,28,264,27,"event"],[246,33,264,32],[246,37,264,37],[247,10,265,8],[247,14,265,12,"event"],[247,19,265,17],[247,20,265,18,"candidate"],[247,29,265,27],[247,31,265,29],[248,12,266,10,"socketRef"],[248,21,266,19],[248,22,266,20,"current"],[248,29,266,27],[248,31,266,29,"emit"],[248,35,266,33],[248,36,266,34],[248,58,266,56],[248,60,266,58],[249,14,267,12,"call_id"],[249,21,267,19],[249,23,267,21,"currentCallIdRef"],[249,39,267,37],[249,40,267,38,"current"],[249,47,267,45],[250,14,268,12,"candidate"],[250,23,268,21],[250,25,268,23,"event"],[250,30,268,28],[250,31,268,29,"candidate"],[251,12,269,10],[251,13,269,11],[251,14,269,12],[252,10,270,8],[253,8,271,6],[253,9,271,7],[254,8,273,6,"pc"],[254,10,273,8],[254,11,273,9,"ontrack"],[254,18,273,16],[254,21,273,20,"event"],[254,26,273,25],[254,30,273,30],[255,10,274,8],[255,16,274,14,"audio"],[255,21,274,19],[255,24,274,22,"ensureRemoteAudio"],[255,41,274,39],[255,42,274,40],[255,43,274,41],[256,10,275,8],[256,14,275,12,"audio"],[256,19,275,17],[256,21,275,19],[257,12,276,10,"audio"],[257,17,276,15],[257,18,276,16,"srcObject"],[257,27,276,25],[257,30,276,28,"event"],[257,35,276,33],[257,36,276,34,"streams"],[257,43,276,41],[257,44,276,42],[257,45,276,43],[257,46,276,44],[258,12,277,10,"audio"],[258,17,277,15],[258,18,277,16,"play"],[258,22,277,20],[258,23,277,21],[258,24,277,22],[258,25,277,23,"catch"],[258,30,277,28],[258,31,277,29,"console"],[258,38,277,36],[258,39,277,37,"error"],[258,44,277,42],[258,45,277,43],[259,10,278,8],[260,8,279,6],[260,9,279,7],[261,8,281,6,"pc"],[261,10,281,8],[261,11,281,9,"onconnectionstatechange"],[261,34,281,32],[261,37,281,35],[261,43,281,41],[262,10,282,8],[262,14,282,12,"pc"],[262,16,282,14],[262,17,282,15,"connectionState"],[262,32,282,30],[262,37,282,35],[262,48,282,46],[262,50,282,48],[263,12,283,10,"setCallState"],[263,24,283,22],[263,25,283,23],[263,36,283,34],[263,37,283,35],[264,12,284,10,"startCallTimer"],[264,26,284,24],[264,27,284,25],[264,28,284,26],[265,10,285,8],[265,11,285,9],[265,17,285,15],[265,21,285,19,"pc"],[265,23,285,21],[265,24,285,22,"connectionState"],[265,39,285,37],[265,44,285,42],[265,58,285,56],[265,62,285,60,"pc"],[265,64,285,62],[265,65,285,63,"connectionState"],[265,80,285,78],[265,85,285,83],[265,93,285,91],[265,95,285,93],[266,12,286,10,"cleanupCall"],[266,23,286,21],[266,24,286,22],[266,25,286,23],[267,10,287,8],[268,8,288,6],[268,9,288,7],[269,8,290,6],[269,12,290,10,"createOffer"],[269,23,290,21],[269,25,290,23],[270,10,291,8],[270,16,291,14,"offer"],[270,21,291,19],[270,24,291,22],[270,30,291,28,"pc"],[270,32,291,30],[270,33,291,31,"createOffer"],[270,44,291,42],[270,45,291,43],[270,46,291,44],[271,10,292,8],[271,16,292,14,"pc"],[271,18,292,16],[271,19,292,17,"setLocalDescription"],[271,38,292,36],[271,39,292,37,"offer"],[271,44,292,42],[271,45,292,43],[272,10,293,8,"socketRef"],[272,19,293,17],[272,20,293,18,"current"],[272,27,293,25],[272,29,293,27,"emit"],[272,33,293,31],[272,34,293,32],[272,48,293,46],[272,50,293,48],[273,12,294,10,"call_id"],[273,19,294,17],[273,21,294,19,"currentCallIdRef"],[273,37,294,35],[273,38,294,36,"current"],[273,45,294,43],[274,12,295,10,"offer"],[274,17,295,15],[274,19,295,17,"offer"],[275,10,296,8],[275,11,296,9],[275,12,296,10],[276,8,297,6],[277,6,298,4],[277,7,298,5],[277,8,298,6],[277,15,298,13,"error"],[277,20,298,18],[277,22,298,20],[278,8,299,6,"console"],[278,15,299,13],[278,16,299,14,"error"],[278,21,299,19],[278,22,299,20],[278,37,299,35],[278,39,299,37,"error"],[278,44,299,42],[278,45,299,43],[279,8,300,6,"showAlert"],[279,17,300,15],[279,18,300,16],[279,36,300,34],[279,38,300,36],[279,125,300,123],[279,126,300,124],[280,8,301,6,"cleanupCall"],[280,19,301,17],[280,20,301,18],[280,21,301,19],[281,6,302,4],[282,4,303,2],[282,5,303,3],[283,4,305,2],[283,10,305,8,"handleOffer"],[283,21,305,19],[283,24,305,22],[283,30,305,29,"offer"],[283,35,305,61],[283,39,305,66],[284,6,306,4],[284,10,306,8,"Platform"],[284,18,306,16],[284,19,306,16,"default"],[284,26,306,16],[284,27,306,17,"OS"],[284,29,306,19],[284,34,306,24],[284,39,306,29],[284,41,306,31],[285,6,308,4],[285,10,308,8],[285,11,308,9,"peerConnectionRef"],[285,28,308,26],[285,29,308,27,"current"],[285,36,308,34],[285,38,308,36],[286,8,309,6],[286,14,309,12,"startWebRTCConnection"],[286,35,309,33],[286,36,309,34],[286,41,309,39],[286,42,309,40],[287,6,310,4],[288,6,312,4],[288,12,312,10,"peerConnectionRef"],[288,29,312,27],[288,30,312,28,"current"],[288,37,312,35],[288,39,312,37,"setRemoteDescription"],[288,59,312,57],[288,60,312,58],[288,64,312,62,"RTCSessionDescription"],[288,85,312,83],[288,86,312,84,"offer"],[288,91,312,89],[288,92,312,90],[288,93,312,91],[289,6,313,4],[289,12,313,10,"answer"],[289,18,313,16],[289,21,313,19],[289,27,313,25,"peerConnectionRef"],[289,44,313,42],[289,45,313,43,"current"],[289,52,313,50],[289,54,313,52,"createAnswer"],[289,66,313,64],[289,67,313,65],[289,68,313,66],[290,6,314,4],[290,12,314,10,"peerConnectionRef"],[290,29,314,27],[290,30,314,28,"current"],[290,37,314,35],[290,39,314,37,"setLocalDescription"],[290,58,314,56],[290,59,314,57,"answer"],[290,65,314,63],[290,66,314,64],[291,6,316,4,"socketRef"],[291,15,316,13],[291,16,316,14,"current"],[291,23,316,21],[291,25,316,23,"emit"],[291,29,316,27],[291,30,316,28],[291,45,316,43],[291,47,316,45],[292,8,317,6,"call_id"],[292,15,317,13],[292,17,317,15,"currentCallIdRef"],[292,33,317,31],[292,34,317,32,"current"],[292,41,317,39],[293,8,318,6,"answer"],[293,14,318,12],[293,16,318,14,"answer"],[294,6,319,4],[294,7,319,5],[294,8,319,6],[295,6,321,4,"setCallState"],[295,18,321,16],[295,19,321,17],[295,30,321,28],[295,31,321,29],[296,6,322,4,"startCallTimer"],[296,20,322,18],[296,21,322,19],[296,22,322,20],[297,4,323,2],[297,5,323,3],[298,4,325,2],[298,10,325,8,"handleAnswer"],[298,22,325,20],[298,25,325,23],[298,31,325,30,"answer"],[298,37,325,63],[298,41,325,68],[299,6,326,4],[299,10,326,8,"Platform"],[299,18,326,16],[299,19,326,16,"default"],[299,26,326,16],[299,27,326,17,"OS"],[299,29,326,19],[299,34,326,24],[299,39,326,29],[299,41,326,31],[300,6,327,4],[300,12,327,10,"peerConnectionRef"],[300,29,327,27],[300,30,327,28,"current"],[300,37,327,35],[300,39,327,37,"setRemoteDescription"],[300,59,327,57],[300,60,327,58],[300,64,327,62,"RTCSessionDescription"],[300,85,327,83],[300,86,327,84,"answer"],[300,92,327,90],[300,93,327,91],[300,94,327,92],[301,6,328,4,"setCallState"],[301,18,328,16],[301,19,328,17],[301,30,328,28],[301,31,328,29],[302,6,329,4,"startCallTimer"],[302,20,329,18],[302,21,329,19],[302,22,329,20],[303,4,330,2],[303,5,330,3],[304,4,332,2],[304,10,332,8,"handleIceCandidate"],[304,28,332,26],[304,31,332,29],[304,37,332,36,"candidate"],[304,46,332,66],[304,50,332,71],[305,6,333,4],[305,10,333,8,"Platform"],[305,18,333,16],[305,19,333,16,"default"],[305,26,333,16],[305,27,333,17,"OS"],[305,29,333,19],[305,34,333,24],[305,39,333,29],[305,43,333,33],[305,44,333,34,"candidate"],[305,53,333,43],[305,55,333,45],[306,6,334,4],[306,12,334,10,"peerConnectionRef"],[306,29,334,27],[306,30,334,28,"current"],[306,37,334,35],[306,39,334,37,"addIceCandidate"],[306,54,334,52],[306,55,334,53],[306,59,334,57,"RTCIceCandidate"],[306,74,334,72],[306,75,334,73,"candidate"],[306,84,334,82],[306,85,334,83],[306,86,334,84],[307,4,335,2],[307,5,335,3],[308,4,337,2],[308,10,337,8,"initiateCall"],[308,22,337,20],[308,25,337,23],[308,31,337,23,"initiateCall"],[308,32,337,30,"targetUserId"],[308,44,337,50],[308,46,337,52,"targetName"],[308,56,337,70],[308,61,337,75],[309,6,338,4],[309,10,338,8,"Platform"],[309,18,338,16],[309,19,338,16,"default"],[309,26,338,16],[309,27,338,17,"OS"],[309,29,338,19],[309,34,338,24],[309,39,338,29],[309,41,338,31],[310,8,339,6,"showAlert"],[310,17,339,15],[310,18,339,16],[310,33,339,31],[310,35,339,33],[310,77,339,75],[310,78,339,76],[311,8,340,6],[312,6,341,4],[313,6,343,4],[313,10,343,8,"callState"],[313,19,343,17],[313,24,343,22],[313,30,343,28],[313,32,343,30],[314,8,344,6,"showAlert"],[314,17,344,15],[314,18,344,16],[314,24,344,22],[314,26,344,24],[314,53,344,51],[314,54,344,52],[315,8,345,6],[316,6,346,4],[318,6,348,4],[319,6,349,4,"initializeSocket"],[319,22,349,20],[319,23,349,21],[319,24,349,22],[320,6,351,4,"setCallInfo"],[320,17,351,15],[320,18,351,16],[321,8,352,6,"callId"],[321,14,352,12],[321,16,352,14],[321,18,352,16],[322,8,353,6,"peerName"],[322,16,353,14],[322,18,353,16,"targetName"],[322,28,353,26],[323,8,354,6,"callType"],[323,16,354,14],[323,18,354,16],[323,25,354,23],[324,8,355,6,"isIncoming"],[324,18,355,16],[324,20,355,18],[325,6,356,4],[325,7,356,5],[325,8,356,6],[326,6,357,4,"setCallState"],[326,18,357,16],[326,19,357,17],[326,31,357,29],[326,32,357,30],[328,6,359,4],[329,6,360,4],[329,10,360,8,"attempts"],[329,18,360,16],[329,21,360,19],[329,22,360,20],[330,6,361,4],[330,13,361,11],[330,14,361,12,"socketRef"],[330,23,361,21],[330,24,361,22,"current"],[330,31,361,29],[330,33,361,31,"connected"],[330,42,361,40],[330,46,361,44,"attempts"],[330,54,361,52],[330,57,361,55],[330,59,361,57],[330,61,361,59],[331,8,362,6],[331,14,362,12],[331,18,362,16,"Promise"],[331,25,362,23],[331,26,362,25,"resolve"],[331,33,362,32],[331,37,362,37,"setTimeout"],[331,47,362,47],[331,48,362,48,"resolve"],[331,55,362,55],[331,57,362,57],[331,60,362,60],[331,61,362,61],[331,62,362,62],[332,8,363,6,"attempts"],[332,16,363,14],[332,18,363,16],[333,6,364,4],[334,6,366,4],[334,10,366,8],[334,11,366,9,"socketRef"],[334,20,366,18],[334,21,366,19,"current"],[334,28,366,26],[334,30,366,28,"connected"],[334,39,366,37],[334,41,366,39],[335,8,367,6,"showAlert"],[335,17,367,15],[335,18,367,16],[335,36,367,34],[335,38,367,36],[335,91,367,89],[335,92,367,90],[336,8,368,6,"cleanupCall"],[336,19,368,17],[336,20,368,18],[336,21,368,19],[337,8,369,6],[338,6,370,4],[340,6,372,4],[341,6,373,4],[341,12,373,10,"callerId"],[341,20,373,18],[341,23,373,21],[341,35,373,33,"Date"],[341,39,373,37],[341,40,373,38,"now"],[341,43,373,41],[341,44,373,42],[341,45,373,43],[341,47,373,45],[343,6,375,4],[344,6,376,4,"socketRef"],[344,15,376,13],[344,16,376,14,"current"],[344,23,376,21],[344,25,376,23,"emit"],[344,29,376,27],[344,30,376,28],[344,40,376,38],[344,42,376,40],[345,8,377,6,"user_id"],[345,15,377,13],[345,17,377,15,"callerId"],[345,25,377,23],[346,8,378,6,"user_type"],[346,17,378,15],[346,19,378,17],[346,25,378,23],[347,8,379,6,"name"],[347,12,379,10],[347,14,379,12],[347,24,379,22],[348,8,380,6,"status"],[348,14,380,12],[348,16,380,14],[349,6,381,4],[349,7,381,5],[349,8,381,6],[351,6,383,4],[352,6,384,4],[352,12,384,10],[352,16,384,14,"Promise"],[352,23,384,21],[352,24,384,23,"resolve"],[352,31,384,30],[352,35,384,35,"setTimeout"],[352,45,384,45],[352,46,384,46,"resolve"],[352,53,384,53],[352,55,384,55],[352,58,384,58],[352,59,384,59],[352,60,384,60],[354,6,386,4],[355,6,387,4,"socketRef"],[355,15,387,13],[355,16,387,14,"current"],[355,23,387,21],[355,25,387,23,"emit"],[355,29,387,27],[355,30,387,28],[355,45,387,43],[355,47,387,45],[356,8,388,6,"target_user_id"],[356,22,388,20],[356,24,388,22,"targetUserId"],[356,36,388,34],[357,8,389,6,"caller_name"],[357,19,389,17],[357,21,389,19],[357,31,389,29],[358,8,390,6,"call_type"],[358,17,390,15],[358,19,390,17],[359,6,391,4],[359,7,391,5],[359,8,391,6],[360,4,392,2],[360,5,392,3],[361,4,394,2],[361,10,394,8,"acceptCall"],[361,20,394,18],[361,23,394,21],[361,27,394,21,"useCallback"],[361,33,394,32],[361,34,394,32,"useCallback"],[361,45,394,32],[361,47,394,33],[361,53,394,39],[362,6,395,4],[362,10,395,8],[362,11,395,9,"currentCallIdRef"],[362,27,395,25],[362,28,395,26,"current"],[362,35,395,33],[362,37,395,35],[363,6,396,4,"socketRef"],[363,15,396,13],[363,16,396,14,"current"],[363,23,396,21],[363,25,396,23,"emit"],[363,29,396,27],[363,30,396,28],[363,43,396,41],[363,45,396,43],[364,8,396,45,"call_id"],[364,15,396,52],[364,17,396,54,"currentCallIdRef"],[364,33,396,70],[364,34,396,71,"current"],[365,6,396,79],[365,7,396,80],[365,8,396,81],[366,6,397,4,"setCallState"],[366,18,397,16],[366,19,397,17],[366,31,397,29],[366,32,397,30],[367,6,398,4,"startWebRTCConnection"],[367,27,398,25],[367,28,398,26],[367,33,398,31],[367,34,398,32],[368,4,399,2],[368,5,399,3],[368,7,399,5],[368,9,399,7],[368,10,399,8],[369,4,401,2],[369,10,401,8,"rejectCall"],[369,20,401,18],[369,23,401,21],[369,27,401,21,"useCallback"],[369,33,401,32],[369,34,401,32,"useCallback"],[369,45,401,32],[369,47,401,33],[369,53,401,39],[370,6,402,4],[370,10,402,8,"currentCallIdRef"],[370,26,402,24],[370,27,402,25,"current"],[370,34,402,32],[370,36,402,34],[371,8,403,6,"socketRef"],[371,17,403,15],[371,18,403,16,"current"],[371,25,403,23],[371,27,403,25,"emit"],[371,31,403,29],[371,32,403,30],[371,45,403,43],[371,47,403,45],[372,10,404,8,"call_id"],[372,17,404,15],[372,19,404,17,"currentCallIdRef"],[372,35,404,33],[372,36,404,34,"current"],[372,43,404,41],[373,10,405,8,"reason"],[373,16,405,14],[373,18,405,16],[374,8,406,6],[374,9,406,7],[374,10,406,8],[375,6,407,4],[376,6,408,4,"cleanupCall"],[376,17,408,15],[376,18,408,16],[376,19,408,17],[377,4,409,2],[377,5,409,3],[377,7,409,5],[377,8,409,6,"cleanupCall"],[377,19,409,17],[377,20,409,18],[377,21,409,19],[378,4,411,2],[378,10,411,8,"endCall"],[378,17,411,15],[378,20,411,18],[378,24,411,18,"useCallback"],[378,30,411,29],[378,31,411,29,"useCallback"],[378,42,411,29],[378,44,411,30],[378,50,411,36],[379,6,412,4,"console"],[379,13,412,11],[379,14,412,12,"log"],[379,17,412,15],[379,18,412,16],[379,48,412,46],[379,50,412,48,"currentCallIdRef"],[379,66,412,64],[379,67,412,65,"current"],[379,74,412,72],[379,75,412,73],[380,6,413,4],[380,10,413,8,"currentCallIdRef"],[380,26,413,24],[380,27,413,25,"current"],[380,34,413,32],[380,36,413,34],[381,8,414,6,"socketRef"],[381,17,414,15],[381,18,414,16,"current"],[381,25,414,23],[381,27,414,25,"emit"],[381,31,414,29],[381,32,414,30],[381,42,414,40],[381,44,414,42],[382,10,414,44,"call_id"],[382,17,414,51],[382,19,414,53,"currentCallIdRef"],[382,35,414,69],[382,36,414,70,"current"],[383,8,414,78],[383,9,414,79],[383,10,414,80],[384,6,415,4],[385,6,416,4],[386,6,417,4,"cleanupCall"],[386,17,417,15],[386,18,417,16],[386,19,417,17],[387,4,418,2],[387,5,418,3],[387,7,418,5],[387,8,418,6,"cleanupCall"],[387,19,418,17],[387,20,418,18],[387,21,418,19],[388,4,420,2],[388,8,420,2,"useEffect"],[388,14,420,11],[388,15,420,11,"useEffect"],[388,24,420,11],[388,26,420,12],[388,32,420,18],[389,6,421,4],[389,13,421,11],[389,19,421,17],[390,8,422,6,"cleanupCall"],[390,19,422,17],[390,20,422,18],[390,21,422,19],[391,8,423,6,"socketRef"],[391,17,423,15],[391,18,423,16,"current"],[391,25,423,23],[391,27,423,25,"disconnect"],[391,37,423,35],[391,38,423,36],[391,39,423,37],[392,6,424,4],[392,7,424,5],[393,4,425,2],[393,5,425,3],[393,7,425,5],[393,8,425,6,"cleanupCall"],[393,19,425,17],[393,20,425,18],[393,21,425,19],[394,4,427,2],[394,11,427,9],[395,6,428,4,"callState"],[395,15,428,13],[396,6,429,4,"callInfo"],[396,14,429,12],[397,6,430,4,"isConnected"],[397,17,430,15],[398,6,431,4,"callDuration"],[398,18,431,16],[399,6,432,4,"initiateCall"],[399,18,432,16],[400,6,433,4,"acceptCall"],[400,16,433,14],[401,6,434,4,"rejectCall"],[401,16,434,14],[402,6,435,4,"endCall"],[402,13,435,11],[403,6,436,4,"register"],[404,4,437,2],[404,5,437,3],[405,2,438,0],[406,2,440,7],[406,11,440,16,"formatCallDuration"],[406,29,440,34,"formatCallDuration"],[406,30,440,35,"seconds"],[406,37,440,50],[406,39,440,60],[407,4,441,2],[407,10,441,8,"mins"],[407,14,441,12],[407,17,441,15,"Math"],[407,21,441,19],[407,22,441,20,"floor"],[407,27,441,25],[407,28,441,26,"seconds"],[407,35,441,33],[407,38,441,36],[407,40,441,38],[407,41,441,39],[408,4,442,2],[408,10,442,8,"secs"],[408,14,442,12],[408,17,442,15,"seconds"],[408,24,442,22],[408,27,442,25],[408,29,442,27],[409,4,443,2],[409,11,443,9],[409,14,443,12,"mins"],[409,18,443,16],[409,19,443,17,"toString"],[409,27,443,25],[409,28,443,26],[409,29,443,27],[409,30,443,28,"padStart"],[409,38,443,36],[409,39,443,37],[409,40,443,38],[409,42,443,40],[409,45,443,43],[409,46,443,44],[409,50,443,48,"secs"],[409,54,443,52],[409,55,443,53,"toString"],[409,63,443,61],[409,64,443,62],[409,65,443,63],[409,66,443,64,"padStart"],[409,74,443,72],[409,75,443,73],[409,76,443,74],[409,78,443,76],[409,81,443,79],[409,82,443,80],[409,84,443,82],[410,2,444,0],[411,0,444,1],[411,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","cleanupCallFn","localStreamRef.current.getTracks.forEach$argument_0","cleanupCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OGmC;wBCc;gDCC,uBD;GDe;kCGM;GHE;qCIE;uCCE;sBCC,kBD;KDC;GJC;uCOG;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GPC;+BUG;eCK;KDO;GVC;4BYG;GZW;gCaG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;Gbe;sBkBE;GlBkB;uBmBE;GnBK;6BoBE;GpBG;uBqBE;wBCyB,qCD;sBCsB,qCD;GrBQ;iCuBE;GvBK;iCwBE;GxBQ;8ByBE;GzBO;Y0BE;WCC;KDG;G1BC;CHa;O+BE;C/BI"},"hasCjsExports":false},"type":"js/module"}]}