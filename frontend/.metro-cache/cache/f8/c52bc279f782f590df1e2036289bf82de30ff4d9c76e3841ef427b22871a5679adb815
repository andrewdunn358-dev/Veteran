{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && false) {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Define cleanupCall first since it's used by many other functions\n    const cleanupCallFn = () => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    };\n\n    // Use ref for cleanup to avoid closure issues\n    const cleanupCallRef = (0, _react.useRef)(cleanupCallFn);\n    cleanupCallRef.current = cleanupCallFn;\n    const cleanupCall = (0, _react.useCallback)(() => {\n      cleanupCallRef.current();\n    }, []);\n    const startCallTimer = (0, _react.useCallback)(() => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    }, []);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async data => {\n        console.log('WebRTC: Call accepted', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n        }\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        console.log('WebRTC: Call ended by other party');\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n\n      // Call ringing - store the call ID\n      socketRef.current.on('call_ringing', data => {\n        console.log('WebRTC: Call ringing', data);\n        if (data.call_id) {\n          currentCallIdRef.current = data.call_id;\n          setCallInfo(prev => prev ? {\n            ...prev,\n            callId: data.call_id\n          } : null);\n        }\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_reject', {\n          call_id: currentCallIdRef.current,\n          reason: 'rejected'\n        });\n      }\n      cleanupCall();\n    }, [cleanupCall]);\n    const endCall = (0, _react.useCallback)(() => {\n      console.log('WebRTC: Ending call, callId:', currentCallIdRef.current);\n      if (currentCallIdRef.current) {\n        socketRef.current?.emit('call_end', {\n          call_id: currentCallIdRef.current\n        });\n      }\n      // Always cleanup even if no call ID (allows cancel during connecting)\n      cleanupCall();\n    }, [cleanupCall]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":404,"map":[[12,2,54,0,"exports"],[12,9,54,0],[12,10,54,0,"useWebRTCCall"],[12,23,54,0],[12,26,54,0,"useWebRTCCall"],[12,39,54,0],[13,2,436,0,"exports"],[13,9,436,0],[13,10,436,0,"formatCallDuration"],[13,28,436,0],[13,31,436,0,"formatCallDuration"],[13,49,436,0],[14,2,7,0],[14,6,7,0,"_react"],[14,12,7,0],[14,15,7,0,"require"],[14,22,7,0],[14,23,7,0,"_dependencyMap"],[14,37,7,0],[15,2,7,65],[15,6,7,65,"_reactNativeWebDistExportsPlatform"],[15,40,7,65],[15,43,7,65,"require"],[15,50,7,65],[15,51,7,65,"_dependencyMap"],[15,65,7,65],[16,2,7,65],[16,6,7,65,"Platform"],[16,14,7,65],[16,17,7,65,"_interopDefault"],[16,32,7,65],[16,33,7,65,"_reactNativeWebDistExportsPlatform"],[16,67,7,65],[17,2,9,0],[17,6,9,0,"_socketIoClient"],[17,21,9,0],[17,24,9,0,"require"],[17,31,9,0],[17,32,9,0,"_dependencyMap"],[17,46,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[24,2,11,0],[24,8,11,6,"API_URL"],[24,15,11,13],[24,18,11,16,"process"],[24,25,11,23],[24,26,11,24,"env"],[24,29,11,27],[24,30,11,28,"EXPO_PUBLIC_BACKEND_URL"],[24,53,11,51],[24,57,11,55],[24,59,11,57],[26,2,13,0],[27,2,14,0],[27,8,14,6,"showAlert"],[27,17,14,15],[27,20,14,18,"showAlert"],[27,21,14,19,"title"],[27,26,14,32],[27,28,14,34,"message"],[27,35,14,49],[27,40,14,54],[28,4,15,2],[28,8,15,6,"Platform"],[28,16,15,14],[28,17,15,14,"default"],[28,24,15,14],[28,25,15,15,"OS"],[28,27,15,17],[28,32,15,22],[28,37,15,27],[28,46,15,60],[28,48,15,62],[29,6,16,4,"window"],[29,12,16,10],[29,13,16,11,"alert"],[29,18,16,16],[29,19,16,17],[29,22,16,20,"title"],[29,27,16,25],[29,34,16,32,"message"],[29,41,16,39],[29,43,16,41],[29,44,16,42],[30,4,17,2],[30,5,17,3],[30,11,17,9],[31,6,18,4],[32,6,19,4,"require"],[32,13,19,4],[32,14,19,4,"_dependencyMap"],[32,28,19,4],[32,71,19,4,"_dependencyMap"],[32,85,19,4],[32,90,19,4,"_dependencyMap"],[32,104,19,4],[32,105,19,4,"paths"],[32,110,19,4],[32,128,19,27,"then"],[32,132,19,31],[32,133,19,32],[32,134,19,33],[33,8,19,35,"Alert"],[34,6,19,41],[34,7,19,42],[34,12,19,47],[35,8,20,6,"Alert"],[35,13,20,11],[35,14,20,12,"alert"],[35,19,20,17],[35,20,20,18,"title"],[35,25,20,23],[35,27,20,25,"message"],[35,34,20,32],[35,35,20,33],[36,6,21,4],[36,7,21,5],[36,8,21,6],[37,4,22,2],[38,2,23,0],[38,3,23,1],[40,2,25,0],[41,2,26,0],[41,8,26,6,"RTC_CONFIG"],[41,18,26,16],[41,21,26,19],[42,4,27,2,"iceServers"],[42,14,27,12],[42,16,27,14],[42,17,28,4],[43,6,28,6,"urls"],[43,10,28,10],[43,12,28,12],[44,4,28,43],[44,5,28,44],[44,7,29,4],[45,6,29,6,"urls"],[45,10,29,10],[45,12,29,12],[46,4,29,44],[46,5,29,45],[47,2,31,0],[47,3,31,1],[48,2,54,7],[48,11,54,16,"useWebRTCCall"],[48,24,54,29,"useWebRTCCall"],[48,25,54,29],[48,27,54,53],[49,4,55,2],[49,10,55,8],[49,11,55,9,"callState"],[49,20,55,18],[49,22,55,20,"setCallState"],[49,34,55,32],[49,35,55,33],[49,38,55,36],[49,42,55,36,"useState"],[49,48,55,44],[49,49,55,44,"useState"],[49,57,55,44],[49,59,55,56],[49,65,55,62],[49,66,55,63],[50,4,56,2],[50,10,56,8],[50,11,56,9,"callInfo"],[50,19,56,17],[50,21,56,19,"setCallInfo"],[50,32,56,30],[50,33,56,31],[50,36,56,34],[50,40,56,34,"useState"],[50,46,56,42],[50,47,56,42,"useState"],[50,55,56,42],[50,57,56,60],[50,61,56,64],[50,62,56,65],[51,4,57,2],[51,10,57,8],[51,11,57,9,"isConnected"],[51,22,57,20],[51,24,57,22,"setIsConnected"],[51,38,57,36],[51,39,57,37],[51,42,57,40],[51,46,57,40,"useState"],[51,52,57,48],[51,53,57,48,"useState"],[51,61,57,48],[51,63,57,49],[51,68,57,54],[51,69,57,55],[52,4,58,2],[52,10,58,8],[52,11,58,9,"callDuration"],[52,23,58,21],[52,25,58,23,"setCallDuration"],[52,40,58,38],[52,41,58,39],[52,44,58,42],[52,48,58,42,"useState"],[52,54,58,50],[52,55,58,50,"useState"],[52,63,58,50],[52,65,58,51],[52,66,58,52],[52,67,58,53],[53,4,60,2],[53,10,60,8,"socketRef"],[53,19,60,17],[53,22,60,20],[53,26,60,20,"useRef"],[53,32,60,26],[53,33,60,26,"useRef"],[53,39,60,26],[53,41,60,42],[53,45,60,46],[53,46,60,47],[54,4,61,2],[54,10,61,8,"peerConnectionRef"],[54,27,61,25],[54,30,61,28],[54,34,61,28,"useRef"],[54,40,61,34],[54,41,61,34,"useRef"],[54,47,61,34],[54,49,61,61],[54,53,61,65],[54,54,61,66],[55,4,62,2],[55,10,62,8,"localStreamRef"],[55,24,62,22],[55,27,62,25],[55,31,62,25,"useRef"],[55,37,62,31],[55,38,62,31,"useRef"],[55,44,62,31],[55,46,62,52],[55,50,62,56],[55,51,62,57],[56,4,63,2],[56,10,63,8,"remoteAudioRef"],[56,24,63,22],[56,27,63,25],[56,31,63,25,"useRef"],[56,37,63,31],[56,38,63,31,"useRef"],[56,44,63,31],[56,46,63,57],[56,50,63,61],[56,51,63,62],[57,4,64,2],[57,10,64,8,"callTimerRef"],[57,22,64,20],[57,25,64,23],[57,29,64,23,"useRef"],[57,35,64,29],[57,36,64,29,"useRef"],[57,42,64,29],[57,44,64,69],[57,48,64,73],[57,49,64,74],[58,4,65,2],[58,10,65,8,"currentCallIdRef"],[58,26,65,24],[58,29,65,27],[58,33,65,27,"useRef"],[58,39,65,33],[58,40,65,33,"useRef"],[58,46,65,33],[58,48,65,49],[58,52,65,53],[58,53,65,54],[60,4,67,2],[61,4,68,2],[61,10,68,8,"cleanupCallFn"],[61,23,68,21],[61,26,68,24,"cleanupCallFn"],[61,27,68,24],[61,32,68,30],[62,6,69,4,"localStreamRef"],[62,20,69,18],[62,21,69,19,"current"],[62,28,69,26],[62,30,69,28,"getTracks"],[62,39,69,37],[62,40,69,38],[62,41,69,39],[62,42,69,40,"forEach"],[62,49,69,47],[62,50,69,49,"track"],[62,55,69,54],[62,59,69,59,"track"],[62,64,69,64],[62,65,69,65,"stop"],[62,69,69,69],[62,70,69,70],[62,71,69,71],[62,72,69,72],[63,6,70,4,"localStreamRef"],[63,20,70,18],[63,21,70,19,"current"],[63,28,70,26],[63,31,70,29],[63,35,70,33],[64,6,72,4,"peerConnectionRef"],[64,23,72,21],[64,24,72,22,"current"],[64,31,72,29],[64,33,72,31,"close"],[64,38,72,36],[64,39,72,37],[64,40,72,38],[65,6,73,4,"peerConnectionRef"],[65,23,73,21],[65,24,73,22,"current"],[65,31,73,29],[65,34,73,32],[65,38,73,36],[66,6,75,4],[66,10,75,8,"callTimerRef"],[66,22,75,20],[66,23,75,21,"current"],[66,30,75,28],[66,32,75,30],[67,8,76,6,"clearInterval"],[67,21,76,19],[67,22,76,20,"callTimerRef"],[67,34,76,32],[67,35,76,33,"current"],[67,42,76,40],[67,43,76,41],[68,8,77,6,"callTimerRef"],[68,20,77,18],[68,21,77,19,"current"],[68,28,77,26],[68,31,77,29],[68,35,77,33],[69,6,78,4],[70,6,80,4,"currentCallIdRef"],[70,22,80,20],[70,23,80,21,"current"],[70,30,80,28],[70,33,80,31],[70,37,80,35],[71,6,81,4,"setCallState"],[71,18,81,16],[71,19,81,17],[71,25,81,23],[71,26,81,24],[72,6,82,4,"setCallInfo"],[72,17,82,15],[72,18,82,16],[72,22,82,20],[72,23,82,21],[73,6,83,4,"setCallDuration"],[73,21,83,19],[73,22,83,20],[73,23,83,21],[73,24,83,22],[74,4,84,2],[74,5,84,3],[76,4,86,2],[77,4,87,2],[77,10,87,8,"cleanupCallRef"],[77,24,87,22],[77,27,87,25],[77,31,87,25,"useRef"],[77,37,87,31],[77,38,87,31,"useRef"],[77,44,87,31],[77,46,87,32,"cleanupCallFn"],[77,59,87,45],[77,60,87,46],[78,4,88,2,"cleanupCallRef"],[78,18,88,16],[78,19,88,17,"current"],[78,26,88,24],[78,29,88,27,"cleanupCallFn"],[78,42,88,40],[79,4,90,2],[79,10,90,8,"cleanupCall"],[79,21,90,19],[79,24,90,22],[79,28,90,22,"useCallback"],[79,34,90,33],[79,35,90,33,"useCallback"],[79,46,90,33],[79,48,90,34],[79,54,90,40],[80,6,91,4,"cleanupCallRef"],[80,20,91,18],[80,21,91,19,"current"],[80,28,91,26],[80,29,91,27],[80,30,91,28],[81,4,92,2],[81,5,92,3],[81,7,92,5],[81,9,92,7],[81,10,92,8],[82,4,94,2],[82,10,94,8,"startCallTimer"],[82,24,94,22],[82,27,94,25],[82,31,94,25,"useCallback"],[82,37,94,36],[82,38,94,36,"useCallback"],[82,49,94,36],[82,51,94,37],[82,57,94,43],[83,6,95,4,"setCallDuration"],[83,21,95,19],[83,22,95,20],[83,23,95,21],[83,24,95,22],[84,6,96,4,"callTimerRef"],[84,18,96,16],[84,19,96,17,"current"],[84,26,96,24],[84,29,96,27,"setInterval"],[84,40,96,38],[84,41,96,39],[84,47,96,45],[85,8,97,6,"setCallDuration"],[85,23,97,21],[85,24,97,23,"prev"],[85,28,97,27],[85,32,97,32,"prev"],[85,36,97,36],[85,39,97,39],[85,40,97,40],[85,41,97,41],[86,6,98,4],[86,7,98,5],[86,9,98,7],[86,13,98,11],[86,14,98,12],[87,4,99,2],[87,5,99,3],[87,7,99,5],[87,9,99,7],[87,10,99,8],[89,4,101,2],[90,4,102,2],[90,10,102,8,"initializeSocket"],[90,26,102,24],[90,29,102,27],[90,33,102,27,"useCallback"],[90,39,102,38],[90,40,102,38,"useCallback"],[90,51,102,38],[90,53,102,39],[90,59,102,45],[91,6,103,4],[91,10,103,8,"Platform"],[91,18,103,16],[91,19,103,16,"default"],[91,26,103,16],[91,27,103,17,"OS"],[91,29,103,19],[91,34,103,24],[91,39,103,29],[91,41,103,31],[92,6,104,4],[92,10,104,8,"socketRef"],[92,19,104,17],[92,20,104,18,"current"],[92,27,104,25],[92,29,104,27,"connected"],[92,38,104,36],[92,40,104,38],[93,8,105,6,"console"],[93,15,105,13],[93,16,105,14,"log"],[93,19,105,17],[93,20,105,18],[93,54,105,52],[93,55,105,53],[94,8,106,6],[95,6,107,4],[97,6,109,4],[98,6,110,4],[98,10,110,8,"socketRef"],[98,19,110,17],[98,20,110,18,"current"],[98,27,110,25],[98,29,110,27],[99,8,111,6,"console"],[99,15,111,13],[99,16,111,14,"log"],[99,19,111,17],[99,20,111,18],[99,78,111,76],[99,79,111,77],[100,8,112,6,"socketRef"],[100,17,112,15],[100,18,112,16,"current"],[100,25,112,23],[100,26,112,24,"connect"],[100,33,112,31],[100,34,112,32],[100,35,112,33],[101,8,113,6],[102,6,114,4],[104,6,116,4],[105,6,117,4],[105,12,117,10,"backendUrl"],[105,22,117,20],[105,25,117,23,"API_URL"],[105,32,117,30],[106,6,118,4,"console"],[106,13,118,11],[106,14,118,12,"log"],[106,17,118,15],[106,18,118,16],[106,61,118,59],[106,63,118,61,"backendUrl"],[106,73,118,71],[106,74,118,72],[107,6,120,4,"socketRef"],[107,15,120,13],[107,16,120,14,"current"],[107,23,120,21],[107,26,120,24],[107,30,120,24,"io"],[107,45,120,26],[107,46,120,26,"io"],[107,48,120,26],[107,50,120,27,"backendUrl"],[107,60,120,37],[107,62,120,39],[108,8,121,6,"transports"],[108,18,121,16],[108,20,121,18],[108,21,121,19],[108,32,121,30],[108,34,121,32],[108,43,121,41],[108,44,121,42],[109,8,122,6,"reconnection"],[109,20,122,18],[109,22,122,20],[109,26,122,24],[110,8,123,6,"reconnectionAttempts"],[110,28,123,26],[110,30,123,28],[110,32,123,30],[111,8,124,6,"reconnectionDelay"],[111,25,124,23],[111,27,124,25],[111,31,124,29],[112,8,125,6,"timeout"],[112,15,125,13],[112,17,125,15],[112,22,125,20],[113,8,126,6,"path"],[113,12,126,10],[113,14,126,12],[113,30,126,28],[113,31,126,31],[114,6,127,4],[114,7,127,5],[114,8,127,6],[115,6,129,4,"socketRef"],[115,15,129,13],[115,16,129,14,"current"],[115,23,129,21],[115,24,129,22,"on"],[115,26,129,24],[115,27,129,25],[115,36,129,34],[115,38,129,36],[115,44,129,42],[116,8,130,6,"console"],[116,15,130,13],[116,16,130,14,"log"],[116,19,130,17],[116,20,130,18],[116,59,130,57],[116,60,130,58],[117,8,131,6,"setIsConnected"],[117,22,131,20],[117,23,131,21],[117,27,131,25],[117,28,131,26],[118,6,132,4],[118,7,132,5],[118,8,132,6],[119,6,134,4,"socketRef"],[119,15,134,13],[119,16,134,14,"current"],[119,23,134,21],[119,24,134,22,"on"],[119,26,134,24],[119,27,134,25],[119,39,134,37],[119,41,134,39],[119,47,134,45],[120,8,135,6,"console"],[120,15,135,13],[120,16,135,14,"log"],[120,19,135,17],[120,20,135,18],[120,42,135,40],[120,43,135,41],[121,8,136,6,"setIsConnected"],[121,22,136,20],[121,23,136,21],[121,28,136,26],[121,29,136,27],[122,8,137,6,"cleanupCall"],[122,19,137,17],[122,20,137,18],[122,21,137,19],[123,6,138,4],[123,7,138,5],[123,8,138,6],[124,6,140,4,"socketRef"],[124,15,140,13],[124,16,140,14,"current"],[124,23,140,21],[124,24,140,22,"on"],[124,26,140,24],[124,27,140,25],[124,39,140,37],[124,41,140,40,"data"],[124,45,140,49],[124,49,140,54],[125,8,141,6,"console"],[125,15,141,13],[125,16,141,14,"log"],[125,19,141,17],[125,20,141,18],[125,40,141,38],[125,42,141,40,"data"],[125,46,141,44],[125,47,141,45],[126,6,142,4],[126,7,142,5],[126,8,142,6],[128,6,144,4],[129,6,145,4,"socketRef"],[129,15,145,13],[129,16,145,14,"current"],[129,23,145,21],[129,24,145,22,"on"],[129,26,145,24],[129,27,145,25],[129,42,145,40],[129,44,145,43,"data"],[129,48,145,52],[129,52,145,57],[130,8,146,6,"console"],[130,15,146,13],[130,16,146,14,"log"],[130,19,146,17],[130,20,146,18],[130,43,146,41],[130,45,146,43,"data"],[130,49,146,47],[130,50,146,48],[131,8,147,6,"currentCallIdRef"],[131,24,147,22],[131,25,147,23,"current"],[131,32,147,30],[131,35,147,33,"data"],[131,39,147,37],[131,40,147,38,"call_id"],[131,47,147,45],[132,8,148,6,"setCallInfo"],[132,19,148,17],[132,20,148,18],[133,10,149,8,"callId"],[133,16,149,14],[133,18,149,16,"data"],[133,22,149,20],[133,23,149,21,"call_id"],[133,30,149,28],[134,10,150,8,"peerName"],[134,18,150,16],[134,20,150,18,"data"],[134,24,150,22],[134,25,150,23,"caller_name"],[134,36,150,34],[135,10,151,8,"callType"],[135,18,151,16],[135,20,151,18,"data"],[135,24,151,22],[135,25,151,23,"call_type"],[135,34,151,32],[135,38,151,36],[135,45,151,43],[136,10,152,8,"isIncoming"],[136,20,152,18],[136,22,152,20],[137,8,153,6],[137,9,153,7],[137,10,153,8],[138,8,154,6,"setCallState"],[138,20,154,18],[138,21,154,19],[138,30,154,28],[138,31,154,29],[139,6,155,4],[139,7,155,5],[139,8,155,6],[141,6,157,4],[142,6,158,4,"socketRef"],[142,15,158,13],[142,16,158,14,"current"],[142,23,158,21],[142,24,158,22,"on"],[142,26,158,24],[142,27,158,25],[142,42,158,40],[142,44,158,42],[142,50,158,49,"data"],[142,54,158,58],[142,58,158,63],[143,8,159,6,"console"],[143,15,159,13],[143,16,159,14,"log"],[143,19,159,17],[143,20,159,18],[143,43,159,41],[143,45,159,43,"data"],[143,49,159,47],[143,50,159,48],[144,8,160,6],[144,12,160,10,"data"],[144,16,160,14],[144,17,160,15,"call_id"],[144,24,160,22],[144,26,160,24],[145,10,161,8,"currentCallIdRef"],[145,26,161,24],[145,27,161,25,"current"],[145,34,161,32],[145,37,161,35,"data"],[145,41,161,39],[145,42,161,40,"call_id"],[145,49,161,47],[146,8,162,6],[147,8,163,6,"setCallState"],[147,20,163,18],[147,21,163,19],[147,33,163,31],[147,34,163,32],[148,8,164,6],[148,14,164,12,"startWebRTCConnection"],[148,35,164,33],[148,36,164,34],[148,40,164,38],[148,41,164,39],[149,6,165,4],[149,7,165,5],[149,8,165,6],[151,6,167,4],[152,6,168,4,"socketRef"],[152,15,168,13],[152,16,168,14,"current"],[152,23,168,21],[152,24,168,22,"on"],[152,26,168,24],[152,27,168,25],[152,43,168,41],[152,45,168,43],[152,51,168,49],[153,8,169,6,"console"],[153,15,169,13],[153,16,169,14,"log"],[153,19,169,17],[153,20,169,18],[153,44,169,42],[153,45,169,43],[154,8,170,6,"setCallState"],[154,20,170,18],[154,21,170,19],[154,32,170,30],[154,33,170,31],[155,8,171,6,"startCallTimer"],[155,22,171,20],[155,23,171,21],[155,24,171,22],[156,6,172,4],[156,7,172,5],[156,8,172,6],[158,6,174,4],[159,6,175,4,"socketRef"],[159,15,175,13],[159,16,175,14,"current"],[159,23,175,21],[159,24,175,22,"on"],[159,26,175,24],[159,27,175,25],[159,42,175,40],[159,44,175,42],[159,50,175,48],[160,8,176,6,"showAlert"],[160,17,176,15],[160,18,176,16],[160,33,176,31],[160,35,176,33],[160,59,176,57],[160,60,176,58],[161,8,177,6,"cleanupCall"],[161,19,177,17],[161,20,177,18],[161,21,177,19],[162,6,178,4],[162,7,178,5],[162,8,178,6],[163,6,180,4,"socketRef"],[163,15,180,13],[163,16,180,14,"current"],[163,23,180,21],[163,24,180,22,"on"],[163,26,180,24],[163,27,180,25],[163,39,180,37],[163,41,180,39],[163,47,180,45],[164,8,181,6,"console"],[164,15,181,13],[164,16,181,14,"log"],[164,19,181,17],[164,20,181,18],[164,55,181,53],[164,56,181,54],[165,8,182,6,"cleanupCall"],[165,19,182,17],[165,20,182,18],[165,21,182,19],[166,6,183,4],[166,7,183,5],[166,8,183,6],[167,6,185,4,"socketRef"],[167,15,185,13],[167,16,185,14,"current"],[167,23,185,21],[167,24,185,22,"on"],[167,26,185,24],[167,27,185,25],[167,40,185,38],[167,42,185,41,"data"],[167,46,185,50],[167,50,185,55],[168,8,186,6,"console"],[168,15,186,13],[168,16,186,14,"log"],[168,19,186,17],[168,20,186,18],[168,41,186,39],[168,43,186,41,"data"],[168,47,186,45],[168,48,186,46],[169,8,187,6,"showAlert"],[169,17,187,15],[169,18,187,16],[169,31,187,29],[169,33,187,31,"data"],[169,37,187,35],[169,38,187,36,"message"],[169,45,187,43],[169,49,187,47],[169,152,187,150],[169,153,187,151],[170,8,188,6,"cleanupCall"],[170,19,188,17],[170,20,188,18],[170,21,188,19],[171,6,189,4],[171,7,189,5],[171,8,189,6],[173,6,191,4],[174,6,192,4,"socketRef"],[174,15,192,13],[174,16,192,14,"current"],[174,23,192,21],[174,24,192,22,"on"],[174,26,192,24],[174,27,192,25],[174,41,192,39],[174,43,192,42,"data"],[174,47,192,51],[174,51,192,56],[175,8,193,6,"console"],[175,15,193,13],[175,16,193,14,"log"],[175,19,193,17],[175,20,193,18],[175,42,193,40],[175,44,193,42,"data"],[175,48,193,46],[175,49,193,47],[176,8,194,6],[176,12,194,10,"data"],[176,16,194,14],[176,17,194,15,"call_id"],[176,24,194,22],[176,26,194,24],[177,10,195,8,"currentCallIdRef"],[177,26,195,24],[177,27,195,25,"current"],[177,34,195,32],[177,37,195,35,"data"],[177,41,195,39],[177,42,195,40,"call_id"],[177,49,195,47],[178,10,196,8,"setCallInfo"],[178,21,196,19],[178,22,196,20,"prev"],[178,26,196,24],[178,30,196,28,"prev"],[178,34,196,32],[178,37,196,35],[179,12,196,37],[179,15,196,40,"prev"],[179,19,196,44],[180,12,196,46,"callId"],[180,18,196,52],[180,20,196,54,"data"],[180,24,196,58],[180,25,196,59,"call_id"],[181,10,196,67],[181,11,196,68],[181,14,196,71],[181,18,196,75],[181,19,196,76],[182,8,197,6],[183,8,198,6,"setCallState"],[183,20,198,18],[183,21,198,19],[183,30,198,28],[183,31,198,29],[184,6,199,4],[184,7,199,5],[184,8,199,6],[186,6,201,4],[187,6,202,4,"socketRef"],[187,15,202,13],[187,16,202,14,"current"],[187,23,202,21],[187,24,202,22,"on"],[187,26,202,24],[187,27,202,25],[187,41,202,39],[187,43,202,41],[187,49,202,48,"data"],[187,53,202,57],[187,57,202,62],[188,8,203,6],[188,14,203,12,"handleOffer"],[188,25,203,23],[188,26,203,24,"data"],[188,30,203,28],[188,31,203,29,"offer"],[188,36,203,34],[188,37,203,35],[189,6,204,4],[189,7,204,5],[189,8,204,6],[190,6,206,4,"socketRef"],[190,15,206,13],[190,16,206,14,"current"],[190,23,206,21],[190,24,206,22,"on"],[190,26,206,24],[190,27,206,25],[190,42,206,40],[190,44,206,42],[190,50,206,49,"data"],[190,54,206,58],[190,58,206,63],[191,8,207,6],[191,14,207,12,"handleAnswer"],[191,26,207,24],[191,27,207,25,"data"],[191,31,207,29],[191,32,207,30,"answer"],[191,38,207,36],[191,39,207,37],[192,6,208,4],[192,7,208,5],[192,8,208,6],[193,6,210,4,"socketRef"],[193,15,210,13],[193,16,210,14,"current"],[193,23,210,21],[193,24,210,22,"on"],[193,26,210,24],[193,27,210,25],[193,49,210,47],[193,51,210,49],[193,57,210,56,"data"],[193,61,210,65],[193,65,210,70],[194,8,211,6],[194,14,211,12,"handleIceCandidate"],[194,32,211,30],[194,33,211,31,"data"],[194,37,211,35],[194,38,211,36,"candidate"],[194,47,211,45],[194,48,211,46],[195,6,212,4],[195,7,212,5],[195,8,212,6],[196,4,213,2],[196,5,213,3],[196,7,213,5],[196,9,213,7],[196,10,213,8],[198,4,215,2],[199,4,216,2],[199,10,216,8,"register"],[199,18,216,16],[199,21,216,19],[199,25,216,19,"useCallback"],[199,31,216,30],[199,32,216,30,"useCallback"],[199,43,216,30],[199,45,216,31],[199,46,216,32,"userId"],[199,52,216,46],[199,54,216,48,"userType"],[199,62,216,64],[199,64,216,66,"userName"],[199,72,216,82],[199,77,216,87],[200,6,217,4],[200,10,217,8,"Platform"],[200,18,217,16],[200,19,217,16,"default"],[200,26,217,16],[200,27,217,17,"OS"],[200,29,217,19],[200,34,217,24],[200,39,217,29],[200,41,217,31],[201,6,219,4,"initializeSocket"],[201,22,219,20],[201,23,219,21],[201,24,219,22],[202,6,221,4,"setTimeout"],[202,16,221,14],[202,17,221,15],[202,23,221,21],[203,8,222,6,"socketRef"],[203,17,222,15],[203,18,222,16,"current"],[203,25,222,23],[203,27,222,25,"emit"],[203,31,222,29],[203,32,222,30],[203,42,222,40],[203,44,222,42],[204,10,223,8,"user_id"],[204,17,223,15],[204,19,223,17,"userId"],[204,25,223,23],[205,10,224,8,"user_type"],[205,19,224,17],[205,21,224,19,"userType"],[205,29,224,27],[206,10,225,8,"name"],[206,14,225,12],[206,16,225,14,"userName"],[206,24,225,22],[207,10,226,8,"status"],[207,16,226,14],[207,18,226,16],[208,8,227,6],[208,9,227,7],[208,10,227,8],[209,6,228,4],[209,7,228,5],[209,9,228,7],[209,13,228,11],[209,14,228,12],[210,4,229,2],[210,5,229,3],[210,7,229,5],[210,8,229,6,"initializeSocket"],[210,24,229,22],[210,25,229,23],[210,26,229,24],[212,4,231,2],[213,4,232,2],[213,10,232,8,"ensureRemoteAudio"],[213,27,232,25],[213,30,232,28,"ensureRemoteAudio"],[213,31,232,28],[213,36,232,34],[214,6,233,4],[214,10,233,8,"Platform"],[214,18,233,16],[214,19,233,16,"default"],[214,26,233,16],[214,27,233,17,"OS"],[214,29,233,19],[214,34,233,24],[214,39,233,29],[214,41,233,31],[214,48,233,38],[214,52,233,42],[215,6,235,4],[215,10,235,8],[215,11,235,9,"remoteAudioRef"],[215,25,235,23],[215,26,235,24,"current"],[215,33,235,31],[215,35,235,33],[216,8,236,6],[216,14,236,12,"audio"],[216,19,236,17],[216,22,236,20,"document"],[216,30,236,28],[216,31,236,29,"createElement"],[216,44,236,42],[216,45,236,43],[216,52,236,50],[216,53,236,51],[217,8,237,6,"audio"],[217,13,237,11],[217,14,237,12,"autoplay"],[217,22,237,20],[217,25,237,23],[217,29,237,27],[218,8,238,6,"audio"],[218,13,238,11],[218,14,238,12,"id"],[218,16,238,14],[218,19,238,17],[218,40,238,38],[219,8,239,6,"document"],[219,16,239,14],[219,17,239,15,"body"],[219,21,239,19],[219,22,239,20,"appendChild"],[219,33,239,31],[219,34,239,32,"audio"],[219,39,239,37],[219,40,239,38],[220,8,240,6,"remoteAudioRef"],[220,22,240,20],[220,23,240,21,"current"],[220,30,240,28],[220,33,240,31,"audio"],[220,38,240,36],[221,6,241,4],[222,6,242,4],[222,13,242,11,"remoteAudioRef"],[222,27,242,25],[222,28,242,26,"current"],[222,35,242,33],[223,4,243,2],[223,5,243,3],[225,4,245,2],[226,4,246,2],[226,10,246,8,"startWebRTCConnection"],[226,31,246,29],[226,34,246,32],[226,40,246,39,"createOffer"],[226,51,246,59],[226,55,246,64],[227,6,247,4],[227,10,247,8,"Platform"],[227,18,247,16],[227,19,247,16,"default"],[227,26,247,16],[227,27,247,17,"OS"],[227,29,247,19],[227,34,247,24],[227,39,247,29],[227,41,247,31],[228,6,249,4],[228,10,249,8],[229,8,250,6],[229,14,250,12,"stream"],[229,20,250,18],[229,23,250,21],[229,29,250,27,"navigator"],[229,38,250,36],[229,39,250,37,"mediaDevices"],[229,51,250,49],[229,52,250,50,"getUserMedia"],[229,64,250,62],[229,65,250,63],[230,10,250,65,"audio"],[230,15,250,70],[230,17,250,72],[230,21,250,76],[231,10,250,78,"video"],[231,15,250,83],[231,17,250,85],[232,8,250,91],[232,9,250,92],[232,10,250,93],[233,8,251,6,"localStreamRef"],[233,22,251,20],[233,23,251,21,"current"],[233,30,251,28],[233,33,251,31,"stream"],[233,39,251,37],[234,8,253,6],[234,14,253,12,"pc"],[234,16,253,14],[234,19,253,17],[234,23,253,21,"RTCPeerConnection"],[234,40,253,38],[234,41,253,39,"RTC_CONFIG"],[234,51,253,49],[234,52,253,50],[235,8,254,6,"peerConnectionRef"],[235,25,254,23],[235,26,254,24,"current"],[235,33,254,31],[235,36,254,34,"pc"],[235,38,254,36],[236,8,256,6,"stream"],[236,14,256,12],[236,15,256,13,"getTracks"],[236,24,256,22],[236,25,256,23],[236,26,256,24],[236,27,256,25,"forEach"],[236,34,256,32],[236,35,256,34,"track"],[236,40,256,39],[236,44,256,44],[237,10,257,8,"pc"],[237,12,257,10],[237,13,257,11,"addTrack"],[237,21,257,19],[237,22,257,20,"track"],[237,27,257,25],[237,29,257,27,"stream"],[237,35,257,33],[237,36,257,34],[238,8,258,6],[238,9,258,7],[238,10,258,8],[239,8,260,6,"pc"],[239,10,260,8],[239,11,260,9,"onicecandidate"],[239,25,260,23],[239,28,260,27,"event"],[239,33,260,32],[239,37,260,37],[240,10,261,8],[240,14,261,12,"event"],[240,19,261,17],[240,20,261,18,"candidate"],[240,29,261,27],[240,31,261,29],[241,12,262,10,"socketRef"],[241,21,262,19],[241,22,262,20,"current"],[241,29,262,27],[241,31,262,29,"emit"],[241,35,262,33],[241,36,262,34],[241,58,262,56],[241,60,262,58],[242,14,263,12,"call_id"],[242,21,263,19],[242,23,263,21,"currentCallIdRef"],[242,39,263,37],[242,40,263,38,"current"],[242,47,263,45],[243,14,264,12,"candidate"],[243,23,264,21],[243,25,264,23,"event"],[243,30,264,28],[243,31,264,29,"candidate"],[244,12,265,10],[244,13,265,11],[244,14,265,12],[245,10,266,8],[246,8,267,6],[246,9,267,7],[247,8,269,6,"pc"],[247,10,269,8],[247,11,269,9,"ontrack"],[247,18,269,16],[247,21,269,20,"event"],[247,26,269,25],[247,30,269,30],[248,10,270,8],[248,16,270,14,"audio"],[248,21,270,19],[248,24,270,22,"ensureRemoteAudio"],[248,41,270,39],[248,42,270,40],[248,43,270,41],[249,10,271,8],[249,14,271,12,"audio"],[249,19,271,17],[249,21,271,19],[250,12,272,10,"audio"],[250,17,272,15],[250,18,272,16,"srcObject"],[250,27,272,25],[250,30,272,28,"event"],[250,35,272,33],[250,36,272,34,"streams"],[250,43,272,41],[250,44,272,42],[250,45,272,43],[250,46,272,44],[251,12,273,10,"audio"],[251,17,273,15],[251,18,273,16,"play"],[251,22,273,20],[251,23,273,21],[251,24,273,22],[251,25,273,23,"catch"],[251,30,273,28],[251,31,273,29,"console"],[251,38,273,36],[251,39,273,37,"error"],[251,44,273,42],[251,45,273,43],[252,10,274,8],[253,8,275,6],[253,9,275,7],[254,8,277,6,"pc"],[254,10,277,8],[254,11,277,9,"onconnectionstatechange"],[254,34,277,32],[254,37,277,35],[254,43,277,41],[255,10,278,8],[255,14,278,12,"pc"],[255,16,278,14],[255,17,278,15,"connectionState"],[255,32,278,30],[255,37,278,35],[255,48,278,46],[255,50,278,48],[256,12,279,10,"setCallState"],[256,24,279,22],[256,25,279,23],[256,36,279,34],[256,37,279,35],[257,12,280,10,"startCallTimer"],[257,26,280,24],[257,27,280,25],[257,28,280,26],[258,10,281,8],[258,11,281,9],[258,17,281,15],[258,21,281,19,"pc"],[258,23,281,21],[258,24,281,22,"connectionState"],[258,39,281,37],[258,44,281,42],[258,58,281,56],[258,62,281,60,"pc"],[258,64,281,62],[258,65,281,63,"connectionState"],[258,80,281,78],[258,85,281,83],[258,93,281,91],[258,95,281,93],[259,12,282,10,"cleanupCall"],[259,23,282,21],[259,24,282,22],[259,25,282,23],[260,10,283,8],[261,8,284,6],[261,9,284,7],[262,8,286,6],[262,12,286,10,"createOffer"],[262,23,286,21],[262,25,286,23],[263,10,287,8],[263,16,287,14,"offer"],[263,21,287,19],[263,24,287,22],[263,30,287,28,"pc"],[263,32,287,30],[263,33,287,31,"createOffer"],[263,44,287,42],[263,45,287,43],[263,46,287,44],[264,10,288,8],[264,16,288,14,"pc"],[264,18,288,16],[264,19,288,17,"setLocalDescription"],[264,38,288,36],[264,39,288,37,"offer"],[264,44,288,42],[264,45,288,43],[265,10,289,8,"socketRef"],[265,19,289,17],[265,20,289,18,"current"],[265,27,289,25],[265,29,289,27,"emit"],[265,33,289,31],[265,34,289,32],[265,48,289,46],[265,50,289,48],[266,12,290,10,"call_id"],[266,19,290,17],[266,21,290,19,"currentCallIdRef"],[266,37,290,35],[266,38,290,36,"current"],[266,45,290,43],[267,12,291,10,"offer"],[267,17,291,15],[267,19,291,17,"offer"],[268,10,292,8],[268,11,292,9],[268,12,292,10],[269,8,293,6],[270,6,294,4],[270,7,294,5],[270,8,294,6],[270,15,294,13,"error"],[270,20,294,18],[270,22,294,20],[271,8,295,6,"console"],[271,15,295,13],[271,16,295,14,"error"],[271,21,295,19],[271,22,295,20],[271,37,295,35],[271,39,295,37,"error"],[271,44,295,42],[271,45,295,43],[272,8,296,6,"showAlert"],[272,17,296,15],[272,18,296,16],[272,36,296,34],[272,38,296,36],[272,125,296,123],[272,126,296,124],[273,8,297,6,"cleanupCall"],[273,19,297,17],[273,20,297,18],[273,21,297,19],[274,6,298,4],[275,4,299,2],[275,5,299,3],[276,4,301,2],[276,10,301,8,"handleOffer"],[276,21,301,19],[276,24,301,22],[276,30,301,29,"offer"],[276,35,301,61],[276,39,301,66],[277,6,302,4],[277,10,302,8,"Platform"],[277,18,302,16],[277,19,302,16,"default"],[277,26,302,16],[277,27,302,17,"OS"],[277,29,302,19],[277,34,302,24],[277,39,302,29],[277,41,302,31],[278,6,304,4],[278,10,304,8],[278,11,304,9,"peerConnectionRef"],[278,28,304,26],[278,29,304,27,"current"],[278,36,304,34],[278,38,304,36],[279,8,305,6],[279,14,305,12,"startWebRTCConnection"],[279,35,305,33],[279,36,305,34],[279,41,305,39],[279,42,305,40],[280,6,306,4],[281,6,308,4],[281,12,308,10,"peerConnectionRef"],[281,29,308,27],[281,30,308,28,"current"],[281,37,308,35],[281,39,308,37,"setRemoteDescription"],[281,59,308,57],[281,60,308,58],[281,64,308,62,"RTCSessionDescription"],[281,85,308,83],[281,86,308,84,"offer"],[281,91,308,89],[281,92,308,90],[281,93,308,91],[282,6,309,4],[282,12,309,10,"answer"],[282,18,309,16],[282,21,309,19],[282,27,309,25,"peerConnectionRef"],[282,44,309,42],[282,45,309,43,"current"],[282,52,309,50],[282,54,309,52,"createAnswer"],[282,66,309,64],[282,67,309,65],[282,68,309,66],[283,6,310,4],[283,12,310,10,"peerConnectionRef"],[283,29,310,27],[283,30,310,28,"current"],[283,37,310,35],[283,39,310,37,"setLocalDescription"],[283,58,310,56],[283,59,310,57,"answer"],[283,65,310,63],[283,66,310,64],[284,6,312,4,"socketRef"],[284,15,312,13],[284,16,312,14,"current"],[284,23,312,21],[284,25,312,23,"emit"],[284,29,312,27],[284,30,312,28],[284,45,312,43],[284,47,312,45],[285,8,313,6,"call_id"],[285,15,313,13],[285,17,313,15,"currentCallIdRef"],[285,33,313,31],[285,34,313,32,"current"],[285,41,313,39],[286,8,314,6,"answer"],[286,14,314,12],[286,16,314,14,"answer"],[287,6,315,4],[287,7,315,5],[287,8,315,6],[288,6,317,4,"setCallState"],[288,18,317,16],[288,19,317,17],[288,30,317,28],[288,31,317,29],[289,6,318,4,"startCallTimer"],[289,20,318,18],[289,21,318,19],[289,22,318,20],[290,4,319,2],[290,5,319,3],[291,4,321,2],[291,10,321,8,"handleAnswer"],[291,22,321,20],[291,25,321,23],[291,31,321,30,"answer"],[291,37,321,63],[291,41,321,68],[292,6,322,4],[292,10,322,8,"Platform"],[292,18,322,16],[292,19,322,16,"default"],[292,26,322,16],[292,27,322,17,"OS"],[292,29,322,19],[292,34,322,24],[292,39,322,29],[292,41,322,31],[293,6,323,4],[293,12,323,10,"peerConnectionRef"],[293,29,323,27],[293,30,323,28,"current"],[293,37,323,35],[293,39,323,37,"setRemoteDescription"],[293,59,323,57],[293,60,323,58],[293,64,323,62,"RTCSessionDescription"],[293,85,323,83],[293,86,323,84,"answer"],[293,92,323,90],[293,93,323,91],[293,94,323,92],[294,6,324,4,"setCallState"],[294,18,324,16],[294,19,324,17],[294,30,324,28],[294,31,324,29],[295,6,325,4,"startCallTimer"],[295,20,325,18],[295,21,325,19],[295,22,325,20],[296,4,326,2],[296,5,326,3],[297,4,328,2],[297,10,328,8,"handleIceCandidate"],[297,28,328,26],[297,31,328,29],[297,37,328,36,"candidate"],[297,46,328,66],[297,50,328,71],[298,6,329,4],[298,10,329,8,"Platform"],[298,18,329,16],[298,19,329,16,"default"],[298,26,329,16],[298,27,329,17,"OS"],[298,29,329,19],[298,34,329,24],[298,39,329,29],[298,43,329,33],[298,44,329,34,"candidate"],[298,53,329,43],[298,55,329,45],[299,6,330,4],[299,12,330,10,"peerConnectionRef"],[299,29,330,27],[299,30,330,28,"current"],[299,37,330,35],[299,39,330,37,"addIceCandidate"],[299,54,330,52],[299,55,330,53],[299,59,330,57,"RTCIceCandidate"],[299,74,330,72],[299,75,330,73,"candidate"],[299,84,330,82],[299,85,330,83],[299,86,330,84],[300,4,331,2],[300,5,331,3],[301,4,333,2],[301,10,333,8,"initiateCall"],[301,22,333,20],[301,25,333,23],[301,31,333,23,"initiateCall"],[301,32,333,30,"targetUserId"],[301,44,333,50],[301,46,333,52,"targetName"],[301,56,333,70],[301,61,333,75],[302,6,334,4],[302,10,334,8,"Platform"],[302,18,334,16],[302,19,334,16,"default"],[302,26,334,16],[302,27,334,17,"OS"],[302,29,334,19],[302,34,334,24],[302,39,334,29],[302,41,334,31],[303,8,335,6,"showAlert"],[303,17,335,15],[303,18,335,16],[303,33,335,31],[303,35,335,33],[303,77,335,75],[303,78,335,76],[304,8,336,6],[305,6,337,4],[306,6,339,4],[306,10,339,8,"callState"],[306,19,339,17],[306,24,339,22],[306,30,339,28],[306,32,339,30],[307,8,340,6,"showAlert"],[307,17,340,15],[307,18,340,16],[307,24,340,22],[307,26,340,24],[307,53,340,51],[307,54,340,52],[308,8,341,6],[309,6,342,4],[311,6,344,4],[312,6,345,4,"initializeSocket"],[312,22,345,20],[312,23,345,21],[312,24,345,22],[313,6,347,4,"setCallInfo"],[313,17,347,15],[313,18,347,16],[314,8,348,6,"callId"],[314,14,348,12],[314,16,348,14],[314,18,348,16],[315,8,349,6,"peerName"],[315,16,349,14],[315,18,349,16,"targetName"],[315,28,349,26],[316,8,350,6,"callType"],[316,16,350,14],[316,18,350,16],[316,25,350,23],[317,8,351,6,"isIncoming"],[317,18,351,16],[317,20,351,18],[318,6,352,4],[318,7,352,5],[318,8,352,6],[319,6,353,4,"setCallState"],[319,18,353,16],[319,19,353,17],[319,31,353,29],[319,32,353,30],[321,6,355,4],[322,6,356,4],[322,10,356,8,"attempts"],[322,18,356,16],[322,21,356,19],[322,22,356,20],[323,6,357,4],[323,13,357,11],[323,14,357,12,"socketRef"],[323,23,357,21],[323,24,357,22,"current"],[323,31,357,29],[323,33,357,31,"connected"],[323,42,357,40],[323,46,357,44,"attempts"],[323,54,357,52],[323,57,357,55],[323,59,357,57],[323,61,357,59],[324,8,358,6],[324,14,358,12],[324,18,358,16,"Promise"],[324,25,358,23],[324,26,358,25,"resolve"],[324,33,358,32],[324,37,358,37,"setTimeout"],[324,47,358,47],[324,48,358,48,"resolve"],[324,55,358,55],[324,57,358,57],[324,60,358,60],[324,61,358,61],[324,62,358,62],[325,8,359,6,"attempts"],[325,16,359,14],[325,18,359,16],[326,6,360,4],[327,6,362,4],[327,10,362,8],[327,11,362,9,"socketRef"],[327,20,362,18],[327,21,362,19,"current"],[327,28,362,26],[327,30,362,28,"connected"],[327,39,362,37],[327,41,362,39],[328,8,363,6,"showAlert"],[328,17,363,15],[328,18,363,16],[328,36,363,34],[328,38,363,36],[328,91,363,89],[328,92,363,90],[329,8,364,6,"cleanupCall"],[329,19,364,17],[329,20,364,18],[329,21,364,19],[330,8,365,6],[331,6,366,4],[333,6,368,4],[334,6,369,4],[334,12,369,10,"callerId"],[334,20,369,18],[334,23,369,21],[334,35,369,33,"Date"],[334,39,369,37],[334,40,369,38,"now"],[334,43,369,41],[334,44,369,42],[334,45,369,43],[334,47,369,45],[336,6,371,4],[337,6,372,4,"socketRef"],[337,15,372,13],[337,16,372,14,"current"],[337,23,372,21],[337,25,372,23,"emit"],[337,29,372,27],[337,30,372,28],[337,40,372,38],[337,42,372,40],[338,8,373,6,"user_id"],[338,15,373,13],[338,17,373,15,"callerId"],[338,25,373,23],[339,8,374,6,"user_type"],[339,17,374,15],[339,19,374,17],[339,25,374,23],[340,8,375,6,"name"],[340,12,375,10],[340,14,375,12],[340,24,375,22],[341,8,376,6,"status"],[341,14,376,12],[341,16,376,14],[342,6,377,4],[342,7,377,5],[342,8,377,6],[344,6,379,4],[345,6,380,4],[345,12,380,10],[345,16,380,14,"Promise"],[345,23,380,21],[345,24,380,23,"resolve"],[345,31,380,30],[345,35,380,35,"setTimeout"],[345,45,380,45],[345,46,380,46,"resolve"],[345,53,380,53],[345,55,380,55],[345,58,380,58],[345,59,380,59],[345,60,380,60],[347,6,382,4],[348,6,383,4,"socketRef"],[348,15,383,13],[348,16,383,14,"current"],[348,23,383,21],[348,25,383,23,"emit"],[348,29,383,27],[348,30,383,28],[348,45,383,43],[348,47,383,45],[349,8,384,6,"target_user_id"],[349,22,384,20],[349,24,384,22,"targetUserId"],[349,36,384,34],[350,8,385,6,"caller_name"],[350,19,385,17],[350,21,385,19],[350,31,385,29],[351,8,386,6,"call_type"],[351,17,386,15],[351,19,386,17],[352,6,387,4],[352,7,387,5],[352,8,387,6],[353,4,388,2],[353,5,388,3],[354,4,390,2],[354,10,390,8,"acceptCall"],[354,20,390,18],[354,23,390,21],[354,27,390,21,"useCallback"],[354,33,390,32],[354,34,390,32,"useCallback"],[354,45,390,32],[354,47,390,33],[354,53,390,39],[355,6,391,4],[355,10,391,8],[355,11,391,9,"currentCallIdRef"],[355,27,391,25],[355,28,391,26,"current"],[355,35,391,33],[355,37,391,35],[356,6,392,4,"socketRef"],[356,15,392,13],[356,16,392,14,"current"],[356,23,392,21],[356,25,392,23,"emit"],[356,29,392,27],[356,30,392,28],[356,43,392,41],[356,45,392,43],[357,8,392,45,"call_id"],[357,15,392,52],[357,17,392,54,"currentCallIdRef"],[357,33,392,70],[357,34,392,71,"current"],[358,6,392,79],[358,7,392,80],[358,8,392,81],[359,6,393,4,"setCallState"],[359,18,393,16],[359,19,393,17],[359,31,393,29],[359,32,393,30],[360,6,394,4,"startWebRTCConnection"],[360,27,394,25],[360,28,394,26],[360,33,394,31],[360,34,394,32],[361,4,395,2],[361,5,395,3],[361,7,395,5],[361,9,395,7],[361,10,395,8],[362,4,397,2],[362,10,397,8,"rejectCall"],[362,20,397,18],[362,23,397,21],[362,27,397,21,"useCallback"],[362,33,397,32],[362,34,397,32,"useCallback"],[362,45,397,32],[362,47,397,33],[362,53,397,39],[363,6,398,4],[363,10,398,8,"currentCallIdRef"],[363,26,398,24],[363,27,398,25,"current"],[363,34,398,32],[363,36,398,34],[364,8,399,6,"socketRef"],[364,17,399,15],[364,18,399,16,"current"],[364,25,399,23],[364,27,399,25,"emit"],[364,31,399,29],[364,32,399,30],[364,45,399,43],[364,47,399,45],[365,10,400,8,"call_id"],[365,17,400,15],[365,19,400,17,"currentCallIdRef"],[365,35,400,33],[365,36,400,34,"current"],[365,43,400,41],[366,10,401,8,"reason"],[366,16,401,14],[366,18,401,16],[367,8,402,6],[367,9,402,7],[367,10,402,8],[368,6,403,4],[369,6,404,4,"cleanupCall"],[369,17,404,15],[369,18,404,16],[369,19,404,17],[370,4,405,2],[370,5,405,3],[370,7,405,5],[370,8,405,6,"cleanupCall"],[370,19,405,17],[370,20,405,18],[370,21,405,19],[371,4,407,2],[371,10,407,8,"endCall"],[371,17,407,15],[371,20,407,18],[371,24,407,18,"useCallback"],[371,30,407,29],[371,31,407,29,"useCallback"],[371,42,407,29],[371,44,407,30],[371,50,407,36],[372,6,408,4,"console"],[372,13,408,11],[372,14,408,12,"log"],[372,17,408,15],[372,18,408,16],[372,48,408,46],[372,50,408,48,"currentCallIdRef"],[372,66,408,64],[372,67,408,65,"current"],[372,74,408,72],[372,75,408,73],[373,6,409,4],[373,10,409,8,"currentCallIdRef"],[373,26,409,24],[373,27,409,25,"current"],[373,34,409,32],[373,36,409,34],[374,8,410,6,"socketRef"],[374,17,410,15],[374,18,410,16,"current"],[374,25,410,23],[374,27,410,25,"emit"],[374,31,410,29],[374,32,410,30],[374,42,410,40],[374,44,410,42],[375,10,410,44,"call_id"],[375,17,410,51],[375,19,410,53,"currentCallIdRef"],[375,35,410,69],[375,36,410,70,"current"],[376,8,410,78],[376,9,410,79],[376,10,410,80],[377,6,411,4],[378,6,412,4],[379,6,413,4,"cleanupCall"],[379,17,413,15],[379,18,413,16],[379,19,413,17],[380,4,414,2],[380,5,414,3],[380,7,414,5],[380,8,414,6,"cleanupCall"],[380,19,414,17],[380,20,414,18],[380,21,414,19],[381,4,416,2],[381,8,416,2,"useEffect"],[381,14,416,11],[381,15,416,11,"useEffect"],[381,24,416,11],[381,26,416,12],[381,32,416,18],[382,6,417,4],[382,13,417,11],[382,19,417,17],[383,8,418,6,"cleanupCall"],[383,19,418,17],[383,20,418,18],[383,21,418,19],[384,8,419,6,"socketRef"],[384,17,419,15],[384,18,419,16,"current"],[384,25,419,23],[384,27,419,25,"disconnect"],[384,37,419,35],[384,38,419,36],[384,39,419,37],[385,6,420,4],[385,7,420,5],[386,4,421,2],[386,5,421,3],[386,7,421,5],[386,8,421,6,"cleanupCall"],[386,19,421,17],[386,20,421,18],[386,21,421,19],[387,4,423,2],[387,11,423,9],[388,6,424,4,"callState"],[388,15,424,13],[389,6,425,4,"callInfo"],[389,14,425,12],[390,6,426,4,"isConnected"],[390,17,426,15],[391,6,427,4,"callDuration"],[391,18,427,16],[392,6,428,4,"initiateCall"],[392,18,428,16],[393,6,429,4,"acceptCall"],[393,16,429,14],[394,6,430,4,"rejectCall"],[394,16,430,14],[395,6,431,4,"endCall"],[395,13,431,11],[396,6,432,4,"register"],[397,4,433,2],[397,5,433,3],[398,2,434,0],[399,2,436,7],[399,11,436,16,"formatCallDuration"],[399,29,436,34,"formatCallDuration"],[399,30,436,35,"seconds"],[399,37,436,50],[399,39,436,60],[400,4,437,2],[400,10,437,8,"mins"],[400,14,437,12],[400,17,437,15,"Math"],[400,21,437,19],[400,22,437,20,"floor"],[400,27,437,25],[400,28,437,26,"seconds"],[400,35,437,33],[400,38,437,36],[400,40,437,38],[400,41,437,39],[401,4,438,2],[401,10,438,8,"secs"],[401,14,438,12],[401,17,438,15,"seconds"],[401,24,438,22],[401,27,438,25],[401,29,438,27],[402,4,439,2],[402,11,439,9],[402,14,439,12,"mins"],[402,18,439,16],[402,19,439,17,"toString"],[402,27,439,25],[402,28,439,26],[402,29,439,27],[402,30,439,28,"padStart"],[402,38,439,36],[402,39,439,37],[402,40,439,38],[402,42,439,40],[402,45,439,43],[402,46,439,44],[402,50,439,48,"secs"],[402,54,439,52],[402,55,439,53,"toString"],[402,63,439,61],[402,64,439,62],[402,65,439,63],[402,66,439,64,"padStart"],[402,74,439,72],[402,75,439,73],[402,76,439,74],[402,78,439,76],[402,81,439,79],[402,82,439,80],[402,84,439,82],[403,2,440,0],[404,0,440,1],[404,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","cleanupCallFn","localStreamRef.current.getTracks.forEach$argument_0","cleanupCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","initializeSocket","socketRef.current.on$argument_1","setCallInfo$argument_0","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;wBCc;gDCC,uBD;GDe;kCGM;GHE;qCIE;uCCE;sBCC,kBD;KDC;GJC;uCOG;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDO;2CCG;KDI;0CCG;KDG;uCCE;KDG;wCCE;KDI;yCCG;oBCI,uDD;KDG;yCCG;KDE;0CCE;KDE;iDCE;KDE;GPC;+BUG;eCK;KDO;GVC;4BYG;GZW;gCaG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;Gbe;sBkBE;GlBkB;uBmBE;GnBK;6BoBE;GpBG;uBqBE;wBCyB,qCD;sBCsB,qCD;GrBQ;iCuBE;GvBK;iCwBE;GxBQ;8ByBE;GzBO;Y0BE;WCC;KDG;G1BC;CHa;O+BE;C/BI"},"hasCjsExports":false},"type":"js/module"}]}