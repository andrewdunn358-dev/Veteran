{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":241},"end":{"line":9,"column":46,"index":287}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":26,"index":624}}],"key":"euT909UXKCeh9DY4AxWpZ4DM+MY=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":4,"index":602},"end":{"line":19,"column":31,"index":629}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Web-compatible alert helper\n  const showAlert = (title, message) => {\n    if (Platform.default.OS === 'web' && false) {\n      window.alert(`${title}\\n\\n${message}`);\n    } else {\n      // Import Alert dynamically for native\n      require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"react-native\").then(({\n        Alert\n      }) => {\n        Alert.alert(title, message);\n      });\n    }\n  };\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async () => {\n        console.log('WebRTC: Call accepted');\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        showAlert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        console.log('WebRTC: Call failed', data);\n        showAlert('Call Failed', data.message || 'The person you are trying to call is not available. They may need to log into the staff portal first.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ringing', () => {\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        showAlert('Microphone Error', 'Could not access microphone. Please allow microphone access in your browser settings.');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        showAlert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        showAlert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        showAlert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_reject', {\n        call_id: currentCallIdRef.current,\n        reason: 'rejected'\n      });\n      cleanupCall();\n    }, []);\n    const endCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_end', {\n        call_id: currentCallIdRef.current\n      });\n      cleanupCall();\n    }, []);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":377,"map":[[12,2,54,0,"exports"],[12,9,54,0],[12,10,54,0,"useWebRTCCall"],[12,23,54,0],[12,26,54,0,"useWebRTCCall"],[12,39,54,0],[13,2,413,0,"exports"],[13,9,413,0],[13,10,413,0,"formatCallDuration"],[13,28,413,0],[13,31,413,0,"formatCallDuration"],[13,49,413,0],[14,2,7,0],[14,6,7,0,"_react"],[14,12,7,0],[14,15,7,0,"require"],[14,22,7,0],[14,23,7,0,"_dependencyMap"],[14,37,7,0],[15,2,7,65],[15,6,7,65,"_reactNativeWebDistExportsPlatform"],[15,40,7,65],[15,43,7,65,"require"],[15,50,7,65],[15,51,7,65,"_dependencyMap"],[15,65,7,65],[16,2,7,65],[16,6,7,65,"Platform"],[16,14,7,65],[16,17,7,65,"_interopDefault"],[16,32,7,65],[16,33,7,65,"_reactNativeWebDistExportsPlatform"],[16,67,7,65],[17,2,9,0],[17,6,9,0,"_socketIoClient"],[17,21,9,0],[17,24,9,0,"require"],[17,31,9,0],[17,32,9,0,"_dependencyMap"],[17,46,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[24,2,11,0],[24,8,11,6,"API_URL"],[24,15,11,13],[24,18,11,16,"process"],[24,25,11,23],[24,26,11,24,"env"],[24,29,11,27],[24,30,11,28,"EXPO_PUBLIC_BACKEND_URL"],[24,53,11,51],[24,57,11,55],[24,59,11,57],[26,2,13,0],[27,2,14,0],[27,8,14,6,"showAlert"],[27,17,14,15],[27,20,14,18,"showAlert"],[27,21,14,19,"title"],[27,26,14,32],[27,28,14,34,"message"],[27,35,14,49],[27,40,14,54],[28,4,15,2],[28,8,15,6,"Platform"],[28,16,15,14],[28,17,15,14,"default"],[28,24,15,14],[28,25,15,15,"OS"],[28,27,15,17],[28,32,15,22],[28,37,15,27],[28,46,15,60],[28,48,15,62],[29,6,16,4,"window"],[29,12,16,10],[29,13,16,11,"alert"],[29,18,16,16],[29,19,16,17],[29,22,16,20,"title"],[29,27,16,25],[29,34,16,32,"message"],[29,41,16,39],[29,43,16,41],[29,44,16,42],[30,4,17,2],[30,5,17,3],[30,11,17,9],[31,6,18,4],[32,6,19,4,"require"],[32,13,19,4],[32,14,19,4,"_dependencyMap"],[32,28,19,4],[32,71,19,4,"_dependencyMap"],[32,85,19,4],[32,90,19,4,"_dependencyMap"],[32,104,19,4],[32,105,19,4,"paths"],[32,110,19,4],[32,128,19,27,"then"],[32,132,19,31],[32,133,19,32],[32,134,19,33],[33,8,19,35,"Alert"],[34,6,19,41],[34,7,19,42],[34,12,19,47],[35,8,20,6,"Alert"],[35,13,20,11],[35,14,20,12,"alert"],[35,19,20,17],[35,20,20,18,"title"],[35,25,20,23],[35,27,20,25,"message"],[35,34,20,32],[35,35,20,33],[36,6,21,4],[36,7,21,5],[36,8,21,6],[37,4,22,2],[38,2,23,0],[38,3,23,1],[40,2,25,0],[41,2,26,0],[41,8,26,6,"RTC_CONFIG"],[41,18,26,16],[41,21,26,19],[42,4,27,2,"iceServers"],[42,14,27,12],[42,16,27,14],[42,17,28,4],[43,6,28,6,"urls"],[43,10,28,10],[43,12,28,12],[44,4,28,43],[44,5,28,44],[44,7,29,4],[45,6,29,6,"urls"],[45,10,29,10],[45,12,29,12],[46,4,29,44],[46,5,29,45],[47,2,31,0],[47,3,31,1],[48,2,54,7],[48,11,54,16,"useWebRTCCall"],[48,24,54,29,"useWebRTCCall"],[48,25,54,29],[48,27,54,53],[49,4,55,2],[49,10,55,8],[49,11,55,9,"callState"],[49,20,55,18],[49,22,55,20,"setCallState"],[49,34,55,32],[49,35,55,33],[49,38,55,36],[49,42,55,36,"useState"],[49,48,55,44],[49,49,55,44,"useState"],[49,57,55,44],[49,59,55,56],[49,65,55,62],[49,66,55,63],[50,4,56,2],[50,10,56,8],[50,11,56,9,"callInfo"],[50,19,56,17],[50,21,56,19,"setCallInfo"],[50,32,56,30],[50,33,56,31],[50,36,56,34],[50,40,56,34,"useState"],[50,46,56,42],[50,47,56,42,"useState"],[50,55,56,42],[50,57,56,60],[50,61,56,64],[50,62,56,65],[51,4,57,2],[51,10,57,8],[51,11,57,9,"isConnected"],[51,22,57,20],[51,24,57,22,"setIsConnected"],[51,38,57,36],[51,39,57,37],[51,42,57,40],[51,46,57,40,"useState"],[51,52,57,48],[51,53,57,48,"useState"],[51,61,57,48],[51,63,57,49],[51,68,57,54],[51,69,57,55],[52,4,58,2],[52,10,58,8],[52,11,58,9,"callDuration"],[52,23,58,21],[52,25,58,23,"setCallDuration"],[52,40,58,38],[52,41,58,39],[52,44,58,42],[52,48,58,42,"useState"],[52,54,58,50],[52,55,58,50,"useState"],[52,63,58,50],[52,65,58,51],[52,66,58,52],[52,67,58,53],[53,4,60,2],[53,10,60,8,"socketRef"],[53,19,60,17],[53,22,60,20],[53,26,60,20,"useRef"],[53,32,60,26],[53,33,60,26,"useRef"],[53,39,60,26],[53,41,60,42],[53,45,60,46],[53,46,60,47],[54,4,61,2],[54,10,61,8,"peerConnectionRef"],[54,27,61,25],[54,30,61,28],[54,34,61,28,"useRef"],[54,40,61,34],[54,41,61,34,"useRef"],[54,47,61,34],[54,49,61,61],[54,53,61,65],[54,54,61,66],[55,4,62,2],[55,10,62,8,"localStreamRef"],[55,24,62,22],[55,27,62,25],[55,31,62,25,"useRef"],[55,37,62,31],[55,38,62,31,"useRef"],[55,44,62,31],[55,46,62,52],[55,50,62,56],[55,51,62,57],[56,4,63,2],[56,10,63,8,"remoteAudioRef"],[56,24,63,22],[56,27,63,25],[56,31,63,25,"useRef"],[56,37,63,31],[56,38,63,31,"useRef"],[56,44,63,31],[56,46,63,57],[56,50,63,61],[56,51,63,62],[57,4,64,2],[57,10,64,8,"callTimerRef"],[57,22,64,20],[57,25,64,23],[57,29,64,23,"useRef"],[57,35,64,29],[57,36,64,29,"useRef"],[57,42,64,29],[57,44,64,69],[57,48,64,73],[57,49,64,74],[58,4,65,2],[58,10,65,8,"currentCallIdRef"],[58,26,65,24],[58,29,65,27],[58,33,65,27,"useRef"],[58,39,65,33],[58,40,65,33,"useRef"],[58,46,65,33],[58,48,65,49],[58,52,65,53],[58,53,65,54],[60,4,67,2],[61,4,68,2],[61,10,68,8,"initializeSocket"],[61,26,68,24],[61,29,68,27],[61,33,68,27,"useCallback"],[61,39,68,38],[61,40,68,38,"useCallback"],[61,51,68,38],[61,53,68,39],[61,59,68,45],[62,6,69,4],[62,10,69,8,"Platform"],[62,18,69,16],[62,19,69,16,"default"],[62,26,69,16],[62,27,69,17,"OS"],[62,29,69,19],[62,34,69,24],[62,39,69,29],[62,41,69,31],[63,6,70,4],[63,10,70,8,"socketRef"],[63,19,70,17],[63,20,70,18,"current"],[63,27,70,25],[63,29,70,27,"connected"],[63,38,70,36],[63,40,70,38],[64,8,71,6,"console"],[64,15,71,13],[64,16,71,14,"log"],[64,19,71,17],[64,20,71,18],[64,54,71,52],[64,55,71,53],[65,8,72,6],[66,6,73,4],[68,6,75,4],[69,6,76,4],[69,10,76,8,"socketRef"],[69,19,76,17],[69,20,76,18,"current"],[69,27,76,25],[69,29,76,27],[70,8,77,6,"console"],[70,15,77,13],[70,16,77,14,"log"],[70,19,77,17],[70,20,77,18],[70,78,77,76],[70,79,77,77],[71,8,78,6,"socketRef"],[71,17,78,15],[71,18,78,16,"current"],[71,25,78,23],[71,26,78,24,"connect"],[71,33,78,31],[71,34,78,32],[71,35,78,33],[72,8,79,6],[73,6,80,4],[75,6,82,4],[76,6,83,4],[76,12,83,10,"backendUrl"],[76,22,83,20],[76,25,83,23,"API_URL"],[76,32,83,30],[77,6,84,4,"console"],[77,13,84,11],[77,14,84,12,"log"],[77,17,84,15],[77,18,84,16],[77,61,84,59],[77,63,84,61,"backendUrl"],[77,73,84,71],[77,74,84,72],[78,6,86,4,"socketRef"],[78,15,86,13],[78,16,86,14,"current"],[78,23,86,21],[78,26,86,24],[78,30,86,24,"io"],[78,45,86,26],[78,46,86,26,"io"],[78,48,86,26],[78,50,86,27,"backendUrl"],[78,60,86,37],[78,62,86,39],[79,8,87,6,"transports"],[79,18,87,16],[79,20,87,18],[79,21,87,19],[79,32,87,30],[79,34,87,32],[79,43,87,41],[79,44,87,42],[80,8,88,6,"reconnection"],[80,20,88,18],[80,22,88,20],[80,26,88,24],[81,8,89,6,"reconnectionAttempts"],[81,28,89,26],[81,30,89,28],[81,32,89,30],[82,8,90,6,"reconnectionDelay"],[82,25,90,23],[82,27,90,25],[82,31,90,29],[83,8,91,6,"timeout"],[83,15,91,13],[83,17,91,15],[83,22,91,20],[84,8,92,6,"path"],[84,12,92,10],[84,14,92,12],[84,30,92,28],[84,31,92,31],[85,6,93,4],[85,7,93,5],[85,8,93,6],[86,6,95,4,"socketRef"],[86,15,95,13],[86,16,95,14,"current"],[86,23,95,21],[86,24,95,22,"on"],[86,26,95,24],[86,27,95,25],[86,36,95,34],[86,38,95,36],[86,44,95,42],[87,8,96,6,"console"],[87,15,96,13],[87,16,96,14,"log"],[87,19,96,17],[87,20,96,18],[87,59,96,57],[87,60,96,58],[88,8,97,6,"setIsConnected"],[88,22,97,20],[88,23,97,21],[88,27,97,25],[88,28,97,26],[89,6,98,4],[89,7,98,5],[89,8,98,6],[90,6,100,4,"socketRef"],[90,15,100,13],[90,16,100,14,"current"],[90,23,100,21],[90,24,100,22,"on"],[90,26,100,24],[90,27,100,25],[90,39,100,37],[90,41,100,39],[90,47,100,45],[91,8,101,6,"console"],[91,15,101,13],[91,16,101,14,"log"],[91,19,101,17],[91,20,101,18],[91,42,101,40],[91,43,101,41],[92,8,102,6,"setIsConnected"],[92,22,102,20],[92,23,102,21],[92,28,102,26],[92,29,102,27],[93,8,103,6,"cleanupCall"],[93,19,103,17],[93,20,103,18],[93,21,103,19],[94,6,104,4],[94,7,104,5],[94,8,104,6],[95,6,106,4,"socketRef"],[95,15,106,13],[95,16,106,14,"current"],[95,23,106,21],[95,24,106,22,"on"],[95,26,106,24],[95,27,106,25],[95,39,106,37],[95,41,106,40,"data"],[95,45,106,49],[95,49,106,54],[96,8,107,6,"console"],[96,15,107,13],[96,16,107,14,"log"],[96,19,107,17],[96,20,107,18],[96,40,107,38],[96,42,107,40,"data"],[96,46,107,44],[96,47,107,45],[97,6,108,4],[97,7,108,5],[97,8,108,6],[99,6,110,4],[100,6,111,4,"socketRef"],[100,15,111,13],[100,16,111,14,"current"],[100,23,111,21],[100,24,111,22,"on"],[100,26,111,24],[100,27,111,25],[100,42,111,40],[100,44,111,43,"data"],[100,48,111,52],[100,52,111,57],[101,8,112,6,"console"],[101,15,112,13],[101,16,112,14,"log"],[101,19,112,17],[101,20,112,18],[101,43,112,41],[101,45,112,43,"data"],[101,49,112,47],[101,50,112,48],[102,8,113,6,"currentCallIdRef"],[102,24,113,22],[102,25,113,23,"current"],[102,32,113,30],[102,35,113,33,"data"],[102,39,113,37],[102,40,113,38,"call_id"],[102,47,113,45],[103,8,114,6,"setCallInfo"],[103,19,114,17],[103,20,114,18],[104,10,115,8,"callId"],[104,16,115,14],[104,18,115,16,"data"],[104,22,115,20],[104,23,115,21,"call_id"],[104,30,115,28],[105,10,116,8,"peerName"],[105,18,116,16],[105,20,116,18,"data"],[105,24,116,22],[105,25,116,23,"caller_name"],[105,36,116,34],[106,10,117,8,"callType"],[106,18,117,16],[106,20,117,18,"data"],[106,24,117,22],[106,25,117,23,"call_type"],[106,34,117,32],[106,38,117,36],[106,45,117,43],[107,10,118,8,"isIncoming"],[107,20,118,18],[107,22,118,20],[108,8,119,6],[108,9,119,7],[108,10,119,8],[109,8,120,6,"setCallState"],[109,20,120,18],[109,21,120,19],[109,30,120,28],[109,31,120,29],[110,6,121,4],[110,7,121,5],[110,8,121,6],[112,6,123,4],[113,6,124,4,"socketRef"],[113,15,124,13],[113,16,124,14,"current"],[113,23,124,21],[113,24,124,22,"on"],[113,26,124,24],[113,27,124,25],[113,42,124,40],[113,44,124,42],[113,56,124,54],[114,8,125,6,"console"],[114,15,125,13],[114,16,125,14,"log"],[114,19,125,17],[114,20,125,18],[114,43,125,41],[114,44,125,42],[115,8,126,6,"setCallState"],[115,20,126,18],[115,21,126,19],[115,33,126,31],[115,34,126,32],[116,8,127,6],[116,14,127,12,"startWebRTCConnection"],[116,35,127,33],[116,36,127,34],[116,40,127,38],[116,41,127,39],[117,6,128,4],[117,7,128,5],[117,8,128,6],[119,6,130,4],[120,6,131,4,"socketRef"],[120,15,131,13],[120,16,131,14,"current"],[120,23,131,21],[120,24,131,22,"on"],[120,26,131,24],[120,27,131,25],[120,43,131,41],[120,45,131,43],[120,51,131,49],[121,8,132,6,"console"],[121,15,132,13],[121,16,132,14,"log"],[121,19,132,17],[121,20,132,18],[121,44,132,42],[121,45,132,43],[122,8,133,6,"setCallState"],[122,20,133,18],[122,21,133,19],[122,32,133,30],[122,33,133,31],[123,8,134,6,"startCallTimer"],[123,22,134,20],[123,23,134,21],[123,24,134,22],[124,6,135,4],[124,7,135,5],[124,8,135,6],[126,6,137,4],[127,6,138,4,"socketRef"],[127,15,138,13],[127,16,138,14,"current"],[127,23,138,21],[127,24,138,22,"on"],[127,26,138,24],[127,27,138,25],[127,42,138,40],[127,44,138,42],[127,50,138,48],[128,8,139,6,"showAlert"],[128,17,139,15],[128,18,139,16],[128,33,139,31],[128,35,139,33],[128,59,139,57],[128,60,139,58],[129,8,140,6,"cleanupCall"],[129,19,140,17],[129,20,140,18],[129,21,140,19],[130,6,141,4],[130,7,141,5],[130,8,141,6],[131,6,143,4,"socketRef"],[131,15,143,13],[131,16,143,14,"current"],[131,23,143,21],[131,24,143,22,"on"],[131,26,143,24],[131,27,143,25],[131,39,143,37],[131,41,143,39],[131,47,143,45],[132,8,144,6,"cleanupCall"],[132,19,144,17],[132,20,144,18],[132,21,144,19],[133,6,145,4],[133,7,145,5],[133,8,145,6],[134,6,147,4,"socketRef"],[134,15,147,13],[134,16,147,14,"current"],[134,23,147,21],[134,24,147,22,"on"],[134,26,147,24],[134,27,147,25],[134,40,147,38],[134,42,147,41,"data"],[134,46,147,50],[134,50,147,55],[135,8,148,6,"console"],[135,15,148,13],[135,16,148,14,"log"],[135,19,148,17],[135,20,148,18],[135,41,148,39],[135,43,148,41,"data"],[135,47,148,45],[135,48,148,46],[136,8,149,6,"showAlert"],[136,17,149,15],[136,18,149,16],[136,31,149,29],[136,33,149,31,"data"],[136,37,149,35],[136,38,149,36,"message"],[136,45,149,43],[136,49,149,47],[136,152,149,150],[136,153,149,151],[137,8,150,6,"cleanupCall"],[137,19,150,17],[137,20,150,18],[137,21,150,19],[138,6,151,4],[138,7,151,5],[138,8,151,6],[139,6,153,4,"socketRef"],[139,15,153,13],[139,16,153,14,"current"],[139,23,153,21],[139,24,153,22,"on"],[139,26,153,24],[139,27,153,25],[139,41,153,39],[139,43,153,41],[139,49,153,47],[140,8,154,6,"setCallState"],[140,20,154,18],[140,21,154,19],[140,30,154,28],[140,31,154,29],[141,6,155,4],[141,7,155,5],[141,8,155,6],[143,6,157,4],[144,6,158,4,"socketRef"],[144,15,158,13],[144,16,158,14,"current"],[144,23,158,21],[144,24,158,22,"on"],[144,26,158,24],[144,27,158,25],[144,41,158,39],[144,43,158,41],[144,49,158,48,"data"],[144,53,158,57],[144,57,158,62],[145,8,159,6],[145,14,159,12,"handleOffer"],[145,25,159,23],[145,26,159,24,"data"],[145,30,159,28],[145,31,159,29,"offer"],[145,36,159,34],[145,37,159,35],[146,6,160,4],[146,7,160,5],[146,8,160,6],[147,6,162,4,"socketRef"],[147,15,162,13],[147,16,162,14,"current"],[147,23,162,21],[147,24,162,22,"on"],[147,26,162,24],[147,27,162,25],[147,42,162,40],[147,44,162,42],[147,50,162,49,"data"],[147,54,162,58],[147,58,162,63],[148,8,163,6],[148,14,163,12,"handleAnswer"],[148,26,163,24],[148,27,163,25,"data"],[148,31,163,29],[148,32,163,30,"answer"],[148,38,163,36],[148,39,163,37],[149,6,164,4],[149,7,164,5],[149,8,164,6],[150,6,166,4,"socketRef"],[150,15,166,13],[150,16,166,14,"current"],[150,23,166,21],[150,24,166,22,"on"],[150,26,166,24],[150,27,166,25],[150,49,166,47],[150,51,166,49],[150,57,166,56,"data"],[150,61,166,65],[150,65,166,70],[151,8,167,6],[151,14,167,12,"handleIceCandidate"],[151,32,167,30],[151,33,167,31,"data"],[151,37,167,35],[151,38,167,36,"candidate"],[151,47,167,45],[151,48,167,46],[152,6,168,4],[152,7,168,5],[152,8,168,6],[153,4,169,2],[153,5,169,3],[153,7,169,5],[153,9,169,7],[153,10,169,8],[155,4,171,2],[156,4,172,2],[156,10,172,8,"register"],[156,18,172,16],[156,21,172,19],[156,25,172,19,"useCallback"],[156,31,172,30],[156,32,172,30,"useCallback"],[156,43,172,30],[156,45,172,31],[156,46,172,32,"userId"],[156,52,172,46],[156,54,172,48,"userType"],[156,62,172,64],[156,64,172,66,"userName"],[156,72,172,82],[156,77,172,87],[157,6,173,4],[157,10,173,8,"Platform"],[157,18,173,16],[157,19,173,16,"default"],[157,26,173,16],[157,27,173,17,"OS"],[157,29,173,19],[157,34,173,24],[157,39,173,29],[157,41,173,31],[158,6,175,4,"initializeSocket"],[158,22,175,20],[158,23,175,21],[158,24,175,22],[159,6,177,4,"setTimeout"],[159,16,177,14],[159,17,177,15],[159,23,177,21],[160,8,178,6,"socketRef"],[160,17,178,15],[160,18,178,16,"current"],[160,25,178,23],[160,27,178,25,"emit"],[160,31,178,29],[160,32,178,30],[160,42,178,40],[160,44,178,42],[161,10,179,8,"user_id"],[161,17,179,15],[161,19,179,17,"userId"],[161,25,179,23],[162,10,180,8,"user_type"],[162,19,180,17],[162,21,180,19,"userType"],[162,29,180,27],[163,10,181,8,"name"],[163,14,181,12],[163,16,181,14,"userName"],[163,24,181,22],[164,10,182,8,"status"],[164,16,182,14],[164,18,182,16],[165,8,183,6],[165,9,183,7],[165,10,183,8],[166,6,184,4],[166,7,184,5],[166,9,184,7],[166,13,184,11],[166,14,184,12],[167,4,185,2],[167,5,185,3],[167,7,185,5],[167,8,185,6,"initializeSocket"],[167,24,185,22],[167,25,185,23],[167,26,185,24],[169,4,187,2],[170,4,188,2],[170,10,188,8,"ensureRemoteAudio"],[170,27,188,25],[170,30,188,28,"ensureRemoteAudio"],[170,31,188,28],[170,36,188,34],[171,6,189,4],[171,10,189,8,"Platform"],[171,18,189,16],[171,19,189,16,"default"],[171,26,189,16],[171,27,189,17,"OS"],[171,29,189,19],[171,34,189,24],[171,39,189,29],[171,41,189,31],[171,48,189,38],[171,52,189,42],[172,6,191,4],[172,10,191,8],[172,11,191,9,"remoteAudioRef"],[172,25,191,23],[172,26,191,24,"current"],[172,33,191,31],[172,35,191,33],[173,8,192,6],[173,14,192,12,"audio"],[173,19,192,17],[173,22,192,20,"document"],[173,30,192,28],[173,31,192,29,"createElement"],[173,44,192,42],[173,45,192,43],[173,52,192,50],[173,53,192,51],[174,8,193,6,"audio"],[174,13,193,11],[174,14,193,12,"autoplay"],[174,22,193,20],[174,25,193,23],[174,29,193,27],[175,8,194,6,"audio"],[175,13,194,11],[175,14,194,12,"id"],[175,16,194,14],[175,19,194,17],[175,40,194,38],[176,8,195,6,"document"],[176,16,195,14],[176,17,195,15,"body"],[176,21,195,19],[176,22,195,20,"appendChild"],[176,33,195,31],[176,34,195,32,"audio"],[176,39,195,37],[176,40,195,38],[177,8,196,6,"remoteAudioRef"],[177,22,196,20],[177,23,196,21,"current"],[177,30,196,28],[177,33,196,31,"audio"],[177,38,196,36],[178,6,197,4],[179,6,198,4],[179,13,198,11,"remoteAudioRef"],[179,27,198,25],[179,28,198,26,"current"],[179,35,198,33],[180,4,199,2],[180,5,199,3],[182,4,201,2],[183,4,202,2],[183,10,202,8,"startWebRTCConnection"],[183,31,202,29],[183,34,202,32],[183,40,202,39,"createOffer"],[183,51,202,59],[183,55,202,64],[184,6,203,4],[184,10,203,8,"Platform"],[184,18,203,16],[184,19,203,16,"default"],[184,26,203,16],[184,27,203,17,"OS"],[184,29,203,19],[184,34,203,24],[184,39,203,29],[184,41,203,31],[185,6,205,4],[185,10,205,8],[186,8,206,6],[186,14,206,12,"stream"],[186,20,206,18],[186,23,206,21],[186,29,206,27,"navigator"],[186,38,206,36],[186,39,206,37,"mediaDevices"],[186,51,206,49],[186,52,206,50,"getUserMedia"],[186,64,206,62],[186,65,206,63],[187,10,206,65,"audio"],[187,15,206,70],[187,17,206,72],[187,21,206,76],[188,10,206,78,"video"],[188,15,206,83],[188,17,206,85],[189,8,206,91],[189,9,206,92],[189,10,206,93],[190,8,207,6,"localStreamRef"],[190,22,207,20],[190,23,207,21,"current"],[190,30,207,28],[190,33,207,31,"stream"],[190,39,207,37],[191,8,209,6],[191,14,209,12,"pc"],[191,16,209,14],[191,19,209,17],[191,23,209,21,"RTCPeerConnection"],[191,40,209,38],[191,41,209,39,"RTC_CONFIG"],[191,51,209,49],[191,52,209,50],[192,8,210,6,"peerConnectionRef"],[192,25,210,23],[192,26,210,24,"current"],[192,33,210,31],[192,36,210,34,"pc"],[192,38,210,36],[193,8,212,6,"stream"],[193,14,212,12],[193,15,212,13,"getTracks"],[193,24,212,22],[193,25,212,23],[193,26,212,24],[193,27,212,25,"forEach"],[193,34,212,32],[193,35,212,34,"track"],[193,40,212,39],[193,44,212,44],[194,10,213,8,"pc"],[194,12,213,10],[194,13,213,11,"addTrack"],[194,21,213,19],[194,22,213,20,"track"],[194,27,213,25],[194,29,213,27,"stream"],[194,35,213,33],[194,36,213,34],[195,8,214,6],[195,9,214,7],[195,10,214,8],[196,8,216,6,"pc"],[196,10,216,8],[196,11,216,9,"onicecandidate"],[196,25,216,23],[196,28,216,27,"event"],[196,33,216,32],[196,37,216,37],[197,10,217,8],[197,14,217,12,"event"],[197,19,217,17],[197,20,217,18,"candidate"],[197,29,217,27],[197,31,217,29],[198,12,218,10,"socketRef"],[198,21,218,19],[198,22,218,20,"current"],[198,29,218,27],[198,31,218,29,"emit"],[198,35,218,33],[198,36,218,34],[198,58,218,56],[198,60,218,58],[199,14,219,12,"call_id"],[199,21,219,19],[199,23,219,21,"currentCallIdRef"],[199,39,219,37],[199,40,219,38,"current"],[199,47,219,45],[200,14,220,12,"candidate"],[200,23,220,21],[200,25,220,23,"event"],[200,30,220,28],[200,31,220,29,"candidate"],[201,12,221,10],[201,13,221,11],[201,14,221,12],[202,10,222,8],[203,8,223,6],[203,9,223,7],[204,8,225,6,"pc"],[204,10,225,8],[204,11,225,9,"ontrack"],[204,18,225,16],[204,21,225,20,"event"],[204,26,225,25],[204,30,225,30],[205,10,226,8],[205,16,226,14,"audio"],[205,21,226,19],[205,24,226,22,"ensureRemoteAudio"],[205,41,226,39],[205,42,226,40],[205,43,226,41],[206,10,227,8],[206,14,227,12,"audio"],[206,19,227,17],[206,21,227,19],[207,12,228,10,"audio"],[207,17,228,15],[207,18,228,16,"srcObject"],[207,27,228,25],[207,30,228,28,"event"],[207,35,228,33],[207,36,228,34,"streams"],[207,43,228,41],[207,44,228,42],[207,45,228,43],[207,46,228,44],[208,12,229,10,"audio"],[208,17,229,15],[208,18,229,16,"play"],[208,22,229,20],[208,23,229,21],[208,24,229,22],[208,25,229,23,"catch"],[208,30,229,28],[208,31,229,29,"console"],[208,38,229,36],[208,39,229,37,"error"],[208,44,229,42],[208,45,229,43],[209,10,230,8],[210,8,231,6],[210,9,231,7],[211,8,233,6,"pc"],[211,10,233,8],[211,11,233,9,"onconnectionstatechange"],[211,34,233,32],[211,37,233,35],[211,43,233,41],[212,10,234,8],[212,14,234,12,"pc"],[212,16,234,14],[212,17,234,15,"connectionState"],[212,32,234,30],[212,37,234,35],[212,48,234,46],[212,50,234,48],[213,12,235,10,"setCallState"],[213,24,235,22],[213,25,235,23],[213,36,235,34],[213,37,235,35],[214,12,236,10,"startCallTimer"],[214,26,236,24],[214,27,236,25],[214,28,236,26],[215,10,237,8],[215,11,237,9],[215,17,237,15],[215,21,237,19,"pc"],[215,23,237,21],[215,24,237,22,"connectionState"],[215,39,237,37],[215,44,237,42],[215,58,237,56],[215,62,237,60,"pc"],[215,64,237,62],[215,65,237,63,"connectionState"],[215,80,237,78],[215,85,237,83],[215,93,237,91],[215,95,237,93],[216,12,238,10,"cleanupCall"],[216,23,238,21],[216,24,238,22],[216,25,238,23],[217,10,239,8],[218,8,240,6],[218,9,240,7],[219,8,242,6],[219,12,242,10,"createOffer"],[219,23,242,21],[219,25,242,23],[220,10,243,8],[220,16,243,14,"offer"],[220,21,243,19],[220,24,243,22],[220,30,243,28,"pc"],[220,32,243,30],[220,33,243,31,"createOffer"],[220,44,243,42],[220,45,243,43],[220,46,243,44],[221,10,244,8],[221,16,244,14,"pc"],[221,18,244,16],[221,19,244,17,"setLocalDescription"],[221,38,244,36],[221,39,244,37,"offer"],[221,44,244,42],[221,45,244,43],[222,10,245,8,"socketRef"],[222,19,245,17],[222,20,245,18,"current"],[222,27,245,25],[222,29,245,27,"emit"],[222,33,245,31],[222,34,245,32],[222,48,245,46],[222,50,245,48],[223,12,246,10,"call_id"],[223,19,246,17],[223,21,246,19,"currentCallIdRef"],[223,37,246,35],[223,38,246,36,"current"],[223,45,246,43],[224,12,247,10,"offer"],[224,17,247,15],[224,19,247,17,"offer"],[225,10,248,8],[225,11,248,9],[225,12,248,10],[226,8,249,6],[227,6,250,4],[227,7,250,5],[227,8,250,6],[227,15,250,13,"error"],[227,20,250,18],[227,22,250,20],[228,8,251,6,"console"],[228,15,251,13],[228,16,251,14,"error"],[228,21,251,19],[228,22,251,20],[228,37,251,35],[228,39,251,37,"error"],[228,44,251,42],[228,45,251,43],[229,8,252,6,"showAlert"],[229,17,252,15],[229,18,252,16],[229,36,252,34],[229,38,252,36],[229,125,252,123],[229,126,252,124],[230,8,253,6,"cleanupCall"],[230,19,253,17],[230,20,253,18],[230,21,253,19],[231,6,254,4],[232,4,255,2],[232,5,255,3],[233,4,257,2],[233,10,257,8,"handleOffer"],[233,21,257,19],[233,24,257,22],[233,30,257,29,"offer"],[233,35,257,61],[233,39,257,66],[234,6,258,4],[234,10,258,8,"Platform"],[234,18,258,16],[234,19,258,16,"default"],[234,26,258,16],[234,27,258,17,"OS"],[234,29,258,19],[234,34,258,24],[234,39,258,29],[234,41,258,31],[235,6,260,4],[235,10,260,8],[235,11,260,9,"peerConnectionRef"],[235,28,260,26],[235,29,260,27,"current"],[235,36,260,34],[235,38,260,36],[236,8,261,6],[236,14,261,12,"startWebRTCConnection"],[236,35,261,33],[236,36,261,34],[236,41,261,39],[236,42,261,40],[237,6,262,4],[238,6,264,4],[238,12,264,10,"peerConnectionRef"],[238,29,264,27],[238,30,264,28,"current"],[238,37,264,35],[238,39,264,37,"setRemoteDescription"],[238,59,264,57],[238,60,264,58],[238,64,264,62,"RTCSessionDescription"],[238,85,264,83],[238,86,264,84,"offer"],[238,91,264,89],[238,92,264,90],[238,93,264,91],[239,6,265,4],[239,12,265,10,"answer"],[239,18,265,16],[239,21,265,19],[239,27,265,25,"peerConnectionRef"],[239,44,265,42],[239,45,265,43,"current"],[239,52,265,50],[239,54,265,52,"createAnswer"],[239,66,265,64],[239,67,265,65],[239,68,265,66],[240,6,266,4],[240,12,266,10,"peerConnectionRef"],[240,29,266,27],[240,30,266,28,"current"],[240,37,266,35],[240,39,266,37,"setLocalDescription"],[240,58,266,56],[240,59,266,57,"answer"],[240,65,266,63],[240,66,266,64],[241,6,268,4,"socketRef"],[241,15,268,13],[241,16,268,14,"current"],[241,23,268,21],[241,25,268,23,"emit"],[241,29,268,27],[241,30,268,28],[241,45,268,43],[241,47,268,45],[242,8,269,6,"call_id"],[242,15,269,13],[242,17,269,15,"currentCallIdRef"],[242,33,269,31],[242,34,269,32,"current"],[242,41,269,39],[243,8,270,6,"answer"],[243,14,270,12],[243,16,270,14,"answer"],[244,6,271,4],[244,7,271,5],[244,8,271,6],[245,6,273,4,"setCallState"],[245,18,273,16],[245,19,273,17],[245,30,273,28],[245,31,273,29],[246,6,274,4,"startCallTimer"],[246,20,274,18],[246,21,274,19],[246,22,274,20],[247,4,275,2],[247,5,275,3],[248,4,277,2],[248,10,277,8,"handleAnswer"],[248,22,277,20],[248,25,277,23],[248,31,277,30,"answer"],[248,37,277,63],[248,41,277,68],[249,6,278,4],[249,10,278,8,"Platform"],[249,18,278,16],[249,19,278,16,"default"],[249,26,278,16],[249,27,278,17,"OS"],[249,29,278,19],[249,34,278,24],[249,39,278,29],[249,41,278,31],[250,6,279,4],[250,12,279,10,"peerConnectionRef"],[250,29,279,27],[250,30,279,28,"current"],[250,37,279,35],[250,39,279,37,"setRemoteDescription"],[250,59,279,57],[250,60,279,58],[250,64,279,62,"RTCSessionDescription"],[250,85,279,83],[250,86,279,84,"answer"],[250,92,279,90],[250,93,279,91],[250,94,279,92],[251,6,280,4,"setCallState"],[251,18,280,16],[251,19,280,17],[251,30,280,28],[251,31,280,29],[252,6,281,4,"startCallTimer"],[252,20,281,18],[252,21,281,19],[252,22,281,20],[253,4,282,2],[253,5,282,3],[254,4,284,2],[254,10,284,8,"handleIceCandidate"],[254,28,284,26],[254,31,284,29],[254,37,284,36,"candidate"],[254,46,284,66],[254,50,284,71],[255,6,285,4],[255,10,285,8,"Platform"],[255,18,285,16],[255,19,285,16,"default"],[255,26,285,16],[255,27,285,17,"OS"],[255,29,285,19],[255,34,285,24],[255,39,285,29],[255,43,285,33],[255,44,285,34,"candidate"],[255,53,285,43],[255,55,285,45],[256,6,286,4],[256,12,286,10,"peerConnectionRef"],[256,29,286,27],[256,30,286,28,"current"],[256,37,286,35],[256,39,286,37,"addIceCandidate"],[256,54,286,52],[256,55,286,53],[256,59,286,57,"RTCIceCandidate"],[256,74,286,72],[256,75,286,73,"candidate"],[256,84,286,82],[256,85,286,83],[256,86,286,84],[257,4,287,2],[257,5,287,3],[258,4,289,2],[258,10,289,8,"initiateCall"],[258,22,289,20],[258,25,289,23],[258,31,289,23,"initiateCall"],[258,32,289,30,"targetUserId"],[258,44,289,50],[258,46,289,52,"targetName"],[258,56,289,70],[258,61,289,75],[259,6,290,4],[259,10,290,8,"Platform"],[259,18,290,16],[259,19,290,16,"default"],[259,26,290,16],[259,27,290,17,"OS"],[259,29,290,19],[259,34,290,24],[259,39,290,29],[259,41,290,31],[260,8,291,6,"showAlert"],[260,17,291,15],[260,18,291,16],[260,33,291,31],[260,35,291,33],[260,77,291,75],[260,78,291,76],[261,8,292,6],[262,6,293,4],[263,6,295,4],[263,10,295,8,"callState"],[263,19,295,17],[263,24,295,22],[263,30,295,28],[263,32,295,30],[264,8,296,6,"showAlert"],[264,17,296,15],[264,18,296,16],[264,24,296,22],[264,26,296,24],[264,53,296,51],[264,54,296,52],[265,8,297,6],[266,6,298,4],[268,6,300,4],[269,6,301,4,"initializeSocket"],[269,22,301,20],[269,23,301,21],[269,24,301,22],[270,6,303,4,"setCallInfo"],[270,17,303,15],[270,18,303,16],[271,8,304,6,"callId"],[271,14,304,12],[271,16,304,14],[271,18,304,16],[272,8,305,6,"peerName"],[272,16,305,14],[272,18,305,16,"targetName"],[272,28,305,26],[273,8,306,6,"callType"],[273,16,306,14],[273,18,306,16],[273,25,306,23],[274,8,307,6,"isIncoming"],[274,18,307,16],[274,20,307,18],[275,6,308,4],[275,7,308,5],[275,8,308,6],[276,6,309,4,"setCallState"],[276,18,309,16],[276,19,309,17],[276,31,309,29],[276,32,309,30],[278,6,311,4],[279,6,312,4],[279,10,312,8,"attempts"],[279,18,312,16],[279,21,312,19],[279,22,312,20],[280,6,313,4],[280,13,313,11],[280,14,313,12,"socketRef"],[280,23,313,21],[280,24,313,22,"current"],[280,31,313,29],[280,33,313,31,"connected"],[280,42,313,40],[280,46,313,44,"attempts"],[280,54,313,52],[280,57,313,55],[280,59,313,57],[280,61,313,59],[281,8,314,6],[281,14,314,12],[281,18,314,16,"Promise"],[281,25,314,23],[281,26,314,25,"resolve"],[281,33,314,32],[281,37,314,37,"setTimeout"],[281,47,314,47],[281,48,314,48,"resolve"],[281,55,314,55],[281,57,314,57],[281,60,314,60],[281,61,314,61],[281,62,314,62],[282,8,315,6,"attempts"],[282,16,315,14],[282,18,315,16],[283,6,316,4],[284,6,318,4],[284,10,318,8],[284,11,318,9,"socketRef"],[284,20,318,18],[284,21,318,19,"current"],[284,28,318,26],[284,30,318,28,"connected"],[284,39,318,37],[284,41,318,39],[285,8,319,6,"showAlert"],[285,17,319,15],[285,18,319,16],[285,36,319,34],[285,38,319,36],[285,91,319,89],[285,92,319,90],[286,8,320,6,"cleanupCall"],[286,19,320,17],[286,20,320,18],[286,21,320,19],[287,8,321,6],[288,6,322,4],[290,6,324,4],[291,6,325,4],[291,12,325,10,"callerId"],[291,20,325,18],[291,23,325,21],[291,35,325,33,"Date"],[291,39,325,37],[291,40,325,38,"now"],[291,43,325,41],[291,44,325,42],[291,45,325,43],[291,47,325,45],[293,6,327,4],[294,6,328,4,"socketRef"],[294,15,328,13],[294,16,328,14,"current"],[294,23,328,21],[294,25,328,23,"emit"],[294,29,328,27],[294,30,328,28],[294,40,328,38],[294,42,328,40],[295,8,329,6,"user_id"],[295,15,329,13],[295,17,329,15,"callerId"],[295,25,329,23],[296,8,330,6,"user_type"],[296,17,330,15],[296,19,330,17],[296,25,330,23],[297,8,331,6,"name"],[297,12,331,10],[297,14,331,12],[297,24,331,22],[298,8,332,6,"status"],[298,14,332,12],[298,16,332,14],[299,6,333,4],[299,7,333,5],[299,8,333,6],[301,6,335,4],[302,6,336,4],[302,12,336,10],[302,16,336,14,"Promise"],[302,23,336,21],[302,24,336,23,"resolve"],[302,31,336,30],[302,35,336,35,"setTimeout"],[302,45,336,45],[302,46,336,46,"resolve"],[302,53,336,53],[302,55,336,55],[302,58,336,58],[302,59,336,59],[302,60,336,60],[304,6,338,4],[305,6,339,4,"socketRef"],[305,15,339,13],[305,16,339,14,"current"],[305,23,339,21],[305,25,339,23,"emit"],[305,29,339,27],[305,30,339,28],[305,45,339,43],[305,47,339,45],[306,8,340,6,"target_user_id"],[306,22,340,20],[306,24,340,22,"targetUserId"],[306,36,340,34],[307,8,341,6,"caller_name"],[307,19,341,17],[307,21,341,19],[307,31,341,29],[308,8,342,6,"call_type"],[308,17,342,15],[308,19,342,17],[309,6,343,4],[309,7,343,5],[309,8,343,6],[310,4,344,2],[310,5,344,3],[311,4,346,2],[311,10,346,8,"acceptCall"],[311,20,346,18],[311,23,346,21],[311,27,346,21,"useCallback"],[311,33,346,32],[311,34,346,32,"useCallback"],[311,45,346,32],[311,47,346,33],[311,53,346,39],[312,6,347,4],[312,10,347,8],[312,11,347,9,"currentCallIdRef"],[312,27,347,25],[312,28,347,26,"current"],[312,35,347,33],[312,37,347,35],[313,6,348,4,"socketRef"],[313,15,348,13],[313,16,348,14,"current"],[313,23,348,21],[313,25,348,23,"emit"],[313,29,348,27],[313,30,348,28],[313,43,348,41],[313,45,348,43],[314,8,348,45,"call_id"],[314,15,348,52],[314,17,348,54,"currentCallIdRef"],[314,33,348,70],[314,34,348,71,"current"],[315,6,348,79],[315,7,348,80],[315,8,348,81],[316,6,349,4,"setCallState"],[316,18,349,16],[316,19,349,17],[316,31,349,29],[316,32,349,30],[317,6,350,4,"startWebRTCConnection"],[317,27,350,25],[317,28,350,26],[317,33,350,31],[317,34,350,32],[318,4,351,2],[318,5,351,3],[318,7,351,5],[318,9,351,7],[318,10,351,8],[319,4,353,2],[319,10,353,8,"rejectCall"],[319,20,353,18],[319,23,353,21],[319,27,353,21,"useCallback"],[319,33,353,32],[319,34,353,32,"useCallback"],[319,45,353,32],[319,47,353,33],[319,53,353,39],[320,6,354,4],[320,10,354,8],[320,11,354,9,"currentCallIdRef"],[320,27,354,25],[320,28,354,26,"current"],[320,35,354,33],[320,37,354,35],[321,6,355,4,"socketRef"],[321,15,355,13],[321,16,355,14,"current"],[321,23,355,21],[321,25,355,23,"emit"],[321,29,355,27],[321,30,355,28],[321,43,355,41],[321,45,355,43],[322,8,356,6,"call_id"],[322,15,356,13],[322,17,356,15,"currentCallIdRef"],[322,33,356,31],[322,34,356,32,"current"],[322,41,356,39],[323,8,357,6,"reason"],[323,14,357,12],[323,16,357,14],[324,6,358,4],[324,7,358,5],[324,8,358,6],[325,6,359,4,"cleanupCall"],[325,17,359,15],[325,18,359,16],[325,19,359,17],[326,4,360,2],[326,5,360,3],[326,7,360,5],[326,9,360,7],[326,10,360,8],[327,4,362,2],[327,10,362,8,"endCall"],[327,17,362,15],[327,20,362,18],[327,24,362,18,"useCallback"],[327,30,362,29],[327,31,362,29,"useCallback"],[327,42,362,29],[327,44,362,30],[327,50,362,36],[328,6,363,4],[328,10,363,8],[328,11,363,9,"currentCallIdRef"],[328,27,363,25],[328,28,363,26,"current"],[328,35,363,33],[328,37,363,35],[329,6,364,4,"socketRef"],[329,15,364,13],[329,16,364,14,"current"],[329,23,364,21],[329,25,364,23,"emit"],[329,29,364,27],[329,30,364,28],[329,40,364,38],[329,42,364,40],[330,8,364,42,"call_id"],[330,15,364,49],[330,17,364,51,"currentCallIdRef"],[330,33,364,67],[330,34,364,68,"current"],[331,6,364,76],[331,7,364,77],[331,8,364,78],[332,6,365,4,"cleanupCall"],[332,17,365,15],[332,18,365,16],[332,19,365,17],[333,4,366,2],[333,5,366,3],[333,7,366,5],[333,9,366,7],[333,10,366,8],[334,4,368,2],[334,10,368,8,"startCallTimer"],[334,24,368,22],[334,27,368,25,"startCallTimer"],[334,28,368,25],[334,33,368,31],[335,6,369,4,"setCallDuration"],[335,21,369,19],[335,22,369,20],[335,23,369,21],[335,24,369,22],[336,6,370,4,"callTimerRef"],[336,18,370,16],[336,19,370,17,"current"],[336,26,370,24],[336,29,370,27,"setInterval"],[336,40,370,38],[336,41,370,39],[336,47,370,45],[337,8,371,6,"setCallDuration"],[337,23,371,21],[337,24,371,23,"prev"],[337,28,371,27],[337,32,371,32,"prev"],[337,36,371,36],[337,39,371,39],[337,40,371,40],[337,41,371,41],[338,6,372,4],[338,7,372,5],[338,9,372,7],[338,13,372,11],[338,14,372,12],[339,4,373,2],[339,5,373,3],[340,4,375,2],[340,10,375,8,"cleanupCall"],[340,21,375,19],[340,24,375,22],[340,28,375,22,"useCallback"],[340,34,375,33],[340,35,375,33,"useCallback"],[340,46,375,33],[340,48,375,34],[340,54,375,40],[341,6,376,4,"localStreamRef"],[341,20,376,18],[341,21,376,19,"current"],[341,28,376,26],[341,30,376,28,"getTracks"],[341,39,376,37],[341,40,376,38],[341,41,376,39],[341,42,376,40,"forEach"],[341,49,376,47],[341,50,376,49,"track"],[341,55,376,54],[341,59,376,59,"track"],[341,64,376,64],[341,65,376,65,"stop"],[341,69,376,69],[341,70,376,70],[341,71,376,71],[341,72,376,72],[342,6,377,4,"localStreamRef"],[342,20,377,18],[342,21,377,19,"current"],[342,28,377,26],[342,31,377,29],[342,35,377,33],[343,6,379,4,"peerConnectionRef"],[343,23,379,21],[343,24,379,22,"current"],[343,31,379,29],[343,33,379,31,"close"],[343,38,379,36],[343,39,379,37],[343,40,379,38],[344,6,380,4,"peerConnectionRef"],[344,23,380,21],[344,24,380,22,"current"],[344,31,380,29],[344,34,380,32],[344,38,380,36],[345,6,382,4],[345,10,382,8,"callTimerRef"],[345,22,382,20],[345,23,382,21,"current"],[345,30,382,28],[345,32,382,30],[346,8,383,6,"clearInterval"],[346,21,383,19],[346,22,383,20,"callTimerRef"],[346,34,383,32],[346,35,383,33,"current"],[346,42,383,40],[346,43,383,41],[347,8,384,6,"callTimerRef"],[347,20,384,18],[347,21,384,19,"current"],[347,28,384,26],[347,31,384,29],[347,35,384,33],[348,6,385,4],[349,6,387,4,"currentCallIdRef"],[349,22,387,20],[349,23,387,21,"current"],[349,30,387,28],[349,33,387,31],[349,37,387,35],[350,6,388,4,"setCallState"],[350,18,388,16],[350,19,388,17],[350,25,388,23],[350,26,388,24],[351,6,389,4,"setCallInfo"],[351,17,389,15],[351,18,389,16],[351,22,389,20],[351,23,389,21],[352,6,390,4,"setCallDuration"],[352,21,390,19],[352,22,390,20],[352,23,390,21],[352,24,390,22],[353,4,391,2],[353,5,391,3],[353,7,391,5],[353,9,391,7],[353,10,391,8],[354,4,393,2],[354,8,393,2,"useEffect"],[354,14,393,11],[354,15,393,11,"useEffect"],[354,24,393,11],[354,26,393,12],[354,32,393,18],[355,6,394,4],[355,13,394,11],[355,19,394,17],[356,8,395,6,"cleanupCall"],[356,19,395,17],[356,20,395,18],[356,21,395,19],[357,8,396,6,"socketRef"],[357,17,396,15],[357,18,396,16,"current"],[357,25,396,23],[357,27,396,25,"disconnect"],[357,37,396,35],[357,38,396,36],[357,39,396,37],[358,6,397,4],[358,7,397,5],[359,4,398,2],[359,5,398,3],[359,7,398,5],[359,8,398,6,"cleanupCall"],[359,19,398,17],[359,20,398,18],[359,21,398,19],[360,4,400,2],[360,11,400,9],[361,6,401,4,"callState"],[361,15,401,13],[362,6,402,4,"callInfo"],[362,14,402,12],[363,6,403,4,"isConnected"],[363,17,403,15],[364,6,404,4,"callDuration"],[364,18,404,16],[365,6,405,4,"initiateCall"],[365,18,405,16],[366,6,406,4,"acceptCall"],[366,16,406,14],[367,6,407,4,"rejectCall"],[367,16,407,14],[368,6,408,4,"endCall"],[368,13,408,11],[369,6,409,4,"register"],[370,4,410,2],[370,5,410,3],[371,2,411,0],[372,2,413,7],[372,11,413,16,"formatCallDuration"],[372,29,413,34,"formatCallDuration"],[372,30,413,35,"seconds"],[372,37,413,50],[372,39,413,60],[373,4,414,2],[373,10,414,8,"mins"],[373,14,414,12],[373,17,414,15,"Math"],[373,21,414,19],[373,22,414,20,"floor"],[373,27,414,25],[373,28,414,26,"seconds"],[373,35,414,33],[373,38,414,36],[373,40,414,38],[373,41,414,39],[374,4,415,2],[374,10,415,8,"secs"],[374,14,415,12],[374,17,415,15,"seconds"],[374,24,415,22],[374,27,415,25],[374,29,415,27],[375,4,416,2],[375,11,416,9],[375,14,416,12,"mins"],[375,18,416,16],[375,19,416,17,"toString"],[375,27,416,25],[375,28,416,26],[375,29,416,27],[375,30,416,28,"padStart"],[375,38,416,36],[375,39,416,37],[375,40,416,38],[375,42,416,40],[375,45,416,43],[375,46,416,44],[375,50,416,48,"secs"],[375,54,416,52],[375,55,416,53,"toString"],[375,63,416,61],[375,64,416,62],[375,65,416,63],[375,66,416,64,"padStart"],[375,74,416,72],[375,75,416,73],[375,76,416,74],[375,78,416,76],[375,81,416,79],[375,82,416,80],[375,84,416,82],[376,2,417,0],[377,0,417,1],[377,3]],"functionMap":{"names":["<global>","showAlert","import.then$argument_0","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;kBCa;gCCK;KDE;CDE;OG+B;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDI;2CCG;KDI;0CCG;KDG;uCCE;KDE;wCCE;KDI;yCCE;KDE;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BGG;eCK;KDO;GHC;4BKG;GLW;gCMG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GNe;sBWE;GXkB;uBYE;GZK;6BaE;GbG;uBcE;wBCyB,qCD;sBCsB,qCD;GdQ;iCgBE;GhBK;iCiBE;GjBO;8BkBE;GlBI;yBmBE;uCCE;sBCC,kBD;KDC;GnBC;kCsBE;gDCC,uBD;GtBe;YwBE;WCC;KDG;GxBC;CHa;O6BE;C7BI"},"hasCjsExports":false},"type":"js/module"}]}