{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":134},"end":{"line":7,"column":65,"index":199}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":248},"end":{"line":9,"column":46,"index":294}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useWebRTCCall = useWebRTCCall;\n  exports.formatCallDuration = formatCallDuration;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[2], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _socketIoClient = require(_dependencyMap[3], \"socket.io-client\");\n  /**\n   * WebRTC Calling Hook for Expo Web\n   * Handles in-app audio calls using WebRTC and Socket.IO\n   * Works in browser environment\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // WebRTC configuration\n  const RTC_CONFIG = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n  function useWebRTCCall() {\n    const [callState, setCallState] = (0, _react.useState)('idle');\n    const [callInfo, setCallInfo] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const [callDuration, setCallDuration] = (0, _react.useState)(0);\n    const socketRef = (0, _react.useRef)(null);\n    const peerConnectionRef = (0, _react.useRef)(null);\n    const localStreamRef = (0, _react.useRef)(null);\n    const remoteAudioRef = (0, _react.useRef)(null);\n    const callTimerRef = (0, _react.useRef)(null);\n    const currentCallIdRef = (0, _react.useRef)(null);\n\n    // Initialize socket connection\n    const initializeSocket = (0, _react.useCallback)(() => {\n      if (Platform.default.OS !== 'web') return;\n      if (socketRef.current?.connected) {\n        console.log('WebRTC: Socket already connected');\n        return;\n      }\n\n      // Don't create duplicate sockets\n      if (socketRef.current) {\n        console.log('WebRTC: Socket exists but not connected, reconnecting...');\n        socketRef.current.connect();\n        return;\n      }\n\n      // The backend URL already doesn't have /api suffix\n      const backendUrl = API_URL;\n      console.log('WebRTC: Connecting to signaling server at', backendUrl);\n      socketRef.current = (0, _socketIoClient.io)(backendUrl, {\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionAttempts: 10,\n        reconnectionDelay: 1000,\n        timeout: 10000,\n        path: '/api/socket.io' // Use /api path for Kubernetes ingress routing\n      });\n      socketRef.current.on('connect', () => {\n        console.log('WebRTC: Connected to signaling server');\n        setIsConnected(true);\n      });\n      socketRef.current.on('disconnect', () => {\n        console.log('WebRTC: Disconnected');\n        setIsConnected(false);\n        cleanupCall();\n      });\n      socketRef.current.on('registered', data => {\n        console.log('WebRTC: Registered', data);\n      });\n\n      // Incoming call\n      socketRef.current.on('incoming_call', data => {\n        console.log('WebRTC: Incoming call', data);\n        currentCallIdRef.current = data.call_id;\n        setCallInfo({\n          callId: data.call_id,\n          peerName: data.caller_name,\n          callType: data.call_type || 'audio',\n          isIncoming: true\n        });\n        setCallState('ringing');\n      });\n\n      // Call accepted\n      socketRef.current.on('call_accepted', async () => {\n        console.log('WebRTC: Call accepted');\n        setCallState('connecting');\n        await startWebRTCConnection(true);\n      });\n\n      // Call connected\n      socketRef.current.on('call_connected', () => {\n        console.log('WebRTC: Call connected');\n        setCallState('connected');\n        startCallTimer();\n      });\n\n      // Call rejected/ended/failed\n      socketRef.current.on('call_rejected', () => {\n        Alert.default.alert('Call Declined', 'The call was declined.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ended', () => {\n        cleanupCall();\n      });\n      socketRef.current.on('call_failed', data => {\n        Alert.default.alert('Call Failed', data.message || 'Unable to connect.');\n        cleanupCall();\n      });\n      socketRef.current.on('call_ringing', () => {\n        setCallState('ringing');\n      });\n\n      // WebRTC signaling\n      socketRef.current.on('webrtc_offer', async data => {\n        await handleOffer(data.offer);\n      });\n      socketRef.current.on('webrtc_answer', async data => {\n        await handleAnswer(data.answer);\n      });\n      socketRef.current.on('webrtc_ice_candidate', async data => {\n        await handleIceCandidate(data.candidate);\n      });\n    }, []);\n\n    // Register with signaling server\n    const register = (0, _react.useCallback)((userId, userType, userName) => {\n      if (Platform.default.OS !== 'web') return;\n      initializeSocket();\n      setTimeout(() => {\n        socketRef.current?.emit('register', {\n          user_id: userId,\n          user_type: userType,\n          name: userName,\n          status: 'available'\n        });\n      }, 1000);\n    }, [initializeSocket]);\n\n    // Create remote audio element\n    const ensureRemoteAudio = () => {\n      if (Platform.default.OS !== 'web') return null;\n      if (!remoteAudioRef.current) {\n        const audio = document.createElement('audio');\n        audio.autoplay = true;\n        audio.id = 'webrtc-remote-audio';\n        document.body.appendChild(audio);\n        remoteAudioRef.current = audio;\n      }\n      return remoteAudioRef.current;\n    };\n\n    // Start WebRTC connection\n    const startWebRTCConnection = async createOffer => {\n      if (Platform.default.OS !== 'web') return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true,\n          video: false\n        });\n        localStreamRef.current = stream;\n        const pc = new RTCPeerConnection(RTC_CONFIG);\n        peerConnectionRef.current = pc;\n        stream.getTracks().forEach(track => {\n          pc.addTrack(track, stream);\n        });\n        pc.onicecandidate = event => {\n          if (event.candidate) {\n            socketRef.current?.emit('webrtc_ice_candidate', {\n              call_id: currentCallIdRef.current,\n              candidate: event.candidate\n            });\n          }\n        };\n        pc.ontrack = event => {\n          const audio = ensureRemoteAudio();\n          if (audio) {\n            audio.srcObject = event.streams[0];\n            audio.play().catch(console.error);\n          }\n        };\n        pc.onconnectionstatechange = () => {\n          if (pc.connectionState === 'connected') {\n            setCallState('connected');\n            startCallTimer();\n          } else if (pc.connectionState === 'disconnected' || pc.connectionState === 'failed') {\n            cleanupCall();\n          }\n        };\n        if (createOffer) {\n          const offer = await pc.createOffer();\n          await pc.setLocalDescription(offer);\n          socketRef.current?.emit('webrtc_offer', {\n            call_id: currentCallIdRef.current,\n            offer: offer\n          });\n        }\n      } catch (error) {\n        console.error('WebRTC error:', error);\n        Alert.default.alert('Error', 'Could not access microphone');\n        cleanupCall();\n      }\n    };\n    const handleOffer = async offer => {\n      if (Platform.default.OS !== 'web') return;\n      if (!peerConnectionRef.current) {\n        await startWebRTCConnection(false);\n      }\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(offer));\n      const answer = await peerConnectionRef.current?.createAnswer();\n      await peerConnectionRef.current?.setLocalDescription(answer);\n      socketRef.current?.emit('webrtc_answer', {\n        call_id: currentCallIdRef.current,\n        answer: answer\n      });\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleAnswer = async answer => {\n      if (Platform.default.OS !== 'web') return;\n      await peerConnectionRef.current?.setRemoteDescription(new RTCSessionDescription(answer));\n      setCallState('connected');\n      startCallTimer();\n    };\n    const handleIceCandidate = async candidate => {\n      if (Platform.default.OS !== 'web' || !candidate) return;\n      await peerConnectionRef.current?.addIceCandidate(new RTCIceCandidate(candidate));\n    };\n    const initiateCall = async (targetUserId, targetName) => {\n      if (Platform.default.OS !== 'web') {\n        Alert.default.alert('Not Supported', 'In-app calling is only available on web.');\n        return;\n      }\n      if (callState !== 'idle') {\n        Alert.default.alert('Busy', 'You are already in a call');\n        return;\n      }\n\n      // Initialize socket connection\n      initializeSocket();\n      setCallInfo({\n        callId: '',\n        peerName: targetName,\n        callType: 'audio',\n        isIncoming: false\n      });\n      setCallState('connecting');\n\n      // Wait for socket to connect\n      let attempts = 0;\n      while (!socketRef.current?.connected && attempts < 10) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        attempts++;\n      }\n      if (!socketRef.current?.connected) {\n        Alert.default.alert('Connection Error', 'Could not connect to call server. Please try again.');\n        cleanupCall();\n        return;\n      }\n\n      // Generate a temporary caller ID for anonymous users\n      const callerId = `app_user_${Date.now()}`;\n\n      // Register the caller with the signaling server first\n      socketRef.current?.emit('register', {\n        user_id: callerId,\n        user_type: 'user',\n        name: 'App User',\n        status: 'available'\n      });\n\n      // Give time for registration to complete\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // Now initiate the call\n      socketRef.current?.emit('call_initiate', {\n        target_user_id: targetUserId,\n        caller_name: 'App User',\n        call_type: 'audio'\n      });\n    };\n    const acceptCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_accept', {\n        call_id: currentCallIdRef.current\n      });\n      setCallState('connecting');\n      startWebRTCConnection(false);\n    }, []);\n    const rejectCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_reject', {\n        call_id: currentCallIdRef.current,\n        reason: 'rejected'\n      });\n      cleanupCall();\n    }, []);\n    const endCall = (0, _react.useCallback)(() => {\n      if (!currentCallIdRef.current) return;\n      socketRef.current?.emit('call_end', {\n        call_id: currentCallIdRef.current\n      });\n      cleanupCall();\n    }, []);\n    const startCallTimer = () => {\n      setCallDuration(0);\n      callTimerRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    };\n    const cleanupCall = (0, _react.useCallback)(() => {\n      localStreamRef.current?.getTracks().forEach(track => track.stop());\n      localStreamRef.current = null;\n      peerConnectionRef.current?.close();\n      peerConnectionRef.current = null;\n      if (callTimerRef.current) {\n        clearInterval(callTimerRef.current);\n        callTimerRef.current = null;\n      }\n      currentCallIdRef.current = null;\n      setCallState('idle');\n      setCallInfo(null);\n      setCallDuration(0);\n    }, []);\n    (0, _react.useEffect)(() => {\n      return () => {\n        cleanupCall();\n        socketRef.current?.disconnect();\n      };\n    }, [cleanupCall]);\n    return {\n      callState,\n      callInfo,\n      isConnected,\n      callDuration,\n      initiateCall,\n      acceptCall,\n      rejectCall,\n      endCall,\n      register\n    };\n  }\n  function formatCallDuration(seconds) {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  }\n});","lineCount":364,"map":[[12,2,42,0,"exports"],[12,9,42,0],[12,10,42,0,"useWebRTCCall"],[12,23,42,0],[12,26,42,0,"useWebRTCCall"],[12,39,42,0],[13,2,400,0,"exports"],[13,9,400,0],[13,10,400,0,"formatCallDuration"],[13,28,400,0],[13,31,400,0,"formatCallDuration"],[13,49,400,0],[14,2,7,0],[14,6,7,0,"_react"],[14,12,7,0],[14,15,7,0,"require"],[14,22,7,0],[14,23,7,0,"_dependencyMap"],[14,37,7,0],[15,2,7,65],[15,6,7,65,"_reactNativeWebDistExportsPlatform"],[15,40,7,65],[15,43,7,65,"require"],[15,50,7,65],[15,51,7,65,"_dependencyMap"],[15,65,7,65],[16,2,7,65],[16,6,7,65,"Platform"],[16,14,7,65],[16,17,7,65,"_interopDefault"],[16,32,7,65],[16,33,7,65,"_reactNativeWebDistExportsPlatform"],[16,67,7,65],[17,2,7,65],[17,6,7,65,"_reactNativeWebDistExportsAlert"],[17,37,7,65],[17,40,7,65,"require"],[17,47,7,65],[17,48,7,65,"_dependencyMap"],[17,62,7,65],[18,2,7,65],[18,6,7,65,"Alert"],[18,11,7,65],[18,14,7,65,"_interopDefault"],[18,29,7,65],[18,30,7,65,"_reactNativeWebDistExportsAlert"],[18,61,7,65],[19,2,9,0],[19,6,9,0,"_socketIoClient"],[19,21,9,0],[19,24,9,0,"require"],[19,31,9,0],[19,32,9,0,"_dependencyMap"],[19,46,9,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[26,2,11,0],[26,8,11,6,"API_URL"],[26,15,11,13],[26,18,11,16,"process"],[26,25,11,23],[26,26,11,24,"env"],[26,29,11,27],[26,30,11,28,"EXPO_PUBLIC_BACKEND_URL"],[26,53,11,51],[26,57,11,55],[26,59,11,57],[28,2,13,0],[29,2,14,0],[29,8,14,6,"RTC_CONFIG"],[29,18,14,16],[29,21,14,19],[30,4,15,2,"iceServers"],[30,14,15,12],[30,16,15,14],[30,17,16,4],[31,6,16,6,"urls"],[31,10,16,10],[31,12,16,12],[32,4,16,43],[32,5,16,44],[32,7,17,4],[33,6,17,6,"urls"],[33,10,17,10],[33,12,17,12],[34,4,17,44],[34,5,17,45],[35,2,19,0],[35,3,19,1],[36,2,42,7],[36,11,42,16,"useWebRTCCall"],[36,24,42,29,"useWebRTCCall"],[36,25,42,29],[36,27,42,53],[37,4,43,2],[37,10,43,8],[37,11,43,9,"callState"],[37,20,43,18],[37,22,43,20,"setCallState"],[37,34,43,32],[37,35,43,33],[37,38,43,36],[37,42,43,36,"useState"],[37,48,43,44],[37,49,43,44,"useState"],[37,57,43,44],[37,59,43,56],[37,65,43,62],[37,66,43,63],[38,4,44,2],[38,10,44,8],[38,11,44,9,"callInfo"],[38,19,44,17],[38,21,44,19,"setCallInfo"],[38,32,44,30],[38,33,44,31],[38,36,44,34],[38,40,44,34,"useState"],[38,46,44,42],[38,47,44,42,"useState"],[38,55,44,42],[38,57,44,60],[38,61,44,64],[38,62,44,65],[39,4,45,2],[39,10,45,8],[39,11,45,9,"isConnected"],[39,22,45,20],[39,24,45,22,"setIsConnected"],[39,38,45,36],[39,39,45,37],[39,42,45,40],[39,46,45,40,"useState"],[39,52,45,48],[39,53,45,48,"useState"],[39,61,45,48],[39,63,45,49],[39,68,45,54],[39,69,45,55],[40,4,46,2],[40,10,46,8],[40,11,46,9,"callDuration"],[40,23,46,21],[40,25,46,23,"setCallDuration"],[40,40,46,38],[40,41,46,39],[40,44,46,42],[40,48,46,42,"useState"],[40,54,46,50],[40,55,46,50,"useState"],[40,63,46,50],[40,65,46,51],[40,66,46,52],[40,67,46,53],[41,4,48,2],[41,10,48,8,"socketRef"],[41,19,48,17],[41,22,48,20],[41,26,48,20,"useRef"],[41,32,48,26],[41,33,48,26,"useRef"],[41,39,48,26],[41,41,48,42],[41,45,48,46],[41,46,48,47],[42,4,49,2],[42,10,49,8,"peerConnectionRef"],[42,27,49,25],[42,30,49,28],[42,34,49,28,"useRef"],[42,40,49,34],[42,41,49,34,"useRef"],[42,47,49,34],[42,49,49,61],[42,53,49,65],[42,54,49,66],[43,4,50,2],[43,10,50,8,"localStreamRef"],[43,24,50,22],[43,27,50,25],[43,31,50,25,"useRef"],[43,37,50,31],[43,38,50,31,"useRef"],[43,44,50,31],[43,46,50,52],[43,50,50,56],[43,51,50,57],[44,4,51,2],[44,10,51,8,"remoteAudioRef"],[44,24,51,22],[44,27,51,25],[44,31,51,25,"useRef"],[44,37,51,31],[44,38,51,31,"useRef"],[44,44,51,31],[44,46,51,57],[44,50,51,61],[44,51,51,62],[45,4,52,2],[45,10,52,8,"callTimerRef"],[45,22,52,20],[45,25,52,23],[45,29,52,23,"useRef"],[45,35,52,29],[45,36,52,29,"useRef"],[45,42,52,29],[45,44,52,69],[45,48,52,73],[45,49,52,74],[46,4,53,2],[46,10,53,8,"currentCallIdRef"],[46,26,53,24],[46,29,53,27],[46,33,53,27,"useRef"],[46,39,53,33],[46,40,53,33,"useRef"],[46,46,53,33],[46,48,53,49],[46,52,53,53],[46,53,53,54],[48,4,55,2],[49,4,56,2],[49,10,56,8,"initializeSocket"],[49,26,56,24],[49,29,56,27],[49,33,56,27,"useCallback"],[49,39,56,38],[49,40,56,38,"useCallback"],[49,51,56,38],[49,53,56,39],[49,59,56,45],[50,6,57,4],[50,10,57,8,"Platform"],[50,18,57,16],[50,19,57,16,"default"],[50,26,57,16],[50,27,57,17,"OS"],[50,29,57,19],[50,34,57,24],[50,39,57,29],[50,41,57,31],[51,6,58,4],[51,10,58,8,"socketRef"],[51,19,58,17],[51,20,58,18,"current"],[51,27,58,25],[51,29,58,27,"connected"],[51,38,58,36],[51,40,58,38],[52,8,59,6,"console"],[52,15,59,13],[52,16,59,14,"log"],[52,19,59,17],[52,20,59,18],[52,54,59,52],[52,55,59,53],[53,8,60,6],[54,6,61,4],[56,6,63,4],[57,6,64,4],[57,10,64,8,"socketRef"],[57,19,64,17],[57,20,64,18,"current"],[57,27,64,25],[57,29,64,27],[58,8,65,6,"console"],[58,15,65,13],[58,16,65,14,"log"],[58,19,65,17],[58,20,65,18],[58,78,65,76],[58,79,65,77],[59,8,66,6,"socketRef"],[59,17,66,15],[59,18,66,16,"current"],[59,25,66,23],[59,26,66,24,"connect"],[59,33,66,31],[59,34,66,32],[59,35,66,33],[60,8,67,6],[61,6,68,4],[63,6,70,4],[64,6,71,4],[64,12,71,10,"backendUrl"],[64,22,71,20],[64,25,71,23,"API_URL"],[64,32,71,30],[65,6,72,4,"console"],[65,13,72,11],[65,14,72,12,"log"],[65,17,72,15],[65,18,72,16],[65,61,72,59],[65,63,72,61,"backendUrl"],[65,73,72,71],[65,74,72,72],[66,6,74,4,"socketRef"],[66,15,74,13],[66,16,74,14,"current"],[66,23,74,21],[66,26,74,24],[66,30,74,24,"io"],[66,45,74,26],[66,46,74,26,"io"],[66,48,74,26],[66,50,74,27,"backendUrl"],[66,60,74,37],[66,62,74,39],[67,8,75,6,"transports"],[67,18,75,16],[67,20,75,18],[67,21,75,19],[67,32,75,30],[67,34,75,32],[67,43,75,41],[67,44,75,42],[68,8,76,6,"reconnection"],[68,20,76,18],[68,22,76,20],[68,26,76,24],[69,8,77,6,"reconnectionAttempts"],[69,28,77,26],[69,30,77,28],[69,32,77,30],[70,8,78,6,"reconnectionDelay"],[70,25,78,23],[70,27,78,25],[70,31,78,29],[71,8,79,6,"timeout"],[71,15,79,13],[71,17,79,15],[71,22,79,20],[72,8,80,6,"path"],[72,12,80,10],[72,14,80,12],[72,30,80,28],[72,31,80,31],[73,6,81,4],[73,7,81,5],[73,8,81,6],[74,6,83,4,"socketRef"],[74,15,83,13],[74,16,83,14,"current"],[74,23,83,21],[74,24,83,22,"on"],[74,26,83,24],[74,27,83,25],[74,36,83,34],[74,38,83,36],[74,44,83,42],[75,8,84,6,"console"],[75,15,84,13],[75,16,84,14,"log"],[75,19,84,17],[75,20,84,18],[75,59,84,57],[75,60,84,58],[76,8,85,6,"setIsConnected"],[76,22,85,20],[76,23,85,21],[76,27,85,25],[76,28,85,26],[77,6,86,4],[77,7,86,5],[77,8,86,6],[78,6,88,4,"socketRef"],[78,15,88,13],[78,16,88,14,"current"],[78,23,88,21],[78,24,88,22,"on"],[78,26,88,24],[78,27,88,25],[78,39,88,37],[78,41,88,39],[78,47,88,45],[79,8,89,6,"console"],[79,15,89,13],[79,16,89,14,"log"],[79,19,89,17],[79,20,89,18],[79,42,89,40],[79,43,89,41],[80,8,90,6,"setIsConnected"],[80,22,90,20],[80,23,90,21],[80,28,90,26],[80,29,90,27],[81,8,91,6,"cleanupCall"],[81,19,91,17],[81,20,91,18],[81,21,91,19],[82,6,92,4],[82,7,92,5],[82,8,92,6],[83,6,94,4,"socketRef"],[83,15,94,13],[83,16,94,14,"current"],[83,23,94,21],[83,24,94,22,"on"],[83,26,94,24],[83,27,94,25],[83,39,94,37],[83,41,94,40,"data"],[83,45,94,49],[83,49,94,54],[84,8,95,6,"console"],[84,15,95,13],[84,16,95,14,"log"],[84,19,95,17],[84,20,95,18],[84,40,95,38],[84,42,95,40,"data"],[84,46,95,44],[84,47,95,45],[85,6,96,4],[85,7,96,5],[85,8,96,6],[87,6,98,4],[88,6,99,4,"socketRef"],[88,15,99,13],[88,16,99,14,"current"],[88,23,99,21],[88,24,99,22,"on"],[88,26,99,24],[88,27,99,25],[88,42,99,40],[88,44,99,43,"data"],[88,48,99,52],[88,52,99,57],[89,8,100,6,"console"],[89,15,100,13],[89,16,100,14,"log"],[89,19,100,17],[89,20,100,18],[89,43,100,41],[89,45,100,43,"data"],[89,49,100,47],[89,50,100,48],[90,8,101,6,"currentCallIdRef"],[90,24,101,22],[90,25,101,23,"current"],[90,32,101,30],[90,35,101,33,"data"],[90,39,101,37],[90,40,101,38,"call_id"],[90,47,101,45],[91,8,102,6,"setCallInfo"],[91,19,102,17],[91,20,102,18],[92,10,103,8,"callId"],[92,16,103,14],[92,18,103,16,"data"],[92,22,103,20],[92,23,103,21,"call_id"],[92,30,103,28],[93,10,104,8,"peerName"],[93,18,104,16],[93,20,104,18,"data"],[93,24,104,22],[93,25,104,23,"caller_name"],[93,36,104,34],[94,10,105,8,"callType"],[94,18,105,16],[94,20,105,18,"data"],[94,24,105,22],[94,25,105,23,"call_type"],[94,34,105,32],[94,38,105,36],[94,45,105,43],[95,10,106,8,"isIncoming"],[95,20,106,18],[95,22,106,20],[96,8,107,6],[96,9,107,7],[96,10,107,8],[97,8,108,6,"setCallState"],[97,20,108,18],[97,21,108,19],[97,30,108,28],[97,31,108,29],[98,6,109,4],[98,7,109,5],[98,8,109,6],[100,6,111,4],[101,6,112,4,"socketRef"],[101,15,112,13],[101,16,112,14,"current"],[101,23,112,21],[101,24,112,22,"on"],[101,26,112,24],[101,27,112,25],[101,42,112,40],[101,44,112,42],[101,56,112,54],[102,8,113,6,"console"],[102,15,113,13],[102,16,113,14,"log"],[102,19,113,17],[102,20,113,18],[102,43,113,41],[102,44,113,42],[103,8,114,6,"setCallState"],[103,20,114,18],[103,21,114,19],[103,33,114,31],[103,34,114,32],[104,8,115,6],[104,14,115,12,"startWebRTCConnection"],[104,35,115,33],[104,36,115,34],[104,40,115,38],[104,41,115,39],[105,6,116,4],[105,7,116,5],[105,8,116,6],[107,6,118,4],[108,6,119,4,"socketRef"],[108,15,119,13],[108,16,119,14,"current"],[108,23,119,21],[108,24,119,22,"on"],[108,26,119,24],[108,27,119,25],[108,43,119,41],[108,45,119,43],[108,51,119,49],[109,8,120,6,"console"],[109,15,120,13],[109,16,120,14,"log"],[109,19,120,17],[109,20,120,18],[109,44,120,42],[109,45,120,43],[110,8,121,6,"setCallState"],[110,20,121,18],[110,21,121,19],[110,32,121,30],[110,33,121,31],[111,8,122,6,"startCallTimer"],[111,22,122,20],[111,23,122,21],[111,24,122,22],[112,6,123,4],[112,7,123,5],[112,8,123,6],[114,6,125,4],[115,6,126,4,"socketRef"],[115,15,126,13],[115,16,126,14,"current"],[115,23,126,21],[115,24,126,22,"on"],[115,26,126,24],[115,27,126,25],[115,42,126,40],[115,44,126,42],[115,50,126,48],[116,8,127,6,"Alert"],[116,13,127,11],[116,14,127,11,"default"],[116,21,127,11],[116,22,127,12,"alert"],[116,27,127,17],[116,28,127,18],[116,43,127,33],[116,45,127,35],[116,69,127,59],[116,70,127,60],[117,8,128,6,"cleanupCall"],[117,19,128,17],[117,20,128,18],[117,21,128,19],[118,6,129,4],[118,7,129,5],[118,8,129,6],[119,6,131,4,"socketRef"],[119,15,131,13],[119,16,131,14,"current"],[119,23,131,21],[119,24,131,22,"on"],[119,26,131,24],[119,27,131,25],[119,39,131,37],[119,41,131,39],[119,47,131,45],[120,8,132,6,"cleanupCall"],[120,19,132,17],[120,20,132,18],[120,21,132,19],[121,6,133,4],[121,7,133,5],[121,8,133,6],[122,6,135,4,"socketRef"],[122,15,135,13],[122,16,135,14,"current"],[122,23,135,21],[122,24,135,22,"on"],[122,26,135,24],[122,27,135,25],[122,40,135,38],[122,42,135,41,"data"],[122,46,135,50],[122,50,135,55],[123,8,136,6,"Alert"],[123,13,136,11],[123,14,136,11,"default"],[123,21,136,11],[123,22,136,12,"alert"],[123,27,136,17],[123,28,136,18],[123,41,136,31],[123,43,136,33,"data"],[123,47,136,37],[123,48,136,38,"message"],[123,55,136,45],[123,59,136,49],[123,79,136,69],[123,80,136,70],[124,8,137,6,"cleanupCall"],[124,19,137,17],[124,20,137,18],[124,21,137,19],[125,6,138,4],[125,7,138,5],[125,8,138,6],[126,6,140,4,"socketRef"],[126,15,140,13],[126,16,140,14,"current"],[126,23,140,21],[126,24,140,22,"on"],[126,26,140,24],[126,27,140,25],[126,41,140,39],[126,43,140,41],[126,49,140,47],[127,8,141,6,"setCallState"],[127,20,141,18],[127,21,141,19],[127,30,141,28],[127,31,141,29],[128,6,142,4],[128,7,142,5],[128,8,142,6],[130,6,144,4],[131,6,145,4,"socketRef"],[131,15,145,13],[131,16,145,14,"current"],[131,23,145,21],[131,24,145,22,"on"],[131,26,145,24],[131,27,145,25],[131,41,145,39],[131,43,145,41],[131,49,145,48,"data"],[131,53,145,57],[131,57,145,62],[132,8,146,6],[132,14,146,12,"handleOffer"],[132,25,146,23],[132,26,146,24,"data"],[132,30,146,28],[132,31,146,29,"offer"],[132,36,146,34],[132,37,146,35],[133,6,147,4],[133,7,147,5],[133,8,147,6],[134,6,149,4,"socketRef"],[134,15,149,13],[134,16,149,14,"current"],[134,23,149,21],[134,24,149,22,"on"],[134,26,149,24],[134,27,149,25],[134,42,149,40],[134,44,149,42],[134,50,149,49,"data"],[134,54,149,58],[134,58,149,63],[135,8,150,6],[135,14,150,12,"handleAnswer"],[135,26,150,24],[135,27,150,25,"data"],[135,31,150,29],[135,32,150,30,"answer"],[135,38,150,36],[135,39,150,37],[136,6,151,4],[136,7,151,5],[136,8,151,6],[137,6,153,4,"socketRef"],[137,15,153,13],[137,16,153,14,"current"],[137,23,153,21],[137,24,153,22,"on"],[137,26,153,24],[137,27,153,25],[137,49,153,47],[137,51,153,49],[137,57,153,56,"data"],[137,61,153,65],[137,65,153,70],[138,8,154,6],[138,14,154,12,"handleIceCandidate"],[138,32,154,30],[138,33,154,31,"data"],[138,37,154,35],[138,38,154,36,"candidate"],[138,47,154,45],[138,48,154,46],[139,6,155,4],[139,7,155,5],[139,8,155,6],[140,4,156,2],[140,5,156,3],[140,7,156,5],[140,9,156,7],[140,10,156,8],[142,4,158,2],[143,4,159,2],[143,10,159,8,"register"],[143,18,159,16],[143,21,159,19],[143,25,159,19,"useCallback"],[143,31,159,30],[143,32,159,30,"useCallback"],[143,43,159,30],[143,45,159,31],[143,46,159,32,"userId"],[143,52,159,46],[143,54,159,48,"userType"],[143,62,159,64],[143,64,159,66,"userName"],[143,72,159,82],[143,77,159,87],[144,6,160,4],[144,10,160,8,"Platform"],[144,18,160,16],[144,19,160,16,"default"],[144,26,160,16],[144,27,160,17,"OS"],[144,29,160,19],[144,34,160,24],[144,39,160,29],[144,41,160,31],[145,6,162,4,"initializeSocket"],[145,22,162,20],[145,23,162,21],[145,24,162,22],[146,6,164,4,"setTimeout"],[146,16,164,14],[146,17,164,15],[146,23,164,21],[147,8,165,6,"socketRef"],[147,17,165,15],[147,18,165,16,"current"],[147,25,165,23],[147,27,165,25,"emit"],[147,31,165,29],[147,32,165,30],[147,42,165,40],[147,44,165,42],[148,10,166,8,"user_id"],[148,17,166,15],[148,19,166,17,"userId"],[148,25,166,23],[149,10,167,8,"user_type"],[149,19,167,17],[149,21,167,19,"userType"],[149,29,167,27],[150,10,168,8,"name"],[150,14,168,12],[150,16,168,14,"userName"],[150,24,168,22],[151,10,169,8,"status"],[151,16,169,14],[151,18,169,16],[152,8,170,6],[152,9,170,7],[152,10,170,8],[153,6,171,4],[153,7,171,5],[153,9,171,7],[153,13,171,11],[153,14,171,12],[154,4,172,2],[154,5,172,3],[154,7,172,5],[154,8,172,6,"initializeSocket"],[154,24,172,22],[154,25,172,23],[154,26,172,24],[156,4,174,2],[157,4,175,2],[157,10,175,8,"ensureRemoteAudio"],[157,27,175,25],[157,30,175,28,"ensureRemoteAudio"],[157,31,175,28],[157,36,175,34],[158,6,176,4],[158,10,176,8,"Platform"],[158,18,176,16],[158,19,176,16,"default"],[158,26,176,16],[158,27,176,17,"OS"],[158,29,176,19],[158,34,176,24],[158,39,176,29],[158,41,176,31],[158,48,176,38],[158,52,176,42],[159,6,178,4],[159,10,178,8],[159,11,178,9,"remoteAudioRef"],[159,25,178,23],[159,26,178,24,"current"],[159,33,178,31],[159,35,178,33],[160,8,179,6],[160,14,179,12,"audio"],[160,19,179,17],[160,22,179,20,"document"],[160,30,179,28],[160,31,179,29,"createElement"],[160,44,179,42],[160,45,179,43],[160,52,179,50],[160,53,179,51],[161,8,180,6,"audio"],[161,13,180,11],[161,14,180,12,"autoplay"],[161,22,180,20],[161,25,180,23],[161,29,180,27],[162,8,181,6,"audio"],[162,13,181,11],[162,14,181,12,"id"],[162,16,181,14],[162,19,181,17],[162,40,181,38],[163,8,182,6,"document"],[163,16,182,14],[163,17,182,15,"body"],[163,21,182,19],[163,22,182,20,"appendChild"],[163,33,182,31],[163,34,182,32,"audio"],[163,39,182,37],[163,40,182,38],[164,8,183,6,"remoteAudioRef"],[164,22,183,20],[164,23,183,21,"current"],[164,30,183,28],[164,33,183,31,"audio"],[164,38,183,36],[165,6,184,4],[166,6,185,4],[166,13,185,11,"remoteAudioRef"],[166,27,185,25],[166,28,185,26,"current"],[166,35,185,33],[167,4,186,2],[167,5,186,3],[169,4,188,2],[170,4,189,2],[170,10,189,8,"startWebRTCConnection"],[170,31,189,29],[170,34,189,32],[170,40,189,39,"createOffer"],[170,51,189,59],[170,55,189,64],[171,6,190,4],[171,10,190,8,"Platform"],[171,18,190,16],[171,19,190,16,"default"],[171,26,190,16],[171,27,190,17,"OS"],[171,29,190,19],[171,34,190,24],[171,39,190,29],[171,41,190,31],[172,6,192,4],[172,10,192,8],[173,8,193,6],[173,14,193,12,"stream"],[173,20,193,18],[173,23,193,21],[173,29,193,27,"navigator"],[173,38,193,36],[173,39,193,37,"mediaDevices"],[173,51,193,49],[173,52,193,50,"getUserMedia"],[173,64,193,62],[173,65,193,63],[174,10,193,65,"audio"],[174,15,193,70],[174,17,193,72],[174,21,193,76],[175,10,193,78,"video"],[175,15,193,83],[175,17,193,85],[176,8,193,91],[176,9,193,92],[176,10,193,93],[177,8,194,6,"localStreamRef"],[177,22,194,20],[177,23,194,21,"current"],[177,30,194,28],[177,33,194,31,"stream"],[177,39,194,37],[178,8,196,6],[178,14,196,12,"pc"],[178,16,196,14],[178,19,196,17],[178,23,196,21,"RTCPeerConnection"],[178,40,196,38],[178,41,196,39,"RTC_CONFIG"],[178,51,196,49],[178,52,196,50],[179,8,197,6,"peerConnectionRef"],[179,25,197,23],[179,26,197,24,"current"],[179,33,197,31],[179,36,197,34,"pc"],[179,38,197,36],[180,8,199,6,"stream"],[180,14,199,12],[180,15,199,13,"getTracks"],[180,24,199,22],[180,25,199,23],[180,26,199,24],[180,27,199,25,"forEach"],[180,34,199,32],[180,35,199,34,"track"],[180,40,199,39],[180,44,199,44],[181,10,200,8,"pc"],[181,12,200,10],[181,13,200,11,"addTrack"],[181,21,200,19],[181,22,200,20,"track"],[181,27,200,25],[181,29,200,27,"stream"],[181,35,200,33],[181,36,200,34],[182,8,201,6],[182,9,201,7],[182,10,201,8],[183,8,203,6,"pc"],[183,10,203,8],[183,11,203,9,"onicecandidate"],[183,25,203,23],[183,28,203,27,"event"],[183,33,203,32],[183,37,203,37],[184,10,204,8],[184,14,204,12,"event"],[184,19,204,17],[184,20,204,18,"candidate"],[184,29,204,27],[184,31,204,29],[185,12,205,10,"socketRef"],[185,21,205,19],[185,22,205,20,"current"],[185,29,205,27],[185,31,205,29,"emit"],[185,35,205,33],[185,36,205,34],[185,58,205,56],[185,60,205,58],[186,14,206,12,"call_id"],[186,21,206,19],[186,23,206,21,"currentCallIdRef"],[186,39,206,37],[186,40,206,38,"current"],[186,47,206,45],[187,14,207,12,"candidate"],[187,23,207,21],[187,25,207,23,"event"],[187,30,207,28],[187,31,207,29,"candidate"],[188,12,208,10],[188,13,208,11],[188,14,208,12],[189,10,209,8],[190,8,210,6],[190,9,210,7],[191,8,212,6,"pc"],[191,10,212,8],[191,11,212,9,"ontrack"],[191,18,212,16],[191,21,212,20,"event"],[191,26,212,25],[191,30,212,30],[192,10,213,8],[192,16,213,14,"audio"],[192,21,213,19],[192,24,213,22,"ensureRemoteAudio"],[192,41,213,39],[192,42,213,40],[192,43,213,41],[193,10,214,8],[193,14,214,12,"audio"],[193,19,214,17],[193,21,214,19],[194,12,215,10,"audio"],[194,17,215,15],[194,18,215,16,"srcObject"],[194,27,215,25],[194,30,215,28,"event"],[194,35,215,33],[194,36,215,34,"streams"],[194,43,215,41],[194,44,215,42],[194,45,215,43],[194,46,215,44],[195,12,216,10,"audio"],[195,17,216,15],[195,18,216,16,"play"],[195,22,216,20],[195,23,216,21],[195,24,216,22],[195,25,216,23,"catch"],[195,30,216,28],[195,31,216,29,"console"],[195,38,216,36],[195,39,216,37,"error"],[195,44,216,42],[195,45,216,43],[196,10,217,8],[197,8,218,6],[197,9,218,7],[198,8,220,6,"pc"],[198,10,220,8],[198,11,220,9,"onconnectionstatechange"],[198,34,220,32],[198,37,220,35],[198,43,220,41],[199,10,221,8],[199,14,221,12,"pc"],[199,16,221,14],[199,17,221,15,"connectionState"],[199,32,221,30],[199,37,221,35],[199,48,221,46],[199,50,221,48],[200,12,222,10,"setCallState"],[200,24,222,22],[200,25,222,23],[200,36,222,34],[200,37,222,35],[201,12,223,10,"startCallTimer"],[201,26,223,24],[201,27,223,25],[201,28,223,26],[202,10,224,8],[202,11,224,9],[202,17,224,15],[202,21,224,19,"pc"],[202,23,224,21],[202,24,224,22,"connectionState"],[202,39,224,37],[202,44,224,42],[202,58,224,56],[202,62,224,60,"pc"],[202,64,224,62],[202,65,224,63,"connectionState"],[202,80,224,78],[202,85,224,83],[202,93,224,91],[202,95,224,93],[203,12,225,10,"cleanupCall"],[203,23,225,21],[203,24,225,22],[203,25,225,23],[204,10,226,8],[205,8,227,6],[205,9,227,7],[206,8,229,6],[206,12,229,10,"createOffer"],[206,23,229,21],[206,25,229,23],[207,10,230,8],[207,16,230,14,"offer"],[207,21,230,19],[207,24,230,22],[207,30,230,28,"pc"],[207,32,230,30],[207,33,230,31,"createOffer"],[207,44,230,42],[207,45,230,43],[207,46,230,44],[208,10,231,8],[208,16,231,14,"pc"],[208,18,231,16],[208,19,231,17,"setLocalDescription"],[208,38,231,36],[208,39,231,37,"offer"],[208,44,231,42],[208,45,231,43],[209,10,232,8,"socketRef"],[209,19,232,17],[209,20,232,18,"current"],[209,27,232,25],[209,29,232,27,"emit"],[209,33,232,31],[209,34,232,32],[209,48,232,46],[209,50,232,48],[210,12,233,10,"call_id"],[210,19,233,17],[210,21,233,19,"currentCallIdRef"],[210,37,233,35],[210,38,233,36,"current"],[210,45,233,43],[211,12,234,10,"offer"],[211,17,234,15],[211,19,234,17,"offer"],[212,10,235,8],[212,11,235,9],[212,12,235,10],[213,8,236,6],[214,6,237,4],[214,7,237,5],[214,8,237,6],[214,15,237,13,"error"],[214,20,237,18],[214,22,237,20],[215,8,238,6,"console"],[215,15,238,13],[215,16,238,14,"error"],[215,21,238,19],[215,22,238,20],[215,37,238,35],[215,39,238,37,"error"],[215,44,238,42],[215,45,238,43],[216,8,239,6,"Alert"],[216,13,239,11],[216,14,239,11,"default"],[216,21,239,11],[216,22,239,12,"alert"],[216,27,239,17],[216,28,239,18],[216,35,239,25],[216,37,239,27],[216,66,239,56],[216,67,239,57],[217,8,240,6,"cleanupCall"],[217,19,240,17],[217,20,240,18],[217,21,240,19],[218,6,241,4],[219,4,242,2],[219,5,242,3],[220,4,244,2],[220,10,244,8,"handleOffer"],[220,21,244,19],[220,24,244,22],[220,30,244,29,"offer"],[220,35,244,61],[220,39,244,66],[221,6,245,4],[221,10,245,8,"Platform"],[221,18,245,16],[221,19,245,16,"default"],[221,26,245,16],[221,27,245,17,"OS"],[221,29,245,19],[221,34,245,24],[221,39,245,29],[221,41,245,31],[222,6,247,4],[222,10,247,8],[222,11,247,9,"peerConnectionRef"],[222,28,247,26],[222,29,247,27,"current"],[222,36,247,34],[222,38,247,36],[223,8,248,6],[223,14,248,12,"startWebRTCConnection"],[223,35,248,33],[223,36,248,34],[223,41,248,39],[223,42,248,40],[224,6,249,4],[225,6,251,4],[225,12,251,10,"peerConnectionRef"],[225,29,251,27],[225,30,251,28,"current"],[225,37,251,35],[225,39,251,37,"setRemoteDescription"],[225,59,251,57],[225,60,251,58],[225,64,251,62,"RTCSessionDescription"],[225,85,251,83],[225,86,251,84,"offer"],[225,91,251,89],[225,92,251,90],[225,93,251,91],[226,6,252,4],[226,12,252,10,"answer"],[226,18,252,16],[226,21,252,19],[226,27,252,25,"peerConnectionRef"],[226,44,252,42],[226,45,252,43,"current"],[226,52,252,50],[226,54,252,52,"createAnswer"],[226,66,252,64],[226,67,252,65],[226,68,252,66],[227,6,253,4],[227,12,253,10,"peerConnectionRef"],[227,29,253,27],[227,30,253,28,"current"],[227,37,253,35],[227,39,253,37,"setLocalDescription"],[227,58,253,56],[227,59,253,57,"answer"],[227,65,253,63],[227,66,253,64],[228,6,255,4,"socketRef"],[228,15,255,13],[228,16,255,14,"current"],[228,23,255,21],[228,25,255,23,"emit"],[228,29,255,27],[228,30,255,28],[228,45,255,43],[228,47,255,45],[229,8,256,6,"call_id"],[229,15,256,13],[229,17,256,15,"currentCallIdRef"],[229,33,256,31],[229,34,256,32,"current"],[229,41,256,39],[230,8,257,6,"answer"],[230,14,257,12],[230,16,257,14,"answer"],[231,6,258,4],[231,7,258,5],[231,8,258,6],[232,6,260,4,"setCallState"],[232,18,260,16],[232,19,260,17],[232,30,260,28],[232,31,260,29],[233,6,261,4,"startCallTimer"],[233,20,261,18],[233,21,261,19],[233,22,261,20],[234,4,262,2],[234,5,262,3],[235,4,264,2],[235,10,264,8,"handleAnswer"],[235,22,264,20],[235,25,264,23],[235,31,264,30,"answer"],[235,37,264,63],[235,41,264,68],[236,6,265,4],[236,10,265,8,"Platform"],[236,18,265,16],[236,19,265,16,"default"],[236,26,265,16],[236,27,265,17,"OS"],[236,29,265,19],[236,34,265,24],[236,39,265,29],[236,41,265,31],[237,6,266,4],[237,12,266,10,"peerConnectionRef"],[237,29,266,27],[237,30,266,28,"current"],[237,37,266,35],[237,39,266,37,"setRemoteDescription"],[237,59,266,57],[237,60,266,58],[237,64,266,62,"RTCSessionDescription"],[237,85,266,83],[237,86,266,84,"answer"],[237,92,266,90],[237,93,266,91],[237,94,266,92],[238,6,267,4,"setCallState"],[238,18,267,16],[238,19,267,17],[238,30,267,28],[238,31,267,29],[239,6,268,4,"startCallTimer"],[239,20,268,18],[239,21,268,19],[239,22,268,20],[240,4,269,2],[240,5,269,3],[241,4,271,2],[241,10,271,8,"handleIceCandidate"],[241,28,271,26],[241,31,271,29],[241,37,271,36,"candidate"],[241,46,271,66],[241,50,271,71],[242,6,272,4],[242,10,272,8,"Platform"],[242,18,272,16],[242,19,272,16,"default"],[242,26,272,16],[242,27,272,17,"OS"],[242,29,272,19],[242,34,272,24],[242,39,272,29],[242,43,272,33],[242,44,272,34,"candidate"],[242,53,272,43],[242,55,272,45],[243,6,273,4],[243,12,273,10,"peerConnectionRef"],[243,29,273,27],[243,30,273,28,"current"],[243,37,273,35],[243,39,273,37,"addIceCandidate"],[243,54,273,52],[243,55,273,53],[243,59,273,57,"RTCIceCandidate"],[243,74,273,72],[243,75,273,73,"candidate"],[243,84,273,82],[243,85,273,83],[243,86,273,84],[244,4,274,2],[244,5,274,3],[245,4,276,2],[245,10,276,8,"initiateCall"],[245,22,276,20],[245,25,276,23],[245,31,276,23,"initiateCall"],[245,32,276,30,"targetUserId"],[245,44,276,50],[245,46,276,52,"targetName"],[245,56,276,70],[245,61,276,75],[246,6,277,4],[246,10,277,8,"Platform"],[246,18,277,16],[246,19,277,16,"default"],[246,26,277,16],[246,27,277,17,"OS"],[246,29,277,19],[246,34,277,24],[246,39,277,29],[246,41,277,31],[247,8,278,6,"Alert"],[247,13,278,11],[247,14,278,11,"default"],[247,21,278,11],[247,22,278,12,"alert"],[247,27,278,17],[247,28,278,18],[247,43,278,33],[247,45,278,35],[247,87,278,77],[247,88,278,78],[248,8,279,6],[249,6,280,4],[250,6,282,4],[250,10,282,8,"callState"],[250,19,282,17],[250,24,282,22],[250,30,282,28],[250,32,282,30],[251,8,283,6,"Alert"],[251,13,283,11],[251,14,283,11,"default"],[251,21,283,11],[251,22,283,12,"alert"],[251,27,283,17],[251,28,283,18],[251,34,283,24],[251,36,283,26],[251,63,283,53],[251,64,283,54],[252,8,284,6],[253,6,285,4],[255,6,287,4],[256,6,288,4,"initializeSocket"],[256,22,288,20],[256,23,288,21],[256,24,288,22],[257,6,290,4,"setCallInfo"],[257,17,290,15],[257,18,290,16],[258,8,291,6,"callId"],[258,14,291,12],[258,16,291,14],[258,18,291,16],[259,8,292,6,"peerName"],[259,16,292,14],[259,18,292,16,"targetName"],[259,28,292,26],[260,8,293,6,"callType"],[260,16,293,14],[260,18,293,16],[260,25,293,23],[261,8,294,6,"isIncoming"],[261,18,294,16],[261,20,294,18],[262,6,295,4],[262,7,295,5],[262,8,295,6],[263,6,296,4,"setCallState"],[263,18,296,16],[263,19,296,17],[263,31,296,29],[263,32,296,30],[265,6,298,4],[266,6,299,4],[266,10,299,8,"attempts"],[266,18,299,16],[266,21,299,19],[266,22,299,20],[267,6,300,4],[267,13,300,11],[267,14,300,12,"socketRef"],[267,23,300,21],[267,24,300,22,"current"],[267,31,300,29],[267,33,300,31,"connected"],[267,42,300,40],[267,46,300,44,"attempts"],[267,54,300,52],[267,57,300,55],[267,59,300,57],[267,61,300,59],[268,8,301,6],[268,14,301,12],[268,18,301,16,"Promise"],[268,25,301,23],[268,26,301,25,"resolve"],[268,33,301,32],[268,37,301,37,"setTimeout"],[268,47,301,47],[268,48,301,48,"resolve"],[268,55,301,55],[268,57,301,57],[268,60,301,60],[268,61,301,61],[268,62,301,62],[269,8,302,6,"attempts"],[269,16,302,14],[269,18,302,16],[270,6,303,4],[271,6,305,4],[271,10,305,8],[271,11,305,9,"socketRef"],[271,20,305,18],[271,21,305,19,"current"],[271,28,305,26],[271,30,305,28,"connected"],[271,39,305,37],[271,41,305,39],[272,8,306,6,"Alert"],[272,13,306,11],[272,14,306,11,"default"],[272,21,306,11],[272,22,306,12,"alert"],[272,27,306,17],[272,28,306,18],[272,46,306,36],[272,48,306,38],[272,101,306,91],[272,102,306,92],[273,8,307,6,"cleanupCall"],[273,19,307,17],[273,20,307,18],[273,21,307,19],[274,8,308,6],[275,6,309,4],[277,6,311,4],[278,6,312,4],[278,12,312,10,"callerId"],[278,20,312,18],[278,23,312,21],[278,35,312,33,"Date"],[278,39,312,37],[278,40,312,38,"now"],[278,43,312,41],[278,44,312,42],[278,45,312,43],[278,47,312,45],[280,6,314,4],[281,6,315,4,"socketRef"],[281,15,315,13],[281,16,315,14,"current"],[281,23,315,21],[281,25,315,23,"emit"],[281,29,315,27],[281,30,315,28],[281,40,315,38],[281,42,315,40],[282,8,316,6,"user_id"],[282,15,316,13],[282,17,316,15,"callerId"],[282,25,316,23],[283,8,317,6,"user_type"],[283,17,317,15],[283,19,317,17],[283,25,317,23],[284,8,318,6,"name"],[284,12,318,10],[284,14,318,12],[284,24,318,22],[285,8,319,6,"status"],[285,14,319,12],[285,16,319,14],[286,6,320,4],[286,7,320,5],[286,8,320,6],[288,6,322,4],[289,6,323,4],[289,12,323,10],[289,16,323,14,"Promise"],[289,23,323,21],[289,24,323,23,"resolve"],[289,31,323,30],[289,35,323,35,"setTimeout"],[289,45,323,45],[289,46,323,46,"resolve"],[289,53,323,53],[289,55,323,55],[289,58,323,58],[289,59,323,59],[289,60,323,60],[291,6,325,4],[292,6,326,4,"socketRef"],[292,15,326,13],[292,16,326,14,"current"],[292,23,326,21],[292,25,326,23,"emit"],[292,29,326,27],[292,30,326,28],[292,45,326,43],[292,47,326,45],[293,8,327,6,"target_user_id"],[293,22,327,20],[293,24,327,22,"targetUserId"],[293,36,327,34],[294,8,328,6,"caller_name"],[294,19,328,17],[294,21,328,19],[294,31,328,29],[295,8,329,6,"call_type"],[295,17,329,15],[295,19,329,17],[296,6,330,4],[296,7,330,5],[296,8,330,6],[297,4,331,2],[297,5,331,3],[298,4,333,2],[298,10,333,8,"acceptCall"],[298,20,333,18],[298,23,333,21],[298,27,333,21,"useCallback"],[298,33,333,32],[298,34,333,32,"useCallback"],[298,45,333,32],[298,47,333,33],[298,53,333,39],[299,6,334,4],[299,10,334,8],[299,11,334,9,"currentCallIdRef"],[299,27,334,25],[299,28,334,26,"current"],[299,35,334,33],[299,37,334,35],[300,6,335,4,"socketRef"],[300,15,335,13],[300,16,335,14,"current"],[300,23,335,21],[300,25,335,23,"emit"],[300,29,335,27],[300,30,335,28],[300,43,335,41],[300,45,335,43],[301,8,335,45,"call_id"],[301,15,335,52],[301,17,335,54,"currentCallIdRef"],[301,33,335,70],[301,34,335,71,"current"],[302,6,335,79],[302,7,335,80],[302,8,335,81],[303,6,336,4,"setCallState"],[303,18,336,16],[303,19,336,17],[303,31,336,29],[303,32,336,30],[304,6,337,4,"startWebRTCConnection"],[304,27,337,25],[304,28,337,26],[304,33,337,31],[304,34,337,32],[305,4,338,2],[305,5,338,3],[305,7,338,5],[305,9,338,7],[305,10,338,8],[306,4,340,2],[306,10,340,8,"rejectCall"],[306,20,340,18],[306,23,340,21],[306,27,340,21,"useCallback"],[306,33,340,32],[306,34,340,32,"useCallback"],[306,45,340,32],[306,47,340,33],[306,53,340,39],[307,6,341,4],[307,10,341,8],[307,11,341,9,"currentCallIdRef"],[307,27,341,25],[307,28,341,26,"current"],[307,35,341,33],[307,37,341,35],[308,6,342,4,"socketRef"],[308,15,342,13],[308,16,342,14,"current"],[308,23,342,21],[308,25,342,23,"emit"],[308,29,342,27],[308,30,342,28],[308,43,342,41],[308,45,342,43],[309,8,343,6,"call_id"],[309,15,343,13],[309,17,343,15,"currentCallIdRef"],[309,33,343,31],[309,34,343,32,"current"],[309,41,343,39],[310,8,344,6,"reason"],[310,14,344,12],[310,16,344,14],[311,6,345,4],[311,7,345,5],[311,8,345,6],[312,6,346,4,"cleanupCall"],[312,17,346,15],[312,18,346,16],[312,19,346,17],[313,4,347,2],[313,5,347,3],[313,7,347,5],[313,9,347,7],[313,10,347,8],[314,4,349,2],[314,10,349,8,"endCall"],[314,17,349,15],[314,20,349,18],[314,24,349,18,"useCallback"],[314,30,349,29],[314,31,349,29,"useCallback"],[314,42,349,29],[314,44,349,30],[314,50,349,36],[315,6,350,4],[315,10,350,8],[315,11,350,9,"currentCallIdRef"],[315,27,350,25],[315,28,350,26,"current"],[315,35,350,33],[315,37,350,35],[316,6,351,4,"socketRef"],[316,15,351,13],[316,16,351,14,"current"],[316,23,351,21],[316,25,351,23,"emit"],[316,29,351,27],[316,30,351,28],[316,40,351,38],[316,42,351,40],[317,8,351,42,"call_id"],[317,15,351,49],[317,17,351,51,"currentCallIdRef"],[317,33,351,67],[317,34,351,68,"current"],[318,6,351,76],[318,7,351,77],[318,8,351,78],[319,6,352,4,"cleanupCall"],[319,17,352,15],[319,18,352,16],[319,19,352,17],[320,4,353,2],[320,5,353,3],[320,7,353,5],[320,9,353,7],[320,10,353,8],[321,4,355,2],[321,10,355,8,"startCallTimer"],[321,24,355,22],[321,27,355,25,"startCallTimer"],[321,28,355,25],[321,33,355,31],[322,6,356,4,"setCallDuration"],[322,21,356,19],[322,22,356,20],[322,23,356,21],[322,24,356,22],[323,6,357,4,"callTimerRef"],[323,18,357,16],[323,19,357,17,"current"],[323,26,357,24],[323,29,357,27,"setInterval"],[323,40,357,38],[323,41,357,39],[323,47,357,45],[324,8,358,6,"setCallDuration"],[324,23,358,21],[324,24,358,23,"prev"],[324,28,358,27],[324,32,358,32,"prev"],[324,36,358,36],[324,39,358,39],[324,40,358,40],[324,41,358,41],[325,6,359,4],[325,7,359,5],[325,9,359,7],[325,13,359,11],[325,14,359,12],[326,4,360,2],[326,5,360,3],[327,4,362,2],[327,10,362,8,"cleanupCall"],[327,21,362,19],[327,24,362,22],[327,28,362,22,"useCallback"],[327,34,362,33],[327,35,362,33,"useCallback"],[327,46,362,33],[327,48,362,34],[327,54,362,40],[328,6,363,4,"localStreamRef"],[328,20,363,18],[328,21,363,19,"current"],[328,28,363,26],[328,30,363,28,"getTracks"],[328,39,363,37],[328,40,363,38],[328,41,363,39],[328,42,363,40,"forEach"],[328,49,363,47],[328,50,363,49,"track"],[328,55,363,54],[328,59,363,59,"track"],[328,64,363,64],[328,65,363,65,"stop"],[328,69,363,69],[328,70,363,70],[328,71,363,71],[328,72,363,72],[329,6,364,4,"localStreamRef"],[329,20,364,18],[329,21,364,19,"current"],[329,28,364,26],[329,31,364,29],[329,35,364,33],[330,6,366,4,"peerConnectionRef"],[330,23,366,21],[330,24,366,22,"current"],[330,31,366,29],[330,33,366,31,"close"],[330,38,366,36],[330,39,366,37],[330,40,366,38],[331,6,367,4,"peerConnectionRef"],[331,23,367,21],[331,24,367,22,"current"],[331,31,367,29],[331,34,367,32],[331,38,367,36],[332,6,369,4],[332,10,369,8,"callTimerRef"],[332,22,369,20],[332,23,369,21,"current"],[332,30,369,28],[332,32,369,30],[333,8,370,6,"clearInterval"],[333,21,370,19],[333,22,370,20,"callTimerRef"],[333,34,370,32],[333,35,370,33,"current"],[333,42,370,40],[333,43,370,41],[334,8,371,6,"callTimerRef"],[334,20,371,18],[334,21,371,19,"current"],[334,28,371,26],[334,31,371,29],[334,35,371,33],[335,6,372,4],[336,6,374,4,"currentCallIdRef"],[336,22,374,20],[336,23,374,21,"current"],[336,30,374,28],[336,33,374,31],[336,37,374,35],[337,6,375,4,"setCallState"],[337,18,375,16],[337,19,375,17],[337,25,375,23],[337,26,375,24],[338,6,376,4,"setCallInfo"],[338,17,376,15],[338,18,376,16],[338,22,376,20],[338,23,376,21],[339,6,377,4,"setCallDuration"],[339,21,377,19],[339,22,377,20],[339,23,377,21],[339,24,377,22],[340,4,378,2],[340,5,378,3],[340,7,378,5],[340,9,378,7],[340,10,378,8],[341,4,380,2],[341,8,380,2,"useEffect"],[341,14,380,11],[341,15,380,11,"useEffect"],[341,24,380,11],[341,26,380,12],[341,32,380,18],[342,6,381,4],[342,13,381,11],[342,19,381,17],[343,8,382,6,"cleanupCall"],[343,19,382,17],[343,20,382,18],[343,21,382,19],[344,8,383,6,"socketRef"],[344,17,383,15],[344,18,383,16,"current"],[344,25,383,23],[344,27,383,25,"disconnect"],[344,37,383,35],[344,38,383,36],[344,39,383,37],[345,6,384,4],[345,7,384,5],[346,4,385,2],[346,5,385,3],[346,7,385,5],[346,8,385,6,"cleanupCall"],[346,19,385,17],[346,20,385,18],[346,21,385,19],[347,4,387,2],[347,11,387,9],[348,6,388,4,"callState"],[348,15,388,13],[349,6,389,4,"callInfo"],[349,14,389,12],[350,6,390,4,"isConnected"],[350,17,390,15],[351,6,391,4,"callDuration"],[351,18,391,16],[352,6,392,4,"initiateCall"],[352,18,392,16],[353,6,393,4,"acceptCall"],[353,16,393,14],[354,6,394,4,"rejectCall"],[354,16,394,14],[355,6,395,4,"endCall"],[355,13,395,11],[356,6,396,4,"register"],[357,4,397,2],[357,5,397,3],[358,2,398,0],[359,2,400,7],[359,11,400,16,"formatCallDuration"],[359,29,400,34,"formatCallDuration"],[359,30,400,35,"seconds"],[359,37,400,50],[359,39,400,60],[360,4,401,2],[360,10,401,8,"mins"],[360,14,401,12],[360,17,401,15,"Math"],[360,21,401,19],[360,22,401,20,"floor"],[360,27,401,25],[360,28,401,26,"seconds"],[360,35,401,33],[360,38,401,36],[360,40,401,38],[360,41,401,39],[361,4,402,2],[361,10,402,8,"secs"],[361,14,402,12],[361,17,402,15,"seconds"],[361,24,402,22],[361,27,402,25],[361,29,402,27],[362,4,403,2],[362,11,403,9],[362,14,403,12,"mins"],[362,18,403,16],[362,19,403,17,"toString"],[362,27,403,25],[362,28,403,26],[362,29,403,27],[362,30,403,28,"padStart"],[362,38,403,36],[362,39,403,37],[362,40,403,38],[362,42,403,40],[362,45,403,43],[362,46,403,44],[362,50,403,48,"secs"],[362,54,403,52],[362,55,403,53,"toString"],[362,63,403,61],[362,64,403,62],[362,65,403,63],[362,66,403,64,"padStart"],[362,74,403,72],[362,75,403,73],[362,76,403,74],[362,78,403,76],[362,81,403,79],[362,82,403,80],[362,84,403,82],[363,2,404,0],[364,0,404,1],[364,3]],"functionMap":{"names":["<global>","useWebRTCCall","initializeSocket","socketRef.current.on$argument_1","register","setTimeout$argument_0","ensureRemoteAudio","startWebRTCConnection","stream.getTracks.forEach$argument_0","pc.onicecandidate","pc.ontrack","pc.onconnectionstatechange","handleOffer","handleAnswer","handleIceCandidate","initiateCall","Promise$argument_0","acceptCall","rejectCall","endCall","startCallTimer","setInterval$argument_0","setCallDuration$argument_0","cleanupCall","localStreamRef.current.getTracks.forEach$argument_0","useEffect$argument_0","<anonymous>","formatCallDuration"],"mappings":"AAA;OCyC;uCCc;oCC2B;KDG;uCCE;KDI;uCCE;KDE;0CCG;KDU;0CCG;KDI;2CCG;KDI;0CCG;KDG;uCCE;KDE;wCCE;KDG;yCCE;KDE;yCCG;KDE;0CCE;KDE;iDCE;KDE;GDC;+BGG;eCK;KDO;GHC;4BKG;GLW;gCMG;iCCU;ODE;0BEE;OFO;mBGE;OHM;mCIE;OJO;GNe;sBWE;GXkB;uBYE;GZK;6BaE;GbG;uBcE;wBCyB,qCD;sBCsB,qCD;GdQ;iCgBE;GhBK;iCiBE;GjBO;8BkBE;GlBI;yBmBE;uCCE;sBCC,kBD;KDC;GnBC;kCsBE;gDCC,uBD;GtBe;YwBE;WCC;KDG;GxBC;CDa;O2BE;C3BI"},"hasCjsExports":false},"type":"js/module"}]}